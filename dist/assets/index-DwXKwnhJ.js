var Ry=Object.defineProperty;var Dy=(n,e,a)=>e in n?Ry(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a;var Ra=(n,e,a)=>Dy(n,typeof e!="symbol"?e+"":e,a);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();var b6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var km={exports:{}},dd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function My(){if(O1)return dd;O1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var h in l)h!=="key"&&(c[h]=l[h])}else c=l;return l=c.ref,{$$typeof:n,type:s,key:d,ref:l!==void 0?l:null,props:c}}return dd.Fragment=e,dd.jsx=a,dd.jsxs=a,dd}var R1;function Py(){return R1||(R1=1,km.exports=My()),km.exports}var i=Py(),Lm={exports:{}},Qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1;function Iy(){if(D1)return Qt;D1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),_=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=_&&H[_]||H["@@iterator"],typeof H=="function"?H:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,O={};function L(H,S,I){this.props=H,this.context=S,this.refs=O,this.updater=I||C}L.prototype.isReactComponent={},L.prototype.setState=function(H,S){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,S,"setState")},L.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function T(){}T.prototype=L.prototype;function R(H,S,I){this.props=H,this.context=S,this.refs=O,this.updater=I||C}var F=R.prototype=new T;F.constructor=R,k(F,L.prototype),F.isPureReactComponent=!0;var ne=Array.isArray;function de(){}var W={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function K(H,S,I){var q=I.ref;return{$$typeof:n,type:H,key:S,ref:q!==void 0?q:null,props:I}}function we(H,S){return K(H.type,S,H.props)}function P(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function $(H){var S={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(I){return S[I]})}var oe=/\/+/g;function ue(H,S){return typeof H=="object"&&H!==null&&H.key!=null?$(""+H.key):S.toString(36)}function Ce(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(de,de):(H.status="pending",H.then(function(S){H.status==="pending"&&(H.status="fulfilled",H.value=S)},function(S){H.status==="pending"&&(H.status="rejected",H.reason=S)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function re(H,S,I,q,G){var ie=typeof H;(ie==="undefined"||ie==="boolean")&&(H=null);var he=!1;if(H===null)he=!0;else switch(ie){case"bigint":case"string":case"number":he=!0;break;case"object":switch(H.$$typeof){case n:case e:he=!0;break;case v:return he=H._init,re(he(H._payload),S,I,q,G)}}if(he)return G=G(H),he=q===""?"."+ue(H,0):q,ne(G)?(I="",he!=null&&(I=he.replace(oe,"$&/")+"/"),re(G,S,I,"",function(B){return B})):G!=null&&(P(G)&&(G=we(G,I+(G.key==null||H&&H.key===G.key?"":(""+G.key).replace(oe,"$&/")+"/")+he)),S.push(G)),1;he=0;var ke=q===""?".":q+":";if(ne(H))for(var ce=0;ce<H.length;ce++)q=H[ce],ie=ke+ue(q,ce),he+=re(q,S,I,ie,G);else if(ce=y(H),typeof ce=="function")for(H=ce.call(H),ce=0;!(q=H.next()).done;)q=q.value,ie=ke+ue(q,ce++),he+=re(q,S,I,ie,G);else if(ie==="object"){if(typeof H.then=="function")return re(Ce(H),S,I,q,G);throw S=String(H),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.")}return he}function ge(H,S,I){if(H==null)return H;var q=[],G=0;return re(H,q,"","",function(ie){return S.call(I,ie,G++)}),q}function me(H){if(H._status===-1){var S=H._result;S=S(),S.then(function(I){(H._status===0||H._status===-1)&&(H._status=1,H._result=I)},function(I){(H._status===0||H._status===-1)&&(H._status=2,H._result=I)}),H._status===-1&&(H._status=0,H._result=S)}if(H._status===1)return H._result.default;throw H._result}var Oe=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},xe={map:ge,forEach:function(H,S,I){ge(H,function(){S.apply(this,arguments)},I)},count:function(H){var S=0;return ge(H,function(){S++}),S},toArray:function(H){return ge(H,function(S){return S})||[]},only:function(H){if(!P(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Qt.Activity=j,Qt.Children=xe,Qt.Component=L,Qt.Fragment=a,Qt.Profiler=l,Qt.PureComponent=R,Qt.StrictMode=s,Qt.Suspense=f,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Qt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return W.H.useMemoCache(H)}},Qt.cache=function(H){return function(){return H.apply(null,arguments)}},Qt.cacheSignal=function(){return null},Qt.cloneElement=function(H,S,I){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var q=k({},H.props),G=H.key;if(S!=null)for(ie in S.key!==void 0&&(G=""+S.key),S)!se.call(S,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&S.ref===void 0||(q[ie]=S[ie]);var ie=arguments.length-2;if(ie===1)q.children=I;else if(1<ie){for(var he=Array(ie),ke=0;ke<ie;ke++)he[ke]=arguments[ke+2];q.children=he}return K(H.type,G,q)},Qt.createContext=function(H){return H={$$typeof:d,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:c,_context:H},H},Qt.createElement=function(H,S,I){var q,G={},ie=null;if(S!=null)for(q in S.key!==void 0&&(ie=""+S.key),S)se.call(S,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(G[q]=S[q]);var he=arguments.length-2;if(he===1)G.children=I;else if(1<he){for(var ke=Array(he),ce=0;ce<he;ce++)ke[ce]=arguments[ce+2];G.children=ke}if(H&&H.defaultProps)for(q in he=H.defaultProps,he)G[q]===void 0&&(G[q]=he[q]);return K(H,ie,G)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(H){return{$$typeof:h,render:H}},Qt.isValidElement=P,Qt.lazy=function(H){return{$$typeof:v,_payload:{_status:-1,_result:H},_init:me}},Qt.memo=function(H,S){return{$$typeof:p,type:H,compare:S===void 0?null:S}},Qt.startTransition=function(H){var S=W.T,I={};W.T=I;try{var q=H(),G=W.S;G!==null&&G(I,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(de,Oe)}catch(ie){Oe(ie)}finally{S!==null&&I.types!==null&&(S.types=I.types),W.T=S}},Qt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Qt.use=function(H){return W.H.use(H)},Qt.useActionState=function(H,S,I){return W.H.useActionState(H,S,I)},Qt.useCallback=function(H,S){return W.H.useCallback(H,S)},Qt.useContext=function(H){return W.H.useContext(H)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(H,S){return W.H.useDeferredValue(H,S)},Qt.useEffect=function(H,S){return W.H.useEffect(H,S)},Qt.useEffectEvent=function(H){return W.H.useEffectEvent(H)},Qt.useId=function(){return W.H.useId()},Qt.useImperativeHandle=function(H,S,I){return W.H.useImperativeHandle(H,S,I)},Qt.useInsertionEffect=function(H,S){return W.H.useInsertionEffect(H,S)},Qt.useLayoutEffect=function(H,S){return W.H.useLayoutEffect(H,S)},Qt.useMemo=function(H,S){return W.H.useMemo(H,S)},Qt.useOptimistic=function(H,S){return W.H.useOptimistic(H,S)},Qt.useReducer=function(H,S,I){return W.H.useReducer(H,S,I)},Qt.useRef=function(H){return W.H.useRef(H)},Qt.useState=function(H){return W.H.useState(H)},Qt.useSyncExternalStore=function(H,S,I){return W.H.useSyncExternalStore(H,S,I)},Qt.useTransition=function(){return W.H.useTransition()},Qt.version="19.2.3",Qt}var M1;function Y0(){return M1||(M1=1,Lm.exports=Iy()),Lm.exports}var ae=Y0();const Uy=Gb(ae);var Tm={exports:{}},hd={},Om={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function By(){return P1||(P1=1,(function(n){function e(re,ge){var me=re.length;re.push(ge);e:for(;0<me;){var Oe=me-1>>>1,xe=re[Oe];if(0<l(xe,ge))re[Oe]=ge,re[me]=xe,me=Oe;else break e}}function a(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var ge=re[0],me=re.pop();if(me!==ge){re[0]=me;e:for(var Oe=0,xe=re.length,H=xe>>>1;Oe<H;){var S=2*(Oe+1)-1,I=re[S],q=S+1,G=re[q];if(0>l(I,me))q<xe&&0>l(G,I)?(re[Oe]=G,re[q]=me,Oe=q):(re[Oe]=I,re[S]=me,Oe=S);else if(q<xe&&0>l(G,me))re[Oe]=G,re[q]=me,Oe=q;else break e}}return ge}function l(re,ge){var me=re.sortIndex-ge.sortIndex;return me!==0?me:re.id-ge.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var f=[],p=[],v=1,j=null,_=3,y=!1,C=!1,k=!1,O=!1,L=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function F(re){for(var ge=a(p);ge!==null;){if(ge.callback===null)s(p);else if(ge.startTime<=re)s(p),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=a(p)}}function ne(re){if(k=!1,F(re),!C)if(a(f)!==null)C=!0,de||(de=!0,$());else{var ge=a(p);ge!==null&&Ce(ne,ge.startTime-re)}}var de=!1,W=-1,se=5,K=-1;function we(){return O?!0:!(n.unstable_now()-K<se)}function P(){if(O=!1,de){var re=n.unstable_now();K=re;var ge=!0;try{e:{C=!1,k&&(k=!1,T(W),W=-1),y=!0;var me=_;try{t:{for(F(re),j=a(f);j!==null&&!(j.expirationTime>re&&we());){var Oe=j.callback;if(typeof Oe=="function"){j.callback=null,_=j.priorityLevel;var xe=Oe(j.expirationTime<=re);if(re=n.unstable_now(),typeof xe=="function"){j.callback=xe,F(re),ge=!0;break t}j===a(f)&&s(f),F(re)}else s(f);j=a(f)}if(j!==null)ge=!0;else{var H=a(p);H!==null&&Ce(ne,H.startTime-re),ge=!1}}break e}finally{j=null,_=me,y=!1}ge=void 0}}finally{ge?$():de=!1}}}var $;if(typeof R=="function")$=function(){R(P)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ue=oe.port2;oe.port1.onmessage=P,$=function(){ue.postMessage(null)}}else $=function(){L(P,0)};function Ce(re,ge){W=L(function(){re(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(re){switch(_){case 1:case 2:case 3:var ge=3;break;default:ge=_}var me=_;_=ge;try{return re()}finally{_=me}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(re,ge){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var me=_;_=re;try{return ge()}finally{_=me}},n.unstable_scheduleCallback=function(re,ge,me){var Oe=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Oe+me:Oe):me=Oe,re){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=me+xe,re={id:v++,callback:ge,priorityLevel:re,startTime:me,expirationTime:xe,sortIndex:-1},me>Oe?(re.sortIndex=me,e(p,re),a(f)===null&&re===a(p)&&(k?(T(W),W=-1):k=!0,Ce(ne,me-Oe))):(re.sortIndex=xe,e(f,re),C||y||(C=!0,de||(de=!0,$()))),re},n.unstable_shouldYield=we,n.unstable_wrapCallback=function(re){var ge=_;return function(){var me=_;_=ge;try{return re.apply(this,arguments)}finally{_=me}}}})(Rm)),Rm}var I1;function qy(){return I1||(I1=1,Om.exports=By()),Om.exports}var Dm={exports:{}},Ar={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function zy(){if(U1)return Ar;U1=1;var n=Y0();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(f,p,v){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:j==null?null:""+j,children:f,containerInfo:p,implementation:v}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ar.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(f,p,null,v)},Ar.flushSync=function(f){var p=d.T,v=s.p;try{if(d.T=null,s.p=2,f)return f()}finally{d.T=p,s.p=v,s.d.f()}},Ar.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},Ar.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Ar.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var v=p.as,j=h(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,y=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:j,integrity:_,fetchPriority:y}):v==="script"&&s.d.X(f,{crossOrigin:j,integrity:_,fetchPriority:y,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ar.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},Ar.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,j=h(v,p.crossOrigin);s.d.L(f,v,{crossOrigin:j,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ar.preloadModule=function(f,p){if(typeof f=="string")if(p){var v=h(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},Ar.requestFormReset=function(f){s.d.r(f)},Ar.unstable_batchedUpdates=function(f,p){return f(p)},Ar.useFormState=function(f,p,v){return d.H.useFormState(f,p,v)},Ar.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ar.version="19.2.3",Ar}var B1;function Fy(){if(B1)return Dm.exports;B1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dm.exports=zy(),Dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1;function Hy(){if(q1)return hd;q1=1;var n=qy(),e=Y0(),a=Fy();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function h(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function f(t){if(c(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var o=t,u=r;;){var g=o.return;if(g===null)break;var x=g.alternate;if(x===null){if(u=g.return,u!==null){o=u;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===o)return f(g),t;if(x===u)return f(g),r;x=x.sibling}throw Error(s(188))}if(o.return!==u.return)o=g,u=x;else{for(var E=!1,V=g.child;V;){if(V===o){E=!0,o=g,u=x;break}if(V===u){E=!0,u=g,o=x;break}V=V.sibling}if(!E){for(V=x.child;V;){if(V===o){E=!0,o=x,u=g;break}if(V===u){E=!0,u=x,o=g;break}V=V.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?t:r}function v(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=v(t),r!==null)return r;t=t.sibling}return null}var j=Object.assign,_=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),we=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Symbol.for("react.client.reference");function ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===oe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case L:return"Profiler";case O:return"StrictMode";case ne:return"Suspense";case de:return"SuspenseList";case K:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case R:return t.displayName||"Context";case T:return(t._context.displayName||"Context")+".Consumer";case F:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return r=t.displayName||null,r!==null?r:ue(t.type)||"Memo";case se:r=t._payload,t=t._init;try{return ue(t(r))}catch{}}return null}var Ce=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Oe=[],xe=-1;function H(t){return{current:t}}function S(t){0>xe||(t.current=Oe[xe],Oe[xe]=null,xe--)}function I(t,r){xe++,Oe[xe]=t.current,t.current=r}var q=H(null),G=H(null),ie=H(null),he=H(null);function ke(t,r){switch(I(ie,r),I(G,t),I(q,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?t1(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=t1(r),t=a1(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}S(q),I(q,t)}function ce(){S(q),S(G),S(ie)}function B(t){t.memoizedState!==null&&I(he,t);var r=q.current,o=a1(r,t.type);r!==o&&(I(G,t),I(q,o))}function Ae(t){G.current===t&&(S(q),S(G)),he.current===t&&(S(he),od._currentValue=me)}var Ze,tt;function ot(t){if(Ze===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ze=r&&r[1]||"",tt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+t+tt}var X=!1;function at(t,r){if(!t||X)return"";X=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Ue){var Ie=Ue}Reflect.construct(t,[],Ve)}else{try{Ve.call()}catch(Ue){Ie=Ue}t.call(Ve.prototype)}}else{try{throw Error()}catch(Ue){Ie=Ue}(Ve=t())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Ue){if(Ue&&Ie&&typeof Ue.stack=="string")return[Ue.stack,Ie.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),E=x[0],V=x[1];if(E&&V){var fe=E.split(`
`),Me=V.split(`
`);for(g=u=0;u<fe.length&&!fe[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Me.length&&!Me[g].includes("DetermineComponentFrameRoot");)g++;if(u===fe.length||g===Me.length)for(u=fe.length-1,g=Me.length-1;1<=u&&0<=g&&fe[u]!==Me[g];)g--;for(;1<=u&&0<=g;u--,g--)if(fe[u]!==Me[g]){if(u!==1||g!==1)do if(u--,g--,0>g||fe[u]!==Me[g]){var ze=`
`+fe[u].replace(" at new "," at ");return t.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",t.displayName)),ze}while(1<=u&&0<=g);break}}}finally{X=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?ot(o):""}function qt(t,r){switch(t.tag){case 26:case 27:case 5:return ot(t.type);case 16:return ot("Lazy");case 13:return t.child!==r&&r!==null?ot("Suspense Fallback"):ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return at(t.type,!1);case 11:return at(t.type.render,!1);case 1:return at(t.type,!0);case 31:return ot("Activity");default:return""}}function bt(t){try{var r="",o=null;do r+=qt(t,o),o=t,t=t.return;while(t);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Z=Object.prototype.hasOwnProperty,ye=n.unstable_scheduleCallback,Ee=n.unstable_cancelCallback,We=n.unstable_shouldYield,et=n.unstable_requestPaint,St=n.unstable_now,Kt=n.unstable_getCurrentPriorityLevel,Ot=n.unstable_ImmediatePriority,$t=n.unstable_UserBlockingPriority,Yt=n.unstable_NormalPriority,ft=n.unstable_LowPriority,Dt=n.unstable_IdlePriority,mt=n.log,Ga=n.unstable_setDisableYieldValue,Jt=null,At=null;function Mt(t){if(typeof mt=="function"&&Ga(t),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Jt,t)}catch{}}var Wt=Math.clz32?Math.clz32:Nt,_t=Math.log,Ca=Math.LN2;function Nt(t){return t>>>=0,t===0?32:31-(_t(t)/Ca|0)|0}var Pt=256,Na=262144,zt=4194304;function Ke(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ra(t,r,o){var u=t.pendingLanes;if(u===0)return 0;var g=0,x=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var V=u&134217727;return V!==0?(u=V&~x,u!==0?g=Ke(u):(E&=V,E!==0?g=Ke(E):o||(o=V&~t,o!==0&&(g=Ke(o))))):(V=u&~x,V!==0?g=Ke(V):E!==0?g=Ke(E):o||(o=u&~t,o!==0&&(g=Ke(o)))),g===0?0:r!==0&&r!==g&&(r&x)===0&&(x=g&-g,o=r&-r,x>=o||x===32&&(o&4194048)!==0)?r:g}function wr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function En(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zr(){var t=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),t}function _r(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function vt(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fr(t,r,o,u,g,x){var E=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var V=t.entanglements,fe=t.expirationTimes,Me=t.hiddenUpdates;for(o=E&~o;0<o;){var ze=31-Wt(o),Ve=1<<ze;V[ze]=0,fe[ze]=-1;var Ie=Me[ze];if(Ie!==null)for(Me[ze]=null,ze=0;ze<Ie.length;ze++){var Ue=Ie[ze];Ue!==null&&(Ue.lane&=-536870913)}o&=~Ve}u!==0&&Tr(t,u,0),x!==0&&g===0&&t.tag!==0&&(t.suspendedLanes|=x&~(E&~r))}function Tr(t,r,o){t.pendingLanes|=r,t.suspendedLanes&=~r;var u=31-Wt(r);t.entangledLanes|=r,t.entanglements[u]=t.entanglements[u]|1073741824|o&261930}function Qn(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Wt(o),g=1<<u;g&r|t[u]&r&&(t[u]|=r),o&=~g}}function er(t,r){var o=r&-r;return o=(o&42)!==0?1:ka(o),(o&(t.suspendedLanes|r))!==0?0:o}function ka(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ya(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cn(){var t=ge.p;return t!==0?t:(t=window.event,t===void 0?32:S1(t.type))}function ls(t,r){var o=ge.p;try{return ge.p=t,r()}finally{ge.p=o}}var le=Math.random().toString(36).slice(2),be="__reactFiber$"+le,Pe="__reactProps$"+le,rt="__reactContainer$"+le,xt="__reactEvents$"+le,Ea="__reactListeners$"+le,aa="__reactHandles$"+le,tr="__reactResources$"+le,gn="__reactMarker$"+le;function Ft(t){delete t[be],delete t[Pe],delete t[xt],delete t[Ea],delete t[aa]}function Or(t){var r=t[be];if(r)return r;for(var o=t.parentNode;o;){if(r=o[rt]||o[be]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=c1(t);t!==null;){if(o=t[be])return o;t=c1(t)}return r}t=o,o=t.parentNode}return null}function Qe(t){if(t=t[be]||t[rt]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function kt(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function ur(t){var r=t[tr];return r||(r=t[tr]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ka(t){t[gn]=!0}var Ei=new Set,Rr={};function cs(t,r){Gs(t,r),Gs(t+"Capture",r)}function Gs(t,r){for(Rr[t]=r,t=0;t<r.length;t++)Ei.add(r[t])}var _l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nl={},jl={};function pc(t){return Z.call(jl,t)?!0:Z.call(Nl,t)?!1:_l.test(t)?jl[t]=!0:(Nl[t]=!0,!1)}function Dr(t,r,o){if(pc(r))if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+o)}}function Ys(t,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+o)}}function us(t,r,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(r,o,""+u)}}function xa(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sl(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Es(t,r,o){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,x=u.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return g.call(this)},set:function(E){o=""+E,x.call(this,E)}}),Object.defineProperty(t,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ki(t){if(!t._valueTracker){var r=Sl(t)?"checked":"value";t._valueTracker=Es(t,r,""+t[r])}}function Al(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Sl(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function dr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kn=/[\n"\\]/g;function bn(t){return t.replace(kn,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Po(t,r,o,u,g,x,E,V){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+xa(r)):t.value!==""+xa(r)&&(t.value=""+xa(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?Cl(t,E,xa(r)):o!=null?Cl(t,E,xa(o)):u!=null&&t.removeAttribute("value"),g==null&&x!=null&&(t.defaultChecked=!!x),g!=null&&(t.checked=g&&typeof g!="function"&&typeof g!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?t.name=""+xa(V):t.removeAttribute("name")}function gc(t,r,o,u,g,x,E,V){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.type=x),r!=null||o!=null){if(!(x!=="submit"&&x!=="reset"||r!=null)){ki(t);return}o=o!=null?""+xa(o):"",r=r!=null?""+xa(r):o,V||r===t.value||(t.value=r),t.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=V?t.checked:!!u,t.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),ki(t)}function Cl(t,r,o){r==="number"&&dr(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function hr(t,r,o,u){if(t=t.options,r){r={};for(var g=0;g<o.length;g++)r["$"+o[g]]=!0;for(o=0;o<t.length;o++)g=r.hasOwnProperty("$"+t[o].value),t[o].selected!==g&&(t[o].selected=g),g&&u&&(t[o].defaultSelected=!0)}else{for(o=""+xa(o),r=null,g=0;g<t.length;g++){if(t[g].value===o){t[g].selected=!0,u&&(t[g].defaultSelected=!0);return}r!==null||t[g].disabled||(r=t[g])}r!==null&&(r.selected=!0)}}function El(t,r,o){if(r!=null&&(r=""+xa(r),r!==t.value&&(t.value=r),o==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=o!=null?""+xa(o):""}function kl(t,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Ce(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=xa(r),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u),ki(t)}function ds(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Qi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bc(t,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":u?t.setProperty(r,o):typeof o!="number"||o===0||Qi.has(r)?r==="float"?t.cssFloat=o:t[r]=(""+o).trim():t[r]=o+"px"}function xc(t,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&o[g]!==u&&bc(t,g,u)}else for(var x in r)r.hasOwnProperty(x)&&bc(t,x,r[x])}function Ll(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nr(t){return vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hs(){}var Ks=null;function eo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Li=null,Lt=null;function yc(t){var r=Qe(t);if(r&&(t=r.stateNode)){var o=t[Pe]||null;e:switch(t=r.stateNode,r.type){case"input":if(Po(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var g=u[Pe]||null;if(!g)throw Error(s(90));Po(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===t.form&&Al(u)}break e;case"textarea":El(t,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&hr(t,!!o.multiple,r,!1)}}}var Ol=!1;function wc(t,r,o){if(Ol)return t(r,o);Ol=!0;try{var u=t(r);return u}finally{if(Ol=!1,(Li!==null||Lt!==null)&&(oh(),Li&&(r=Li,t=Lt,Lt=Li=null,yc(r),t)))for(r=0;r<t.length;r++)yc(t[r])}}function Mr(t,r){var o=t.stateNode;if(o===null)return null;var u=o[Pe]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rl=!1;if(Hn)try{var to={};Object.defineProperty(to,"passive",{get:function(){Rl=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{Rl=!1}var Pr=null,ao=null,ks=null;function _c(){if(ks)return ks;var t,r=ao,o=r.length,u,g="value"in Pr?Pr.value:Pr.textContent,x=g.length;for(t=0;t<o&&r[t]===g[t];t++);var E=o-t;for(u=1;u<=E&&r[o-u]===g[x-u];u++);return ks=g.slice(t,1<u?1-u:void 0)}function Hr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Io(){return!0}function Uo(){return!1}function In(t){function r(o,u,g,x,E){this._reactName=o,this._targetInst=g,this.type=u,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var V in t)t.hasOwnProperty(V)&&(o=t[V],this[V]=o?o(x):x[V]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Io:Uo,this.isPropagationStopped=Uo,this}return j(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),r}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$r=In(Ls),Js=j({},Ls,{view:0,detail:0}),Bo=In(Js),no,Ws,Xs,ro=j({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:It,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xs&&(Xs&&t.type==="mousemove"?(no=t.screenX-Xs.screenX,Ws=t.screenY-Xs.screenY):Ws=no=0,Xs=t),no)},movementY:function(t){return"movementY"in t?t.movementY:Ws}}),Dl=In(ro),Zs=j({},ro,{dataTransfer:0}),Qs=In(Zs),Nc=j({},Js,{relatedTarget:0}),ei=In(Nc),jc=j({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),w=In(jc),D=j({},Ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),te=In(D),pe=j({},Ls,{data:0}),je=In(pe),Fe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Je={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pt(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ct[t])?!!r[t]:!1}function It(){return pt}var Xt=j({},Js,{key:function(t){if(t.key){var r=Fe[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Je[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:It,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ha=In(Xt),Ja=j({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),un=In(Ja),Ma=j({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:It}),Ln=In(Ma),xn=j({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),$n=In(xn),ti=j({},ro,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fs=In(ti),ai=j({},Ls,{newState:0,oldState:0}),Ml=In(ai),qo=[9,13,27,32],Ts=Hn&&"CompositionEvent"in window,ms=null;Hn&&"documentMode"in document&&(ms=document.documentMode);var so=Hn&&"TextEvent"in window&&!ms,ni=Hn&&(!Ts||ms&&8<ms&&11>=ms),Un=" ",Ti=!1;function Oi(t,r){switch(t){case"keyup":return qo.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function fr(t,r){switch(t){case"compositionend":return zo(r);case"keypress":return r.which!==32?null:(Ti=!0,Un);case"textInput":return t=r.data,t===Un&&Ti?null:t;default:return null}}function ri(t,r){if(Os)return t==="compositionend"||!Ts&&Oi(t,r)?(t=_c(),ks=ao=Pr=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ni&&r.locale!=="ko"?null:r.data;default:return null}}var Fo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pl(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Fo[t.type]:r==="textarea"}function Ir(t,r,o,u){Li?Lt?Lt.push(u):Lt=[u]:Li=u,r=mh(r,"onChange"),0<r.length&&(o=new $r("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var ps=null,si=null;function Il(t){Jg(t,0)}function gs(t){var r=kt(t);if(Al(r))return t}function Ri(t,r){if(t==="change")return r}var jr=!1;if(Hn){var mr;if(Hn){var Rs="oninput"in document;if(!Rs){var Ds=document.createElement("div");Ds.setAttribute("oninput","return;"),Rs=typeof Ds.oninput=="function"}mr=Rs}else mr=!1;jr=mr&&(!document.documentMode||9<document.documentMode)}function ii(){ps&&(ps.detachEvent("onpropertychange",Ho),si=ps=null)}function Ho(t){if(t.propertyName==="value"&&gs(si)){var r=[];Ir(r,si,t,eo(t)),wc(Il,r)}}function $o(t,r,o){t==="focusin"?(ii(),ps=r,si=o,ps.attachEvent("onpropertychange",Ho)):t==="focusout"&&ii()}function dn(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gs(si)}function Sc(t,r){if(t==="click")return gs(r)}function Ms(t,r){if(t==="input"||t==="change")return gs(r)}function Ps(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Vn=typeof Object.is=="function"?Object.is:Ps;function oi(t,r){if(Vn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var g=o[u];if(!Z.call(r,g)||!Vn(t[g],r[g]))return!1}return!0}function Vo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Go(t,r){var o=Vo(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Vo(o)}}function li(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?li(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ci(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=dr(t.document);r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=dr(t.document)}return r}function Is(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var io=Hn&&"documentMode"in document&&11>=document.documentMode,Ur=null,ui=null,ar=null,Vr=!1;function va(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Vr||Ur==null||Ur!==dr(u)||(u=Ur,"selectionStart"in u&&Is(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ar&&oi(ar,u)||(ar=u,u=mh(ui,"onSelect"),0<u.length&&(r=new $r("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=Ur)))}function fa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Pa={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},hn={},Us={};Hn&&(Us=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function bs(t){if(hn[t])return hn[t];if(!Pa[t])return t;var r=Pa[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Us)return hn[t]=r[o];return t}var oo=bs("animationend"),Ul=bs("animationiteration"),Lu=bs("animationstart"),Id=bs("transitionrun"),Ud=bs("transitionstart"),Bd=bs("transitioncancel"),Tu=bs("transitionend"),Ou=new Map,lo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lo.push("scrollEnd");function Gr(t,r){Ou.set(t,r),cs(r,[t])}var Bl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Br=[],co=0,Ac=0;function ql(){for(var t=co,r=Ac=co=0;r<t;){var o=Br[r];Br[r++]=null;var u=Br[r];Br[r++]=null;var g=Br[r];Br[r++]=null;var x=Br[r];if(Br[r++]=null,u!==null&&g!==null){var E=u.pending;E===null?g.next=g:(g.next=E.next,E.next=g),u.pending=g}x!==0&&Fl(o,g,x)}}function zl(t,r,o,u){Br[co++]=t,Br[co++]=r,Br[co++]=o,Br[co++]=u,Ac|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Cc(t,r,o,u){return zl(t,r,o,u),nr(t)}function di(t,r){return zl(t,null,null,r),nr(t)}function Fl(t,r,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var g=!1,x=t.return;x!==null;)x.childLanes|=o,u=x.alternate,u!==null&&(u.childLanes|=o),x.tag===22&&(t=x.stateNode,t===null||t._visibility&1||(g=!0)),t=x,x=x.return;return t.tag===3?(x=t.stateNode,g&&r!==null&&(g=31-Wt(o),t=x.hiddenUpdates,u=t[g],u===null?t[g]=[r]:u.push(r),r.lane=o|536870912),x):null}function nr(t){if(50<ed)throw ed=0,Qf=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Gn={};function Ec(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(t,r,o,u){return new Ec(t,r,o,u)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yr(t,r){var o=t.alternate;return o===null?(o=rr(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Hl(t,r){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,r=o.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Yo(t,r,o,u,g,x){var E=0;if(u=t,typeof t=="function")kc(t)&&(E=1);else if(typeof t=="string")E=wy(t,o,q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case K:return t=rr(31,o,r,g),t.elementType=K,t.lanes=x,t;case k:return Di(o.children,g,x,r);case O:E=8,g|=24;break;case L:return t=rr(12,o,r,g|2),t.elementType=L,t.lanes=x,t;case ne:return t=rr(13,o,r,g),t.elementType=ne,t.lanes=x,t;case de:return t=rr(19,o,r,g),t.elementType=de,t.lanes=x,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:E=10;break e;case T:E=9;break e;case F:E=11;break e;case W:E=14;break e;case se:E=16,u=null;break e}E=29,o=Error(s(130,t===null?"null":typeof t,"")),u=null}return r=rr(E,o,r,g),r.elementType=t,r.type=u,r.lanes=x,r}function Di(t,r,o,u){return t=rr(7,t,u,r),t.lanes=o,t}function $l(t,r,o){return t=rr(6,t,null,r),t.lanes=o,t}function Lc(t){var r=rr(18,null,null,0);return r.stateNode=t,r}function Ko(t,r,o){return r=rr(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Tc=new WeakMap;function Kr(t,r){if(typeof t=="object"&&t!==null){var o=Tc.get(t);return o!==void 0?o:(r={value:t,source:r,stack:bt(r)},Tc.set(t,r),r)}return{value:t,source:r,stack:bt(r)}}var Jo=[],uo=0,Oc=null,Vl=0,Jr=[],Wr=0,Mi=null,Xr=1,Zr="";function qr(t,r){Jo[uo++]=Vl,Jo[uo++]=Oc,Oc=t,Vl=r}function qd(t,r,o){Jr[Wr++]=Xr,Jr[Wr++]=Zr,Jr[Wr++]=Mi,Mi=t;var u=Xr;t=Zr;var g=32-Wt(u)-1;u&=~(1<<g),o+=1;var x=32-Wt(r)+g;if(30<x){var E=g-g%5;x=(u&(1<<E)-1).toString(32),u>>=E,g-=E,Xr=1<<32-Wt(r)+g|o<<g|u,Zr=x+t}else Xr=1<<x|o<<g|u,Zr=t}function Ru(t){t.return!==null&&(qr(t,1),qd(t,1,0))}function Rc(t){for(;t===Oc;)Oc=Jo[--uo],Jo[uo]=null,Vl=Jo[--uo],Jo[uo]=null;for(;t===Mi;)Mi=Jr[--Wr],Jr[Wr]=null,Zr=Jr[--Wr],Jr[Wr]=null,Xr=Jr[--Wr],Jr[Wr]=null}function zd(t,r){Jr[Wr++]=Xr,Jr[Wr++]=Zr,Jr[Wr++]=Mi,Xr=r.id,Zr=r.overflow,Mi=t}var Yn=null,za=null,oa=!1,pr=null,an=!1,xs=Error(s(519));function Pi(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(Kr(r,t)),xs}function Du(t){var r=t.stateNode,o=t.type,u=t.memoizedProps;switch(r[be]=t,r[Pe]=u,o){case"dialog":ca("cancel",r),ca("close",r);break;case"iframe":case"object":case"embed":ca("load",r);break;case"video":case"audio":for(o=0;o<ad.length;o++)ca(ad[o],r);break;case"source":ca("error",r);break;case"img":case"image":case"link":ca("error",r),ca("load",r);break;case"details":ca("toggle",r);break;case"input":ca("invalid",r),gc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ca("invalid",r);break;case"textarea":ca("invalid",r),kl(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Qg(r.textContent,o)?(u.popover!=null&&(ca("beforetoggle",r),ca("toggle",r)),u.onScroll!=null&&ca("scroll",r),u.onScrollEnd!=null&&ca("scrollend",r),u.onClick!=null&&(r.onclick=hs),r=!0):r=!1,r||Pi(t,!0)}function hi(t){for(Yn=t.return;Yn;)switch(Yn.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:Yn=Yn.return}}function Kn(t){if(t!==Yn)return!1;if(!oa)return hi(t),oa=!0,!1;var r=t.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||mm(t.type,t.memoizedProps)),o=!o),o&&za&&Pi(t),hi(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));za=l1(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));za=l1(t)}else r===27?(r=za,ul(t.type)?(t=vm,vm=null,za=t):za=r):za=Yn?Fs(t.stateNode.nextSibling):null;return!0}function ho(){za=Yn=null,oa=!1}function Mu(){var t=pr;return t!==null&&(rs===null?rs=t:rs.push.apply(rs,t),pr=null),t}function Wo(t){pr===null?pr=[t]:pr.push(t)}var Dc=H(null),Ii=null,Bs=null;function Ui(t,r,o){I(Dc,r._currentValue),r._currentValue=o}function Qr(t){t._currentValue=Dc.current,S(Dc)}function Xo(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function fo(t,r,o,u){var g=t.child;for(g!==null&&(g.return=t);g!==null;){var x=g.dependencies;if(x!==null){var E=g.child;x=x.firstContext;e:for(;x!==null;){var V=x;x=g;for(var fe=0;fe<r.length;fe++)if(V.context===r[fe]){x.lanes|=o,V=x.alternate,V!==null&&(V.lanes|=o),Xo(x.return,o,t),u||(E=null);break e}x=V.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(s(341));E.lanes|=o,x=E.alternate,x!==null&&(x.lanes|=o),Xo(E,o,t),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===t){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Bi(t,r,o,u){t=null;for(var g=r,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var V=g.type;Vn(g.pendingProps.value,E.value)||(t!==null?t.push(V):t=[V])}}else if(g===he.current){if(E=g.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(t!==null?t.push(od):t=[od])}g=g.return}t!==null&&fo(r,t,o,u),r.flags|=262144}function Mc(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qi(t){Ii=t,Bs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jn(t){return Fd(Ii,t)}function Pc(t,r){return Ii===null&&qi(t),Fd(t,r)}function Fd(t,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Bs===null){if(t===null)throw Error(s(308));Bs=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Bs=Bs.next=r;return o}var xf=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){r.aborted=!0,t.forEach(function(o){return o()})}},vf=n.unstable_scheduleCallback,yf=n.unstable_NormalPriority,fn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zo(){return{controller:new xf,data:new Map,refCount:0}}function Gl(t){t.refCount--,t.refCount===0&&vf(yf,function(){t.controller.abort()})}var Yl=null,Ic=0,m=0,b=null;function N(t,r){if(Yl===null){var o=Yl=[];Ic=0,m=sm(),b={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ic++,r.then(A,A),r}function A(){if(--Ic===0&&Yl!==null){b!==null&&(b.status="fulfilled");var t=Yl;Yl=null,m=0,b=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function M(t,r){var o=[],u={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return t.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<o.length;g++)(0,o[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),u}var U=re.S;re.S=function(t,r){Ng=St(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&N(t,r),U!==null&&U(t,r)};var z=H(null);function Y(){var t=z.current;return t!==null?t:Ha.pooledCache}function J(t,r){r===null?I(z,z.current):I(z,r.pool)}function ee(){var t=Y();return t===null?null:{parent:fn._currentValue,pool:t}}var ve=Error(s(460)),Re=Error(s(474)),Q=Error(s(542)),Ne={then:function(){}};function Le(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qe(t,r,o){switch(o=t[o],o===void 0?t.push(r):o!==r&&(r.then(hs,hs),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Xe(t),t;default:if(typeof r.status=="string")r.then(hs,hs);else{if(t=Ha,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Xe(t),t}throw Be=r,ve}}function Te(t){try{var r=t._init;return r(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Be=o,ve):o}}var Be=null;function He(){if(Be===null)throw Error(s(459));var t=Be;return Be=null,t}function Xe(t){if(t===ve||t===Q)throw Error(s(483))}var Ye=null,dt=0;function st(t){var r=dt;return dt+=1,Ye===null&&(Ye=[]),qe(Ye,t,r)}function Vt(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function lt(t,r){throw r.$$typeof===_?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function ia(t){function r(Se,_e){if(t){var De=Se.deletions;De===null?(Se.deletions=[_e],Se.flags|=16):De.push(_e)}}function o(Se,_e){if(!t)return null;for(;_e!==null;)r(Se,_e),_e=_e.sibling;return null}function u(Se){for(var _e=new Map;Se!==null;)Se.key!==null?_e.set(Se.key,Se):_e.set(Se.index,Se),Se=Se.sibling;return _e}function g(Se,_e){return Se=Yr(Se,_e),Se.index=0,Se.sibling=null,Se}function x(Se,_e,De){return Se.index=De,t?(De=Se.alternate,De!==null?(De=De.index,De<_e?(Se.flags|=67108866,_e):De):(Se.flags|=67108866,_e)):(Se.flags|=1048576,_e)}function E(Se){return t&&Se.alternate===null&&(Se.flags|=67108866),Se}function V(Se,_e,De,$e){return _e===null||_e.tag!==6?(_e=$l(De,Se.mode,$e),_e.return=Se,_e):(_e=g(_e,De),_e.return=Se,_e)}function fe(Se,_e,De,$e){var Et=De.type;return Et===k?ze(Se,_e,De.props.children,$e,De.key):_e!==null&&(_e.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===se&&Te(Et)===_e.type)?(_e=g(_e,De.props),Vt(_e,De),_e.return=Se,_e):(_e=Yo(De.type,De.key,De.props,null,Se.mode,$e),Vt(_e,De),_e.return=Se,_e)}function Me(Se,_e,De,$e){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==De.containerInfo||_e.stateNode.implementation!==De.implementation?(_e=Ko(De,Se.mode,$e),_e.return=Se,_e):(_e=g(_e,De.children||[]),_e.return=Se,_e)}function ze(Se,_e,De,$e,Et){return _e===null||_e.tag!==7?(_e=Di(De,Se.mode,$e,Et),_e.return=Se,_e):(_e=g(_e,De),_e.return=Se,_e)}function Ve(Se,_e,De){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=$l(""+_e,Se.mode,De),_e.return=Se,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case y:return De=Yo(_e.type,_e.key,_e.props,null,Se.mode,De),Vt(De,_e),De.return=Se,De;case C:return _e=Ko(_e,Se.mode,De),_e.return=Se,_e;case se:return _e=Te(_e),Ve(Se,_e,De)}if(Ce(_e)||$(_e))return _e=Di(_e,Se.mode,De,null),_e.return=Se,_e;if(typeof _e.then=="function")return Ve(Se,st(_e),De);if(_e.$$typeof===R)return Ve(Se,Pc(Se,_e),De);lt(Se,_e)}return null}function Ie(Se,_e,De,$e){var Et=_e!==null?_e.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return Et!==null?null:V(Se,_e,""+De,$e);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case y:return De.key===Et?fe(Se,_e,De,$e):null;case C:return De.key===Et?Me(Se,_e,De,$e):null;case se:return De=Te(De),Ie(Se,_e,De,$e)}if(Ce(De)||$(De))return Et!==null?null:ze(Se,_e,De,$e,null);if(typeof De.then=="function")return Ie(Se,_e,st(De),$e);if(De.$$typeof===R)return Ie(Se,_e,Pc(Se,De),$e);lt(Se,De)}return null}function Ue(Se,_e,De,$e,Et){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Se=Se.get(De)||null,V(_e,Se,""+$e,Et);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case y:return Se=Se.get($e.key===null?De:$e.key)||null,fe(_e,Se,$e,Et);case C:return Se=Se.get($e.key===null?De:$e.key)||null,Me(_e,Se,$e,Et);case se:return $e=Te($e),Ue(Se,_e,De,$e,Et)}if(Ce($e)||$($e))return Se=Se.get(De)||null,ze(_e,Se,$e,Et,null);if(typeof $e.then=="function")return Ue(Se,_e,De,st($e),Et);if($e.$$typeof===R)return Ue(Se,_e,De,Pc(_e,$e),Et);lt(_e,$e)}return null}function ut(Se,_e,De,$e){for(var Et=null,wa=null,gt=_e,na=_e=0,da=null;gt!==null&&na<De.length;na++){gt.index>na?(da=gt,gt=null):da=gt.sibling;var _a=Ie(Se,gt,De[na],$e);if(_a===null){gt===null&&(gt=da);break}t&&gt&&_a.alternate===null&&r(Se,gt),_e=x(_a,_e,na),wa===null?Et=_a:wa.sibling=_a,wa=_a,gt=da}if(na===De.length)return o(Se,gt),oa&&qr(Se,na),Et;if(gt===null){for(;na<De.length;na++)gt=Ve(Se,De[na],$e),gt!==null&&(_e=x(gt,_e,na),wa===null?Et=gt:wa.sibling=gt,wa=gt);return oa&&qr(Se,na),Et}for(gt=u(gt);na<De.length;na++)da=Ue(gt,Se,na,De[na],$e),da!==null&&(t&&da.alternate!==null&&gt.delete(da.key===null?na:da.key),_e=x(da,_e,na),wa===null?Et=da:wa.sibling=da,wa=da);return t&&gt.forEach(function(pl){return r(Se,pl)}),oa&&qr(Se,na),Et}function Rt(Se,_e,De,$e){if(De==null)throw Error(s(151));for(var Et=null,wa=null,gt=_e,na=_e=0,da=null,_a=De.next();gt!==null&&!_a.done;na++,_a=De.next()){gt.index>na?(da=gt,gt=null):da=gt.sibling;var pl=Ie(Se,gt,_a.value,$e);if(pl===null){gt===null&&(gt=da);break}t&&gt&&pl.alternate===null&&r(Se,gt),_e=x(pl,_e,na),wa===null?Et=pl:wa.sibling=pl,wa=pl,gt=da}if(_a.done)return o(Se,gt),oa&&qr(Se,na),Et;if(gt===null){for(;!_a.done;na++,_a=De.next())_a=Ve(Se,_a.value,$e),_a!==null&&(_e=x(_a,_e,na),wa===null?Et=_a:wa.sibling=_a,wa=_a);return oa&&qr(Se,na),Et}for(gt=u(gt);!_a.done;na++,_a=De.next())_a=Ue(gt,Se,na,_a.value,$e),_a!==null&&(t&&_a.alternate!==null&&gt.delete(_a.key===null?na:_a.key),_e=x(_a,_e,na),wa===null?Et=_a:wa.sibling=_a,wa=_a);return t&&gt.forEach(function(Oy){return r(Se,Oy)}),oa&&qr(Se,na),Et}function qa(Se,_e,De,$e){if(typeof De=="object"&&De!==null&&De.type===k&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case y:e:{for(var Et=De.key;_e!==null;){if(_e.key===Et){if(Et=De.type,Et===k){if(_e.tag===7){o(Se,_e.sibling),$e=g(_e,De.props.children),$e.return=Se,Se=$e;break e}}else if(_e.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===se&&Te(Et)===_e.type){o(Se,_e.sibling),$e=g(_e,De.props),Vt($e,De),$e.return=Se,Se=$e;break e}o(Se,_e);break}else r(Se,_e);_e=_e.sibling}De.type===k?($e=Di(De.props.children,Se.mode,$e,De.key),$e.return=Se,Se=$e):($e=Yo(De.type,De.key,De.props,null,Se.mode,$e),Vt($e,De),$e.return=Se,Se=$e)}return E(Se);case C:e:{for(Et=De.key;_e!==null;){if(_e.key===Et)if(_e.tag===4&&_e.stateNode.containerInfo===De.containerInfo&&_e.stateNode.implementation===De.implementation){o(Se,_e.sibling),$e=g(_e,De.children||[]),$e.return=Se,Se=$e;break e}else{o(Se,_e);break}else r(Se,_e);_e=_e.sibling}$e=Ko(De,Se.mode,$e),$e.return=Se,Se=$e}return E(Se);case se:return De=Te(De),qa(Se,_e,De,$e)}if(Ce(De))return ut(Se,_e,De,$e);if($(De)){if(Et=$(De),typeof Et!="function")throw Error(s(150));return De=Et.call(De),Rt(Se,_e,De,$e)}if(typeof De.then=="function")return qa(Se,_e,st(De),$e);if(De.$$typeof===R)return qa(Se,_e,Pc(Se,De),$e);lt(Se,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,_e!==null&&_e.tag===6?(o(Se,_e.sibling),$e=g(_e,De),$e.return=Se,Se=$e):(o(Se,_e),$e=$l(De,Se.mode,$e),$e.return=Se,Se=$e),E(Se)):o(Se,_e)}return function(Se,_e,De,$e){try{dt=0;var Et=qa(Se,_e,De,$e);return Ye=null,Et}catch(gt){if(gt===ve||gt===Q)throw gt;var wa=rr(29,gt,null,Se.mode);return wa.lanes=$e,wa.return=Se,wa}finally{}}}var Fa=ia(!0),Zt=ia(!1),it=!1;function nt(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wa(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Tt(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ta(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Aa&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=nr(t),Fl(t,null,o),r}return zl(t,u,r,o),nr(t)}function ja(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Qn(t,o)}}function Tn(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var g=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};x===null?g=x=E:x=x.next=E,o=o.next}while(o!==null);x===null?g=x=r:x=x.next=r}else g=x=r;o={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}var Wn=!1;function Ia(){if(Wn){var t=b;if(t!==null)throw t}}function vn(t,r,o,u){Wn=!1;var g=t.updateQueue;it=!1;var x=g.firstBaseUpdate,E=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var fe=V,Me=fe.next;fe.next=null,E===null?x=Me:E.next=Me,E=fe;var ze=t.alternate;ze!==null&&(ze=ze.updateQueue,V=ze.lastBaseUpdate,V!==E&&(V===null?ze.firstBaseUpdate=Me:V.next=Me,ze.lastBaseUpdate=fe))}if(x!==null){var Ve=g.baseState;E=0,ze=Me=fe=null,V=x;do{var Ie=V.lane&-536870913,Ue=Ie!==V.lane;if(Ue?(ua&Ie)===Ie:(u&Ie)===Ie){Ie!==0&&Ie===m&&(Wn=!0),ze!==null&&(ze=ze.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var ut=t,Rt=V;Ie=r;var qa=o;switch(Rt.tag){case 1:if(ut=Rt.payload,typeof ut=="function"){Ve=ut.call(qa,Ve,Ie);break e}Ve=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=Rt.payload,Ie=typeof ut=="function"?ut.call(qa,Ve,Ie):ut,Ie==null)break e;Ve=j({},Ve,Ie);break e;case 2:it=!0}}Ie=V.callback,Ie!==null&&(t.flags|=64,Ue&&(t.flags|=8192),Ue=g.callbacks,Ue===null?g.callbacks=[Ie]:Ue.push(Ie))}else Ue={lane:Ie,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ze===null?(Me=ze=Ue,fe=Ve):ze=ze.next=Ue,E|=Ie;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;Ue=V,V=Ue.next,Ue.next=null,g.lastBaseUpdate=Ue,g.shared.pending=null}}while(!0);ze===null&&(fe=Ve),g.baseState=fe,g.firstBaseUpdate=Me,g.lastBaseUpdate=ze,x===null&&(g.shared.lanes=0),sl|=E,t.lanes=E,t.memoizedState=Ve}}function sr(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function yn(t,r){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)sr(o[t],r)}var sa=H(null),pa=H(0);function Xa(t,r){t=No,I(pa,t),I(sa,r),No=t|r.baseLanes}function ya(){I(pa,No),I(sa,sa.current)}function On(){No=pa.current,S(sa),S(pa)}var Za=H(null),ga=null;function mn(t){var r=t.alternate;I(ma,ma.current&1),I(Za,t),ga===null&&(r===null||sa.current!==null||r.memoizedState!==null)&&(ga=t)}function Sa(t){I(ma,ma.current),I(Za,t),ga===null&&(ga=t)}function wn(t){t.tag===22?(I(ma,ma.current),I(Za,t),ga===null&&(ga=t)):_n()}function _n(){I(ma,ma.current),I(Za,Za.current)}function La(t){S(Za),ga===t&&(ga=null),S(ma)}var ma=H(0);function ir(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||bm(o)||xm(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var nn=0,jt=null,Ct=null,ba=null,Sr=!1,es=!1,gr=!1,Nn=0,zi=0,Fi=null,Uc=0;function Ua(){throw Error(s(321))}function Pu(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Vn(t[o],r[o]))return!1;return!0}function Iu(t,r,o,u,g,x){return nn=x,jt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,re.H=t===null||t.memoizedState===null?Dp:Ef,gr=!1,x=o(u,g),gr=!1,es&&(x=fi(r,o,u,g)),Bc(t),x}function Bc(t){re.H=Vu;var r=Ct!==null&&Ct.next!==null;if(nn=0,ba=Ct=jt=null,Sr=!1,zi=0,Fi=null,r)throw Error(s(300));t===null||qn||(t=t.dependencies,t!==null&&Mc(t)&&(qn=!0))}function fi(t,r,o,u){jt=t;var g=0;do{if(es&&(Fi=null),zi=0,es=!1,25<=g)throw Error(s(301));if(g+=1,ba=Ct=null,t.updateQueue!=null){var x=t.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}re.H=Mp,x=r(o,u)}while(es);return x}function wf(){var t=re.H,r=t.useState()[0];return r=typeof r.then=="function"?Hi(r):r,t=t.useState()[0],(Ct!==null?Ct.memoizedState:null)!==t&&(jt.flags|=1024),r}function Uu(){var t=Nn!==0;return Nn=0,t}function Bu(t,r,o){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~o}function qc(t){if(Sr){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Sr=!1}nn=0,ba=Ct=jt=null,es=!1,zi=Nn=0,Fi=null}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ba===null?jt.memoizedState=ba=t:ba=ba.next=t,ba}function rn(){if(Ct===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var r=ba===null?jt.memoizedState:ba.next;if(r!==null)ba=r,Ct=t;else{if(t===null)throw jt.alternate===null?Error(s(467)):Error(s(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},ba===null?jt.memoizedState=ba=t:ba=ba.next=t}return ba}function Kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hi(t){var r=zi;return zi+=1,Fi===null&&(Fi=[]),t=qe(Fi,t,r),r=jt,(ba===null?r.memoizedState:ba.next)===null&&(r=r.alternate,re.H=r===null||r.memoizedState===null?Dp:Ef),t}function Qo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Hi(t);if(t.$$typeof===R)return Jn(t)}throw Error(s(438,String(t)))}function mo(t){var r=null,o=jt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=jt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Kl(),jt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(t),u=0;u<t;u++)o[u]=we;return r.index++,o}function qs(t,r){return typeof r=="function"?r(t):r}function zc(t){var r=rn();return el(r,Ct,t)}function el(t,r,o){var u=t.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var g=t.baseQueue,x=u.pending;if(x!==null){if(g!==null){var E=g.next;g.next=x.next,x.next=E}r.baseQueue=g=x,u.pending=null}if(x=t.baseState,g===null)t.memoizedState=x;else{r=g.next;var V=E=null,fe=null,Me=r,ze=!1;do{var Ve=Me.lane&-536870913;if(Ve!==Me.lane?(ua&Ve)===Ve:(nn&Ve)===Ve){var Ie=Me.revertLane;if(Ie===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),Ve===m&&(ze=!0);else if((nn&Ie)===Ie){Me=Me.next,Ie===m&&(ze=!0);continue}else Ve={lane:0,revertLane:Me.revertLane,gesture:null,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},fe===null?(V=fe=Ve,E=x):fe=fe.next=Ve,jt.lanes|=Ie,sl|=Ie;Ve=Me.action,gr&&o(x,Ve),x=Me.hasEagerState?Me.eagerState:o(x,Ve)}else Ie={lane:Ve,revertLane:Me.revertLane,gesture:Me.gesture,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},fe===null?(V=fe=Ie,E=x):fe=fe.next=Ie,jt.lanes|=Ve,sl|=Ve;Me=Me.next}while(Me!==null&&Me!==r);if(fe===null?E=x:fe.next=V,!Vn(x,t.memoizedState)&&(qn=!0,ze&&(o=b,o!==null)))throw o;t.memoizedState=x,t.baseState=E,t.baseQueue=fe,u.lastRenderedState=x}return g===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Fc(t){var r=rn(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=t;var u=o.dispatch,g=o.pending,x=r.memoizedState;if(g!==null){o.pending=null;var E=g=g.next;do x=t(x,E.action),E=E.next;while(E!==g);Vn(x,r.memoizedState)||(qn=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),o.lastRenderedState=x}return[x,u]}function Hc(t,r,o){var u=jt,g=rn(),x=oa;if(x){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!Vn((Ct||g).memoizedState,o);if(E&&(g.memoizedState=o,qn=!0),g=g.queue,_f(zu.bind(null,u,g,t),[t]),g.getSnapshot!==r||E||ba!==null&&ba.memoizedState.tag&1){if(u.flags|=2048,go(9,{destroy:void 0},qu.bind(null,u,g,o,r),null),Ha===null)throw Error(s(349));x||(nn&127)!==0||mi(u,r,o)}return o}function mi(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=jt.updateQueue,r===null?(r=Kl(),jt.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function qu(t,r,o,u){r.value=o,r.getSnapshot=u,Hd(r)&&Fu(t)}function zu(t,r,o){return o(function(){Hd(r)&&Fu(t)})}function Hd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Vn(t,o)}catch{return!0}}function Fu(t){var r=di(t,2);r!==null&&ss(r,t,2)}function $i(t){var r=Bn();if(typeof t=="function"){var o=t;if(t=o(),gr){Mt(!0);try{o()}finally{Mt(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:t},r}function $d(t,r,o,u){return t.baseState=o,el(t,Ct,typeof u=="function"?u:qs)}function Vd(t,r,o,u,g){if(Jd(t))throw Error(s(485));if(t=r.action,t!==null){var x={payload:g,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){x.listeners.push(E)}};re.T!==null?o(!0):x.isTransition=!1,u(x),o=r.pending,o===null?(x.next=r.pending=x,Gd(r,x)):(x.next=o.next,r.pending=o.next=x)}}function Gd(t,r){var o=r.action,u=r.payload,g=t.state;if(r.isTransition){var x=re.T,E={};re.T=E;try{var V=o(g,u),fe=re.S;fe!==null&&fe(E,V),Hu(t,r,V)}catch(Me){po(t,r,Me)}finally{x!==null&&E.types!==null&&(x.types=E.types),re.T=x}}else try{x=o(g,u),Hu(t,r,x)}catch(Me){po(t,r,Me)}}function Hu(t,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Yd(t,r,u)},function(u){return po(t,r,u)}):Yd(t,r,o)}function Yd(t,r,o){r.status="fulfilled",r.value=o,$c(r),t.state=o,r=t.pending,r!==null&&(o=r.next,o===r?t.pending=null:(o=o.next,r.next=o,Gd(t,o)))}function po(t,r,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,$c(r),r=r.next;while(r!==u)}t.action=null}function $c(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Jl(t,r){return r}function zs(t,r){if(oa){var o=Ha.formState;if(o!==null){e:{var u=jt;if(oa){if(za){t:{for(var g=za,x=an;g.nodeType!==8;){if(!x){g=null;break t}if(g=Fs(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){za=Fs(g.nextSibling),u=g.data==="F!";break e}}Pi(u)}u=!1}u&&(r=o[0])}}return o=Bn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:r},o.queue=u,o=Tp.bind(null,jt,u),u.dispatch=o,u=$i(!1),x=Cf.bind(null,jt,!1,u.queue),u=Bn(),g={state:r,dispatch:null,action:t,pending:null},u.queue=g,o=Vd.bind(null,jt,g,x,o),g.dispatch=o,u.memoizedState=t,[r,o,!1]}function pi(t){var r=rn();return gi(r,Ct,t)}function gi(t,r,o){if(r=el(t,r,Jl)[0],t=zc(qs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Hi(r)}catch(E){throw E===ve?Q:E}else u=r;r=rn();var g=r.queue,x=g.dispatch;return o!==r.memoizedState&&(jt.flags|=2048,go(9,{destroy:void 0},Vc.bind(null,g,o),null)),[u,x,t]}function Vc(t,r){t.action=r}function Gc(t){var r=rn(),o=Ct;if(o!==null)return gi(r,o,t);rn(),r=r.memoizedState,o=rn();var u=o.queue.dispatch;return o.memoizedState=t,[r,u,!1]}function go(t,r,o,u){return t={tag:t,create:o,deps:u,inst:r,next:null},r=jt.updateQueue,r===null&&(r=Kl(),jt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t),t}function Kd(){return rn().memoizedState}function tl(t,r,o,u){var g=Bn();jt.flags|=t,g.memoizedState=go(1|r,{destroy:void 0},o,u===void 0?null:u)}function al(t,r,o,u){var g=rn();u=u===void 0?null:u;var x=g.memoizedState.inst;Ct!==null&&u!==null&&Pu(u,Ct.memoizedState.deps)?g.memoizedState=go(r,x,o,u):(jt.flags|=t,g.memoizedState=go(1|r,x,o,u))}function bp(t,r){tl(8390656,8,t,r)}function _f(t,r){al(2048,8,t,r)}function Av(t){jt.flags|=4;var r=jt.updateQueue;if(r===null)r=Kl(),jt.updateQueue=r,r.events=[t];else{var o=r.events;o===null?r.events=[t]:o.push(t)}}function xp(t){var r=rn().memoizedState;return Av({ref:r,nextImpl:t}),function(){if((Aa&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function vp(t,r){return al(4,2,t,r)}function yp(t,r){return al(4,4,t,r)}function wp(t,r){if(typeof r=="function"){t=t();var o=r(t);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function _p(t,r,o){o=o!=null?o.concat([t]):null,al(4,4,wp.bind(null,r,t),o)}function Nf(){}function Np(t,r){var o=rn();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Pu(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function jp(t,r){var o=rn();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Pu(r,u[1]))return u[0];if(u=t(),gr){Mt(!0);try{t()}finally{Mt(!1)}}return o.memoizedState=[u,r],u}function jf(t,r,o){return o===void 0||(nn&1073741824)!==0&&(ua&261930)===0?t.memoizedState=r:(t.memoizedState=o,t=Sg(),jt.lanes|=t,sl|=t,o)}function Sp(t,r,o,u){return Vn(o,r)?o:sa.current!==null?(t=jf(t,o,u),Vn(t,r)||(qn=!0),t):(nn&42)===0||(nn&1073741824)!==0&&(ua&261930)===0?(qn=!0,t.memoizedState=o):(t=Sg(),jt.lanes|=t,sl|=t,r)}function Ap(t,r,o,u,g){var x=ge.p;ge.p=x!==0&&8>x?x:8;var E=re.T,V={};re.T=V,Cf(t,!1,r,o);try{var fe=g(),Me=re.S;if(Me!==null&&Me(V,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var ze=M(fe,u);$u(t,r,ze,ws(t))}else $u(t,r,u,ws(t))}catch(Ve){$u(t,r,{then:function(){},status:"rejected",reason:Ve},ws())}finally{ge.p=x,E!==null&&V.types!==null&&(E.types=V.types),re.T=E}}function Cv(){}function Sf(t,r,o,u){if(t.tag!==5)throw Error(s(476));var g=Cp(t).queue;Ap(t,g,r,me,o===null?Cv:function(){return Ep(t),o(u)})}function Cp(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:me},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:o},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ep(t){var r=Cp(t);r.next===null&&(r=t.alternate.memoizedState),$u(t,r.next.queue,{},ws())}function Af(){return Jn(od)}function kp(){return rn().memoizedState}function Lp(){return rn().memoizedState}function Ev(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var o=ws();t=Tt(o);var u=ta(r,t,o);u!==null&&(ss(u,r,o),ja(u,r,o)),r={cache:Zo()},t.payload=r;return}r=r.return}}function kv(t,r,o){var u=ws();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Jd(t)?Op(r,o):(o=Cc(t,r,o,u),o!==null&&(ss(o,t,u),Rp(o,r,u)))}function Tp(t,r,o){var u=ws();$u(t,r,o,u)}function $u(t,r,o,u){var g={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Jd(t))Op(r,g);else{var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var E=r.lastRenderedState,V=x(E,o);if(g.hasEagerState=!0,g.eagerState=V,Vn(V,E))return zl(t,r,g,0),Ha===null&&ql(),!1}catch{}finally{}if(o=Cc(t,r,g,u),o!==null)return ss(o,t,u),Rp(o,r,u),!0}return!1}function Cf(t,r,o,u){if(u={lane:2,revertLane:sm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Jd(t)){if(r)throw Error(s(479))}else r=Cc(t,o,u,2),r!==null&&ss(r,t,2)}function Jd(t){var r=t.alternate;return t===jt||r!==null&&r===jt}function Op(t,r){es=Sr=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Rp(t,r,o){if((o&4194048)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Qn(t,o)}}var Vu={readContext:Jn,use:Qo,useCallback:Ua,useContext:Ua,useEffect:Ua,useImperativeHandle:Ua,useLayoutEffect:Ua,useInsertionEffect:Ua,useMemo:Ua,useReducer:Ua,useRef:Ua,useState:Ua,useDebugValue:Ua,useDeferredValue:Ua,useTransition:Ua,useSyncExternalStore:Ua,useId:Ua,useHostTransitionStatus:Ua,useFormState:Ua,useActionState:Ua,useOptimistic:Ua,useMemoCache:Ua,useCacheRefresh:Ua};Vu.useEffectEvent=Ua;var Dp={readContext:Jn,use:Qo,useCallback:function(t,r){return Bn().memoizedState=[t,r===void 0?null:r],t},useContext:Jn,useEffect:bp,useImperativeHandle:function(t,r,o){o=o!=null?o.concat([t]):null,tl(4194308,4,wp.bind(null,r,t),o)},useLayoutEffect:function(t,r){return tl(4194308,4,t,r)},useInsertionEffect:function(t,r){tl(4,2,t,r)},useMemo:function(t,r){var o=Bn();r=r===void 0?null:r;var u=t();if(gr){Mt(!0);try{t()}finally{Mt(!1)}}return o.memoizedState=[u,r],u},useReducer:function(t,r,o){var u=Bn();if(o!==void 0){var g=o(r);if(gr){Mt(!0);try{o(r)}finally{Mt(!1)}}}else g=r;return u.memoizedState=u.baseState=g,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:g},u.queue=t,t=t.dispatch=kv.bind(null,jt,t),[u.memoizedState,t]},useRef:function(t){var r=Bn();return t={current:t},r.memoizedState=t},useState:function(t){t=$i(t);var r=t.queue,o=Tp.bind(null,jt,r);return r.dispatch=o,[t.memoizedState,o]},useDebugValue:Nf,useDeferredValue:function(t,r){var o=Bn();return jf(o,t,r)},useTransition:function(){var t=$i(!1);return t=Ap.bind(null,jt,t.queue,!0,!1),Bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,o){var u=jt,g=Bn();if(oa){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Ha===null)throw Error(s(349));(ua&127)!==0||mi(u,r,o)}g.memoizedState=o;var x={value:o,getSnapshot:r};return g.queue=x,bp(zu.bind(null,u,x,t),[t]),u.flags|=2048,go(9,{destroy:void 0},qu.bind(null,u,x,o,r),null),o},useId:function(){var t=Bn(),r=Ha.identifierPrefix;if(oa){var o=Zr,u=Xr;o=(u&~(1<<32-Wt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Nn++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=Uc++,r="_"+r+"r_"+o.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Af,useFormState:zs,useActionState:zs,useOptimistic:function(t){var r=Bn();r.memoizedState=r.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Cf.bind(null,jt,!0,o),o.dispatch=r,[t,r]},useMemoCache:mo,useCacheRefresh:function(){return Bn().memoizedState=Ev.bind(null,jt)},useEffectEvent:function(t){var r=Bn(),o={impl:t};return r.memoizedState=o,function(){if((Aa&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Ef={readContext:Jn,use:Qo,useCallback:Np,useContext:Jn,useEffect:_f,useImperativeHandle:_p,useInsertionEffect:vp,useLayoutEffect:yp,useMemo:jp,useReducer:zc,useRef:Kd,useState:function(){return zc(qs)},useDebugValue:Nf,useDeferredValue:function(t,r){var o=rn();return Sp(o,Ct.memoizedState,t,r)},useTransition:function(){var t=zc(qs)[0],r=rn().memoizedState;return[typeof t=="boolean"?t:Hi(t),r]},useSyncExternalStore:Hc,useId:kp,useHostTransitionStatus:Af,useFormState:pi,useActionState:pi,useOptimistic:function(t,r){var o=rn();return $d(o,Ct,t,r)},useMemoCache:mo,useCacheRefresh:Lp};Ef.useEffectEvent=xp;var Mp={readContext:Jn,use:Qo,useCallback:Np,useContext:Jn,useEffect:_f,useImperativeHandle:_p,useInsertionEffect:vp,useLayoutEffect:yp,useMemo:jp,useReducer:Fc,useRef:Kd,useState:function(){return Fc(qs)},useDebugValue:Nf,useDeferredValue:function(t,r){var o=rn();return Ct===null?jf(o,t,r):Sp(o,Ct.memoizedState,t,r)},useTransition:function(){var t=Fc(qs)[0],r=rn().memoizedState;return[typeof t=="boolean"?t:Hi(t),r]},useSyncExternalStore:Hc,useId:kp,useHostTransitionStatus:Af,useFormState:Gc,useActionState:Gc,useOptimistic:function(t,r){var o=rn();return Ct!==null?$d(o,Ct,t,r):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:mo,useCacheRefresh:Lp};Mp.useEffectEvent=xp;function kf(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:j({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Lf={enqueueSetState:function(t,r,o){t=t._reactInternals;var u=ws(),g=Tt(u);g.payload=r,o!=null&&(g.callback=o),r=ta(t,g,u),r!==null&&(ss(r,t,u),ja(r,t,u))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=ws(),g=Tt(u);g.tag=1,g.payload=r,o!=null&&(g.callback=o),r=ta(t,g,u),r!==null&&(ss(r,t,u),ja(r,t,u))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=ws(),u=Tt(o);u.tag=2,r!=null&&(u.callback=r),r=ta(t,u,o),r!==null&&(ss(r,t,o),ja(r,t,o))}};function Pp(t,r,o,u,g,x,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,x,E):r.prototype&&r.prototype.isPureReactComponent?!oi(o,u)||!oi(g,x):!0}function Ip(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&Lf.enqueueReplaceState(r,r.state,null)}function Wl(t,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(t=t.defaultProps){o===r&&(o=j({},o));for(var g in t)o[g]===void 0&&(o[g]=t[g])}return o}function Up(t){Bl(t)}function Bp(t){console.error(t)}function qp(t){Bl(t)}function Wd(t,r){try{var o=t.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function zp(t,r,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Tf(t,r,o){return o=Tt(o),o.tag=3,o.payload={element:null},o.callback=function(){Wd(t,r)},o}function Fp(t){return t=Tt(t),t.tag=3,t}function Hp(t,r,o,u){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var x=u.value;t.payload=function(){return g(x)},t.callback=function(){zp(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){zp(r,o,u),typeof g!="function"&&(il===null?il=new Set([this]):il.add(this));var V=u.stack;this.componentDidCatch(u.value,{componentStack:V!==null?V:""})})}function Lv(t,r,o,u,g){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Bi(r,o,g,!0),o=Za.current,o!==null){switch(o.tag){case 31:case 13:return ga===null?lh():o.alternate===null&&jn===0&&(jn=3),o.flags&=-257,o.flags|=65536,o.lanes=g,u===Ne?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),am(t,u,g)),!1;case 22:return o.flags|=65536,u===Ne?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),am(t,u,g)),!1}throw Error(s(435,o.tag))}return am(t,u,g),lh(),!1}if(oa)return r=Za.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==xs&&(t=Error(s(422),{cause:u}),Wo(Kr(t,o)))):(u!==xs&&(r=Error(s(423),{cause:u}),Wo(Kr(r,o))),t=t.current.alternate,t.flags|=65536,g&=-g,t.lanes|=g,u=Kr(u,o),g=Tf(t.stateNode,u,g),Tn(t,g),jn!==4&&(jn=2)),!1;var x=Error(s(520),{cause:u});if(x=Kr(x,o),Qu===null?Qu=[x]:Qu.push(x),jn!==4&&(jn=2),r===null)return!0;u=Kr(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,t=g&-g,o.lanes|=t,t=Tf(o.stateNode,u,t),Tn(o,t),!1;case 1:if(r=o.type,x=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(il===null||!il.has(x))))return o.flags|=65536,g&=-g,o.lanes|=g,g=Fp(g),Hp(g,t,o,u),Tn(o,g),!1}o=o.return}while(o!==null);return!1}var Of=Error(s(461)),qn=!1;function br(t,r,o,u){r.child=t===null?Zt(r,null,o,u):Fa(r,t.child,o,u)}function $p(t,r,o,u,g){o=o.render;var x=r.ref;if("ref"in u){var E={};for(var V in u)V!=="ref"&&(E[V]=u[V])}else E=u;return qi(r),u=Iu(t,r,o,E,x,g),V=Uu(),t!==null&&!qn?(Bu(t,r,g),bo(t,r,g)):(oa&&V&&Ru(r),r.flags|=1,br(t,r,u,g),r.child)}function Vp(t,r,o,u,g){if(t===null){var x=o.type;return typeof x=="function"&&!kc(x)&&x.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=x,Gp(t,r,x,u,g)):(t=Yo(o.type,null,u,r,r.mode,g),t.ref=r.ref,t.return=r,r.child=t)}if(x=t.child,!qf(t,g)){var E=x.memoizedProps;if(o=o.compare,o=o!==null?o:oi,o(E,u)&&t.ref===r.ref)return bo(t,r,g)}return r.flags|=1,t=Yr(x,u),t.ref=r.ref,t.return=r,r.child=t}function Gp(t,r,o,u,g){if(t!==null){var x=t.memoizedProps;if(oi(x,u)&&t.ref===r.ref)if(qn=!1,r.pendingProps=u=x,qf(t,g))(t.flags&131072)!==0&&(qn=!0);else return r.lanes=t.lanes,bo(t,r,g)}return Rf(t,r,o,u,g)}function Yp(t,r,o,u){var g=u.children,x=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(x=x!==null?x.baseLanes|o:o,t!==null){for(u=r.child=t.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~x}else u=0,r.child=null;return Kp(t,r,x,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&J(r,x!==null?x.cachePool:null),x!==null?Xa(r,x):ya(),wn(r);else return u=r.lanes=536870912,Kp(t,r,x!==null?x.baseLanes|o:o,o,u)}else x!==null?(J(r,x.cachePool),Xa(r,x),_n(),r.memoizedState=null):(t!==null&&J(r,null),ya(),_n());return br(t,r,g,o),r.child}function Gu(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Kp(t,r,o,u,g){var x=Y();return x=x===null?null:{parent:fn._currentValue,pool:x},r.memoizedState={baseLanes:o,cachePool:x},t!==null&&J(r,null),ya(),wn(r),t!==null&&Bi(t,r,u,!0),r.childLanes=g,null}function Xd(t,r){return r=Qd({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Jp(t,r,o){return Fa(r,t.child,null,o),t=Xd(r,r.pendingProps),t.flags|=2,La(r),r.memoizedState=null,t}function Tv(t,r,o){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(oa){if(u.mode==="hidden")return t=Xd(r,u),r.lanes=536870912,Gu(null,t);if(Sa(r),(t=za)?(t=o1(t,an),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Xr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},o=Lc(t),o.return=r,r.child=o,Yn=r,za=null)):t=null,t===null)throw Pi(r);return r.lanes=536870912,null}return Xd(r,u)}var x=t.memoizedState;if(x!==null){var E=x.dehydrated;if(Sa(r),g)if(r.flags&256)r.flags&=-257,r=Jp(t,r,o);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(qn||Bi(t,r,o,!1),g=(o&t.childLanes)!==0,qn||g){if(u=Ha,u!==null&&(E=er(u,o),E!==0&&E!==x.retryLane))throw x.retryLane=E,di(t,E),ss(u,t,E),Of;lh(),r=Jp(t,r,o)}else t=x.treeContext,za=Fs(E.nextSibling),Yn=r,oa=!0,pr=null,an=!1,t!==null&&zd(r,t),r=Xd(r,u),r.flags|=4096;return r}return t=Yr(t.child,{mode:u.mode,children:u.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Zd(t,r){var o=r.ref;if(o===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(t===null||t.ref!==o)&&(r.flags|=4194816)}}function Rf(t,r,o,u,g){return qi(r),o=Iu(t,r,o,u,void 0,g),u=Uu(),t!==null&&!qn?(Bu(t,r,g),bo(t,r,g)):(oa&&u&&Ru(r),r.flags|=1,br(t,r,o,g),r.child)}function Wp(t,r,o,u,g,x){return qi(r),r.updateQueue=null,o=fi(r,u,o,g),Bc(t),u=Uu(),t!==null&&!qn?(Bu(t,r,x),bo(t,r,x)):(oa&&u&&Ru(r),r.flags|=1,br(t,r,o,x),r.child)}function Xp(t,r,o,u,g){if(qi(r),r.stateNode===null){var x=Gn,E=o.contextType;typeof E=="object"&&E!==null&&(x=Jn(E)),x=new o(u,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Lf,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=u,x.state=r.memoizedState,x.refs={},nt(r),E=o.contextType,x.context=typeof E=="object"&&E!==null?Jn(E):Gn,x.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(kf(r,o,E,u),x.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(E=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),E!==x.state&&Lf.enqueueReplaceState(x,x.state,null),vn(r,u,x,g),Ia(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(t===null){x=r.stateNode;var V=r.memoizedProps,fe=Wl(o,V);x.props=fe;var Me=x.context,ze=o.contextType;E=Gn,typeof ze=="object"&&ze!==null&&(E=Jn(ze));var Ve=o.getDerivedStateFromProps;ze=typeof Ve=="function"||typeof x.getSnapshotBeforeUpdate=="function",V=r.pendingProps!==V,ze||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(V||Me!==E)&&Ip(r,x,u,E),it=!1;var Ie=r.memoizedState;x.state=Ie,vn(r,u,x,g),Ia(),Me=r.memoizedState,V||Ie!==Me||it?(typeof Ve=="function"&&(kf(r,o,Ve,u),Me=r.memoizedState),(fe=it||Pp(r,o,fe,u,Ie,Me,E))?(ze||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Me),x.props=u,x.state=Me,x.context=E,u=fe):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{x=r.stateNode,Wa(t,r),E=r.memoizedProps,ze=Wl(o,E),x.props=ze,Ve=r.pendingProps,Ie=x.context,Me=o.contextType,fe=Gn,typeof Me=="object"&&Me!==null&&(fe=Jn(Me)),V=o.getDerivedStateFromProps,(Me=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==Ve||Ie!==fe)&&Ip(r,x,u,fe),it=!1,Ie=r.memoizedState,x.state=Ie,vn(r,u,x,g),Ia();var Ue=r.memoizedState;E!==Ve||Ie!==Ue||it||t!==null&&t.dependencies!==null&&Mc(t.dependencies)?(typeof V=="function"&&(kf(r,o,V,u),Ue=r.memoizedState),(ze=it||Pp(r,o,ze,u,Ie,Ue,fe)||t!==null&&t.dependencies!==null&&Mc(t.dependencies))?(Me||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Ue,fe),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Ue,fe)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===t.memoizedProps&&Ie===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Ie===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Ue),x.props=u,x.state=Ue,x.context=fe,u=ze):(typeof x.componentDidUpdate!="function"||E===t.memoizedProps&&Ie===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Ie===t.memoizedState||(r.flags|=1024),u=!1)}return x=u,Zd(t,r),u=(r.flags&128)!==0,x||u?(x=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,t!==null&&u?(r.child=Fa(r,t.child,null,g),r.child=Fa(r,null,o,g)):br(t,r,o,g),r.memoizedState=x.state,t=r.child):t=bo(t,r,g),t}function Zp(t,r,o,u){return ho(),r.flags|=256,br(t,r,o,u),r.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(t){return{baseLanes:t,cachePool:ee()}}function Pf(t,r,o){return t=t!==null?t.childLanes&~o:0,r&&(t|=ys),t}function Qp(t,r,o){var u=r.pendingProps,g=!1,x=(r.flags&128)!==0,E;if((E=x)||(E=t!==null&&t.memoizedState===null?!1:(ma.current&2)!==0),E&&(g=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(oa){if(g?mn(r):_n(),(t=za)?(t=o1(t,an),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Xr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},o=Lc(t),o.return=r,r.child=o,Yn=r,za=null)):t=null,t===null)throw Pi(r);return xm(t)?r.lanes=32:r.lanes=536870912,null}var V=u.children;return u=u.fallback,g?(_n(),g=r.mode,V=Qd({mode:"hidden",children:V},g),u=Di(u,g,o,null),V.return=r,u.return=r,V.sibling=u,r.child=V,u=r.child,u.memoizedState=Mf(o),u.childLanes=Pf(t,E,o),r.memoizedState=Df,Gu(null,u)):(mn(r),If(r,V))}var fe=t.memoizedState;if(fe!==null&&(V=fe.dehydrated,V!==null)){if(x)r.flags&256?(mn(r),r.flags&=-257,r=Uf(t,r,o)):r.memoizedState!==null?(_n(),r.child=t.child,r.flags|=128,r=null):(_n(),V=u.fallback,g=r.mode,u=Qd({mode:"visible",children:u.children},g),V=Di(V,g,o,null),V.flags|=2,u.return=r,V.return=r,u.sibling=V,r.child=u,Fa(r,t.child,null,o),u=r.child,u.memoizedState=Mf(o),u.childLanes=Pf(t,E,o),r.memoizedState=Df,r=Gu(null,u));else if(mn(r),xm(V)){if(E=V.nextSibling&&V.nextSibling.dataset,E)var Me=E.dgst;E=Me,u=Error(s(419)),u.stack="",u.digest=E,Wo({value:u,source:null,stack:null}),r=Uf(t,r,o)}else if(qn||Bi(t,r,o,!1),E=(o&t.childLanes)!==0,qn||E){if(E=Ha,E!==null&&(u=er(E,o),u!==0&&u!==fe.retryLane))throw fe.retryLane=u,di(t,u),ss(E,t,u),Of;bm(V)||lh(),r=Uf(t,r,o)}else bm(V)?(r.flags|=192,r.child=t.child,r=null):(t=fe.treeContext,za=Fs(V.nextSibling),Yn=r,oa=!0,pr=null,an=!1,t!==null&&zd(r,t),r=If(r,u.children),r.flags|=4096);return r}return g?(_n(),V=u.fallback,g=r.mode,fe=t.child,Me=fe.sibling,u=Yr(fe,{mode:"hidden",children:u.children}),u.subtreeFlags=fe.subtreeFlags&65011712,Me!==null?V=Yr(Me,V):(V=Di(V,g,o,null),V.flags|=2),V.return=r,u.return=r,u.sibling=V,r.child=u,Gu(null,u),u=r.child,V=t.child.memoizedState,V===null?V=Mf(o):(g=V.cachePool,g!==null?(fe=fn._currentValue,g=g.parent!==fe?{parent:fe,pool:fe}:g):g=ee(),V={baseLanes:V.baseLanes|o,cachePool:g}),u.memoizedState=V,u.childLanes=Pf(t,E,o),r.memoizedState=Df,Gu(t.child,u)):(mn(r),o=t.child,t=o.sibling,o=Yr(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=o,r.memoizedState=null,o)}function If(t,r){return r=Qd({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Qd(t,r){return t=rr(22,t,null,r),t.lanes=0,t}function Uf(t,r,o){return Fa(r,t.child,null,o),t=If(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function eg(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Xo(t.return,r,o)}function Bf(t,r,o,u,g,x){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:g,treeForkCount:x}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=g,E.treeForkCount=x)}function tg(t,r,o){var u=r.pendingProps,g=u.revealOrder,x=u.tail;u=u.children;var E=ma.current,V=(E&2)!==0;if(V?(E=E&1|2,r.flags|=128):E&=1,I(ma,E),br(t,r,u,o),u=oa?Vl:0,!V&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eg(t,o,r);else if(t.tag===19)eg(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(g){case"forwards":for(o=r.child,g=null;o!==null;)t=o.alternate,t!==null&&ir(t)===null&&(g=o),o=o.sibling;o=g,o===null?(g=r.child,r.child=null):(g=o.sibling,o.sibling=null),Bf(r,!1,g,o,x,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=r.child,r.child=null;g!==null;){if(t=g.alternate,t!==null&&ir(t)===null){r.child=g;break}t=g.sibling,g.sibling=o,o=g,g=t}Bf(r,!0,o,null,x,u);break;case"together":Bf(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function bo(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),sl|=r.lanes,(o&r.childLanes)===0)if(t!==null){if(Bi(t,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,o=Yr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Yr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function qf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Mc(t)))}function Ov(t,r,o){switch(r.tag){case 3:ke(r,r.stateNode.containerInfo),Ui(r,fn,t.memoizedState.cache),ho();break;case 27:case 5:B(r);break;case 4:ke(r,r.stateNode.containerInfo);break;case 10:Ui(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Sa(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(mn(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Qp(t,r,o):(mn(r),t=bo(t,r,o),t!==null?t.sibling:null);mn(r);break;case 19:var g=(t.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Bi(t,r,o,!1),u=(o&r.childLanes)!==0),g){if(u)return tg(t,r,o);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),I(ma,ma.current),u)break;return null;case 22:return r.lanes=0,Yp(t,r,o,r.pendingProps);case 24:Ui(r,fn,t.memoizedState.cache)}return bo(t,r,o)}function ag(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps)qn=!0;else{if(!qf(t,o)&&(r.flags&128)===0)return qn=!1,Ov(t,r,o);qn=(t.flags&131072)!==0}else qn=!1,oa&&(r.flags&1048576)!==0&&qd(r,Vl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(t=Te(r.elementType),r.type=t,typeof t=="function")kc(t)?(u=Wl(t,u),r.tag=1,r=Xp(null,r,t,u,o)):(r.tag=0,r=Rf(null,r,t,u,o));else{if(t!=null){var g=t.$$typeof;if(g===F){r.tag=11,r=$p(null,r,t,u,o);break e}else if(g===W){r.tag=14,r=Vp(null,r,t,u,o);break e}}throw r=ue(t)||t,Error(s(306,r,""))}}return r;case 0:return Rf(t,r,r.type,r.pendingProps,o);case 1:return u=r.type,g=Wl(u,r.pendingProps),Xp(t,r,u,g,o);case 3:e:{if(ke(r,r.stateNode.containerInfo),t===null)throw Error(s(387));u=r.pendingProps;var x=r.memoizedState;g=x.element,Wa(t,r),vn(r,u,null,o);var E=r.memoizedState;if(u=E.cache,Ui(r,fn,u),u!==x.cache&&fo(r,[fn],o,!0),Ia(),u=E.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=Zp(t,r,u,o);break e}else if(u!==g){g=Kr(Error(s(424)),r),Wo(g),r=Zp(t,r,u,o);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(za=Fs(t.firstChild),Yn=r,oa=!0,pr=null,an=!0,o=Zt(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ho(),u===g){r=bo(t,r,o);break e}br(t,r,u,o)}r=r.child}return r;case 26:return Zd(t,r),t===null?(o=f1(r.type,null,r.pendingProps,null))?r.memoizedState=o:oa||(o=r.type,t=r.pendingProps,u=ph(ie.current).createElement(o),u[be]=r,u[Pe]=t,xr(u,o,t),Ka(u),r.stateNode=u):r.memoizedState=f1(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return B(r),t===null&&oa&&(u=r.stateNode=u1(r.type,r.pendingProps,ie.current),Yn=r,an=!0,g=za,ul(r.type)?(vm=g,za=Fs(u.firstChild)):za=g),br(t,r,r.pendingProps.children,o),Zd(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&oa&&((g=u=za)&&(u=ly(u,r.type,r.pendingProps,an),u!==null?(r.stateNode=u,Yn=r,za=Fs(u.firstChild),an=!1,g=!0):g=!1),g||Pi(r)),B(r),g=r.type,x=r.pendingProps,E=t!==null?t.memoizedProps:null,u=x.children,mm(g,x)?u=null:E!==null&&mm(g,E)&&(r.flags|=32),r.memoizedState!==null&&(g=Iu(t,r,wf,null,null,o),od._currentValue=g),Zd(t,r),br(t,r,u,o),r.child;case 6:return t===null&&oa&&((t=o=za)&&(o=cy(o,r.pendingProps,an),o!==null?(r.stateNode=o,Yn=r,za=null,t=!0):t=!1),t||Pi(r)),null;case 13:return Qp(t,r,o);case 4:return ke(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Fa(r,null,u,o):br(t,r,u,o),r.child;case 11:return $p(t,r,r.type,r.pendingProps,o);case 7:return br(t,r,r.pendingProps,o),r.child;case 8:return br(t,r,r.pendingProps.children,o),r.child;case 12:return br(t,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Ui(r,r.type,u.value),br(t,r,u.children,o),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,qi(r),g=Jn(g),u=u(g),r.flags|=1,br(t,r,u,o),r.child;case 14:return Vp(t,r,r.type,r.pendingProps,o);case 15:return Gp(t,r,r.type,r.pendingProps,o);case 19:return tg(t,r,o);case 31:return Tv(t,r,o);case 22:return Yp(t,r,o,r.pendingProps);case 24:return qi(r),u=Jn(fn),t===null?(g=Y(),g===null&&(g=Ha,x=Zo(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=o),g=x),r.memoizedState={parent:u,cache:g},nt(r),Ui(r,fn,g)):((t.lanes&o)!==0&&(Wa(t,r),vn(r,null,null,o),Ia()),g=t.memoizedState,x=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Ui(r,fn,u)):(u=x.cache,Ui(r,fn,u),u!==g.cache&&fo(r,[fn],o,!0))),br(t,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function xo(t){t.flags|=4}function zf(t,r,o,u,g){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(g&335544128)===g)if(t.stateNode.complete)t.flags|=8192;else if(kg())t.flags|=8192;else throw Be=Ne,Re}else t.flags&=-16777217}function ng(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x1(r))if(kg())t.flags|=8192;else throw Be=Ne,Re}function eh(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?zr():536870912,t.lanes|=r,Wc|=r)}function Yu(t,r){if(!oa)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Qa(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var g=t.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=t,g=g.sibling;else for(g=t.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=t,g=g.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Rv(t,r,o){var u=r.pendingProps;switch(Rc(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qa(r),null;case 1:return Qa(r),null;case 3:return o=r.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Qr(fn),ce(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Kn(r)?xo(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Mu())),Qa(r),null;case 26:var g=r.type,x=r.memoizedState;return t===null?(xo(r),x!==null?(Qa(r),ng(r,x)):(Qa(r),zf(r,g,null,u,o))):x?x!==t.memoizedState?(xo(r),Qa(r),ng(r,x)):(Qa(r),r.flags&=-16777217):(t=t.memoizedProps,t!==u&&xo(r),Qa(r),zf(r,g,t,u,o)),null;case 27:if(Ae(r),o=ie.current,g=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&xo(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Qa(r),null}t=q.current,Kn(r)?Du(r):(t=u1(g,u,o),r.stateNode=t,xo(r))}return Qa(r),null;case 5:if(Ae(r),g=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&xo(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Qa(r),null}if(x=q.current,Kn(r))Du(r);else{var E=ph(ie.current);switch(x){case 1:x=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:x=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":x=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":x=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":x=E.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?E.createElement(g,{is:u.is}):E.createElement(g)}}x[be]=r,x[Pe]=u;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)x.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=x;e:switch(xr(x,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&xo(r)}}return Qa(r),zf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,o),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==u&&xo(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(t=ie.current,Kn(r)){if(t=r.stateNode,o=r.memoizedProps,u=null,g=Yn,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}t[be]=r,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Qg(t.nodeValue,o)),t||Pi(r,!0)}else t=ph(t).createTextNode(u),t[be]=r,r.stateNode=t}return Qa(r),null;case 31:if(o=r.memoizedState,t===null||t.memoizedState!==null){if(u=Kn(r),o!==null){if(t===null){if(!u)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[be]=r}else ho(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Qa(r),t=!1}else o=Mu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return r.flags&256?(La(r),r):(La(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Qa(r),null;case 13:if(u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(g=Kn(r),u!==null&&u.dehydrated!==null){if(t===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[be]=r}else ho(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Qa(r),g=!1}else g=Mu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(La(r),r):(La(r),null)}return La(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,t=t!==null&&t.memoizedState!==null,o&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==g&&(u.flags|=2048)),o!==t&&o&&(r.child.flags|=8192),eh(r,r.updateQueue),Qa(r),null);case 4:return ce(),t===null&&cm(r.stateNode.containerInfo),Qa(r),null;case 10:return Qr(r.type),Qa(r),null;case 19:if(S(ma),u=r.memoizedState,u===null)return Qa(r),null;if(g=(r.flags&128)!==0,x=u.rendering,x===null)if(g)Yu(u,!1);else{if(jn!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(x=ir(t),x!==null){for(r.flags|=128,Yu(u,!1),t=x.updateQueue,r.updateQueue=t,eh(r,t),r.subtreeFlags=0,t=o,o=r.child;o!==null;)Hl(o,t),o=o.sibling;return I(ma,ma.current&1|2),oa&&qr(r,u.treeForkCount),r.child}t=t.sibling}u.tail!==null&&St()>sh&&(r.flags|=128,g=!0,Yu(u,!1),r.lanes=4194304)}else{if(!g)if(t=ir(x),t!==null){if(r.flags|=128,g=!0,t=t.updateQueue,r.updateQueue=t,eh(r,t),Yu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!oa)return Qa(r),null}else 2*St()-u.renderingStartTime>sh&&o!==536870912&&(r.flags|=128,g=!0,Yu(u,!1),r.lanes=4194304);u.isBackwards?(x.sibling=r.child,r.child=x):(t=u.last,t!==null?t.sibling=x:r.child=x,u.last=x)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=St(),t.sibling=null,o=ma.current,I(ma,g?o&1|2:o&1),oa&&qr(r,u.treeForkCount),t):(Qa(r),null);case 22:case 23:return La(r),On(),u=r.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(Qa(r),r.subtreeFlags&6&&(r.flags|=8192)):Qa(r),o=r.updateQueue,o!==null&&eh(r,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),t!==null&&S(z),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Qr(fn),Qa(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Dv(t,r){switch(Rc(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Qr(fn),ce(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ae(r),null;case 31:if(r.memoizedState!==null){if(La(r),r.alternate===null)throw Error(s(340));ho()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(La(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ho()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return S(ma),null;case 4:return ce(),null;case 10:return Qr(r.type),null;case 22:case 23:return La(r),On(),t!==null&&S(z),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Qr(fn),null;case 25:return null;default:return null}}function rg(t,r){switch(Rc(r),r.tag){case 3:Qr(fn),ce();break;case 26:case 27:case 5:Ae(r);break;case 4:ce();break;case 31:r.memoizedState!==null&&La(r);break;case 13:La(r);break;case 19:S(ma);break;case 10:Qr(r.type);break;case 22:case 23:La(r),On(),t!==null&&S(z);break;case 24:Qr(fn)}}function Ku(t,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var g=u.next;o=g;do{if((o.tag&t)===t){u=void 0;var x=o.create,E=o.inst;u=x(),E.destroy=u}o=o.next}while(o!==g)}}catch(V){Oa(r,r.return,V)}}function nl(t,r,o){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var x=g.next;u=x;do{if((u.tag&t)===t){var E=u.inst,V=E.destroy;if(V!==void 0){E.destroy=void 0,g=r;var fe=o,Me=V;try{Me()}catch(ze){Oa(g,fe,ze)}}}u=u.next}while(u!==x)}}catch(ze){Oa(r,r.return,ze)}}function sg(t){var r=t.updateQueue;if(r!==null){var o=t.stateNode;try{yn(r,o)}catch(u){Oa(t,t.return,u)}}}function ig(t,r,o){o.props=Wl(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Oa(t,r,u)}}function Ju(t,r){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(g){Oa(t,r,g)}}function Vi(t,r){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(g){Oa(t,r,g)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){Oa(t,r,g)}else o.current=null}function og(t){var r=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(g){Oa(t,t.return,g)}}function Ff(t,r,o){try{var u=t.stateNode;ay(u,t.type,o,r),u[Pe]=r}catch(g){Oa(t,t.return,g)}}function lg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ul(t.type)||t.tag===4}function Hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ul(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(t),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=hs));else if(u!==4&&(u===27&&ul(t.type)&&(o=t.stateNode,r=null),t=t.child,t!==null))for($f(t,r,o),t=t.sibling;t!==null;)$f(t,r,o),t=t.sibling}function th(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(u===27&&ul(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(th(t,r,o),t=t.sibling;t!==null;)th(t,r,o),t=t.sibling}function cg(t){var r=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);xr(r,u,o),r[be]=t,r[Pe]=o}catch(x){Oa(t,t.return,x)}}var vo=!1,zn=!1,Vf=!1,ug=typeof WeakSet=="function"?WeakSet:Set,or=null;function Mv(t,r){if(t=t.containerInfo,hm=_h,t=ci(t),Is(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var g=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var E=0,V=-1,fe=-1,Me=0,ze=0,Ve=t,Ie=null;t:for(;;){for(var Ue;Ve!==o||g!==0&&Ve.nodeType!==3||(V=E+g),Ve!==x||u!==0&&Ve.nodeType!==3||(fe=E+u),Ve.nodeType===3&&(E+=Ve.nodeValue.length),(Ue=Ve.firstChild)!==null;)Ie=Ve,Ve=Ue;for(;;){if(Ve===t)break t;if(Ie===o&&++Me===g&&(V=E),Ie===x&&++ze===u&&(fe=E),(Ue=Ve.nextSibling)!==null)break;Ve=Ie,Ie=Ve.parentNode}Ve=Ue}o=V===-1||fe===-1?null:{start:V,end:fe}}else o=null}o=o||{start:0,end:0}}else o=null;for(fm={focusedElem:t,selectionRange:o},_h=!1,or=r;or!==null;)if(r=or,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,or=t;else for(;or!==null;){switch(r=or,x=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)g=t[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&x!==null){t=void 0,o=r,g=x.memoizedProps,x=x.memoizedState,u=o.stateNode;try{var ut=Wl(o.type,g);t=u.getSnapshotBeforeUpdate(ut,x),u.__reactInternalSnapshotBeforeUpdate=t}catch(Rt){Oa(o,o.return,Rt)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,o=t.nodeType,o===9)gm(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,or=t;break}or=r.return}}function dg(t,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:wo(t,o),u&4&&Ku(5,o);break;case 1:if(wo(t,o),u&4)if(t=o.stateNode,r===null)try{t.componentDidMount()}catch(E){Oa(o,o.return,E)}else{var g=Wl(o.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(g,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Oa(o,o.return,E)}}u&64&&sg(o),u&512&&Ju(o,o.return);break;case 3:if(wo(t,o),u&64&&(t=o.updateQueue,t!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{yn(t,r)}catch(E){Oa(o,o.return,E)}}break;case 27:r===null&&u&4&&cg(o);case 26:case 5:wo(t,o),r===null&&u&4&&og(o),u&512&&Ju(o,o.return);break;case 12:wo(t,o);break;case 31:wo(t,o),u&4&&mg(t,o);break;case 13:wo(t,o),u&4&&pg(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=$v.bind(null,o),uy(t,o))));break;case 22:if(u=o.memoizedState!==null||vo,!u){r=r!==null&&r.memoizedState!==null||zn,g=vo;var x=zn;vo=u,(zn=r)&&!x?_o(t,o,(o.subtreeFlags&8772)!==0):wo(t,o),vo=g,zn=x}break;case 30:break;default:wo(t,o)}}function hg(t){var r=t.alternate;r!==null&&(t.alternate=null,hg(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ft(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var sn=null,ts=!1;function yo(t,r,o){for(o=o.child;o!==null;)fg(t,r,o),o=o.sibling}function fg(t,r,o){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Jt,o)}catch{}switch(o.tag){case 26:zn||Vi(o,r),yo(t,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:zn||Vi(o,r);var u=sn,g=ts;ul(o.type)&&(sn=o.stateNode,ts=!1),yo(t,r,o),rd(o.stateNode),sn=u,ts=g;break;case 5:zn||Vi(o,r);case 6:if(u=sn,g=ts,sn=null,yo(t,r,o),sn=u,ts=g,sn!==null)if(ts)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(o.stateNode)}catch(x){Oa(o,r,x)}else try{sn.removeChild(o.stateNode)}catch(x){Oa(o,r,x)}break;case 18:sn!==null&&(ts?(t=sn,s1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),ru(t)):s1(sn,o.stateNode));break;case 4:u=sn,g=ts,sn=o.stateNode.containerInfo,ts=!0,yo(t,r,o),sn=u,ts=g;break;case 0:case 11:case 14:case 15:nl(2,o,r),zn||nl(4,o,r),yo(t,r,o);break;case 1:zn||(Vi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ig(o,r,u)),yo(t,r,o);break;case 21:yo(t,r,o);break;case 22:zn=(u=zn)||o.memoizedState!==null,yo(t,r,o),zn=u;break;default:yo(t,r,o)}}function mg(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ru(t)}catch(o){Oa(r,r.return,o)}}}function pg(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ru(t)}catch(o){Oa(r,r.return,o)}}function Pv(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new ug),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new ug),r;default:throw Error(s(435,t.tag))}}function ah(t,r){var o=Pv(t);r.forEach(function(u){if(!o.has(u)){o.add(u);var g=Vv.bind(null,t,u);u.then(g,g)}})}function as(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var g=o[u],x=t,E=r,V=E;e:for(;V!==null;){switch(V.tag){case 27:if(ul(V.type)){sn=V.stateNode,ts=!1;break e}break;case 5:sn=V.stateNode,ts=!1;break e;case 3:case 4:sn=V.stateNode.containerInfo,ts=!0;break e}V=V.return}if(sn===null)throw Error(s(160));fg(x,E,g),sn=null,ts=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)gg(r,t),r=r.sibling}var bi=null;function gg(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:as(r,t),ns(t),u&4&&(nl(3,t,t.return),Ku(3,t),nl(5,t,t.return));break;case 1:as(r,t),ns(t),u&512&&(zn||o===null||Vi(o,o.return)),u&64&&vo&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var g=bi;if(as(r,t),ns(t),u&512&&(zn||o===null||Vi(o,o.return)),u&4){var x=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":x=g.getElementsByTagName("title")[0],(!x||x[gn]||x[be]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(u),g.head.insertBefore(x,g.querySelector("head > title"))),xr(x,u,o),x[be]=t,Ka(x),u=x;break e;case"link":var E=g1("link","href",g).get(u+(o.href||""));if(E){for(var V=0;V<E.length;V++)if(x=E[V],x.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&x.getAttribute("rel")===(o.rel==null?null:o.rel)&&x.getAttribute("title")===(o.title==null?null:o.title)&&x.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(V,1);break t}}x=g.createElement(u),xr(x,u,o),g.head.appendChild(x);break;case"meta":if(E=g1("meta","content",g).get(u+(o.content||""))){for(V=0;V<E.length;V++)if(x=E[V],x.getAttribute("content")===(o.content==null?null:""+o.content)&&x.getAttribute("name")===(o.name==null?null:o.name)&&x.getAttribute("property")===(o.property==null?null:o.property)&&x.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&x.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(V,1);break t}}x=g.createElement(u),xr(x,u,o),g.head.appendChild(x);break;default:throw Error(s(468,u))}x[be]=t,Ka(x),u=x}t.stateNode=u}else b1(g,t.type,t.stateNode);else t.stateNode=p1(g,u,t.memoizedProps);else x!==u?(x===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):x.count--,u===null?b1(g,t.type,t.stateNode):p1(g,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,o.memoizedProps)}break;case 27:as(r,t),ns(t),u&512&&(zn||o===null||Vi(o,o.return)),o!==null&&u&4&&Ff(t,t.memoizedProps,o.memoizedProps);break;case 5:if(as(r,t),ns(t),u&512&&(zn||o===null||Vi(o,o.return)),t.flags&32){g=t.stateNode;try{ds(g,"")}catch(ut){Oa(t,t.return,ut)}}u&4&&t.stateNode!=null&&(g=t.memoizedProps,Ff(t,g,o!==null?o.memoizedProps:g)),u&1024&&(Vf=!0);break;case 6:if(as(r,t),ns(t),u&4){if(t.stateNode===null)throw Error(s(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(ut){Oa(t,t.return,ut)}}break;case 3:if(xh=null,g=bi,bi=gh(r.containerInfo),as(r,t),bi=g,ns(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ru(r.containerInfo)}catch(ut){Oa(t,t.return,ut)}Vf&&(Vf=!1,bg(t));break;case 4:u=bi,bi=gh(t.stateNode.containerInfo),as(r,t),ns(t),bi=u;break;case 12:as(r,t),ns(t);break;case 31:as(r,t),ns(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,ah(t,u)));break;case 13:as(r,t),ns(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(rh=St()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,ah(t,u)));break;case 22:g=t.memoizedState!==null;var fe=o!==null&&o.memoizedState!==null,Me=vo,ze=zn;if(vo=Me||g,zn=ze||fe,as(r,t),zn=ze,vo=Me,ns(t),u&8192)e:for(r=t.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(o===null||fe||vo||zn||Xl(t)),o=null,r=t;;){if(r.tag===5||r.tag===26){if(o===null){fe=o=r;try{if(x=fe.stateNode,g)E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{V=fe.stateNode;var Ve=fe.memoizedProps.style,Ie=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;V.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(ut){Oa(fe,fe.return,ut)}}}else if(r.tag===6){if(o===null){fe=r;try{fe.stateNode.nodeValue=g?"":fe.memoizedProps}catch(ut){Oa(fe,fe.return,ut)}}}else if(r.tag===18){if(o===null){fe=r;try{var Ue=fe.stateNode;g?i1(Ue,!0):i1(fe.stateNode,!1)}catch(ut){Oa(fe,fe.return,ut)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,ah(t,o))));break;case 19:as(r,t),ns(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,ah(t,u)));break;case 30:break;case 21:break;default:as(r,t),ns(t)}}function ns(t){var r=t.flags;if(r&2){try{for(var o,u=t.return;u!==null;){if(lg(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var g=o.stateNode,x=Hf(t);th(t,x,g);break;case 5:var E=o.stateNode;o.flags&32&&(ds(E,""),o.flags&=-33);var V=Hf(t);th(t,V,E);break;case 3:case 4:var fe=o.stateNode.containerInfo,Me=Hf(t);$f(t,Me,fe);break;default:throw Error(s(161))}}catch(ze){Oa(t,t.return,ze)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function bg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;bg(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function wo(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)dg(t,r.alternate,r),r=r.sibling}function Xl(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:nl(4,r,r.return),Xl(r);break;case 1:Vi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&ig(r,r.return,o),Xl(r);break;case 27:rd(r.stateNode);case 26:case 5:Vi(r,r.return),Xl(r);break;case 22:r.memoizedState===null&&Xl(r);break;case 30:Xl(r);break;default:Xl(r)}t=t.sibling}}function _o(t,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=t,x=r,E=x.flags;switch(x.tag){case 0:case 11:case 15:_o(g,x,o),Ku(4,x);break;case 1:if(_o(g,x,o),u=x,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Me){Oa(u,u.return,Me)}if(u=x,g=u.updateQueue,g!==null){var V=u.stateNode;try{var fe=g.shared.hiddenCallbacks;if(fe!==null)for(g.shared.hiddenCallbacks=null,g=0;g<fe.length;g++)sr(fe[g],V)}catch(Me){Oa(u,u.return,Me)}}o&&E&64&&sg(x),Ju(x,x.return);break;case 27:cg(x);case 26:case 5:_o(g,x,o),o&&u===null&&E&4&&og(x),Ju(x,x.return);break;case 12:_o(g,x,o);break;case 31:_o(g,x,o),o&&E&4&&mg(g,x);break;case 13:_o(g,x,o),o&&E&4&&pg(g,x);break;case 22:x.memoizedState===null&&_o(g,x,o),Ju(x,x.return);break;case 30:break;default:_o(g,x,o)}r=r.sibling}}function Gf(t,r){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&Gl(o))}function Yf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Gl(t))}function xi(t,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)xg(t,r,o,u),r=r.sibling}function xg(t,r,o,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:xi(t,r,o,u),g&2048&&Ku(9,r);break;case 1:xi(t,r,o,u);break;case 3:xi(t,r,o,u),g&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Gl(t)));break;case 12:if(g&2048){xi(t,r,o,u),t=r.stateNode;try{var x=r.memoizedProps,E=x.id,V=x.onPostCommit;typeof V=="function"&&V(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(fe){Oa(r,r.return,fe)}}else xi(t,r,o,u);break;case 31:xi(t,r,o,u);break;case 13:xi(t,r,o,u);break;case 23:break;case 22:x=r.stateNode,E=r.alternate,r.memoizedState!==null?x._visibility&2?xi(t,r,o,u):Wu(t,r):x._visibility&2?xi(t,r,o,u):(x._visibility|=2,Yc(t,r,o,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Gf(E,r);break;case 24:xi(t,r,o,u),g&2048&&Yf(r.alternate,r);break;default:xi(t,r,o,u)}}function Yc(t,r,o,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var x=t,E=r,V=o,fe=u,Me=E.flags;switch(E.tag){case 0:case 11:case 15:Yc(x,E,V,fe,g),Ku(8,E);break;case 23:break;case 22:var ze=E.stateNode;E.memoizedState!==null?ze._visibility&2?Yc(x,E,V,fe,g):Wu(x,E):(ze._visibility|=2,Yc(x,E,V,fe,g)),g&&Me&2048&&Gf(E.alternate,E);break;case 24:Yc(x,E,V,fe,g),g&&Me&2048&&Yf(E.alternate,E);break;default:Yc(x,E,V,fe,g)}r=r.sibling}}function Wu(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=t,u=r,g=u.flags;switch(u.tag){case 22:Wu(o,u),g&2048&&Gf(u.alternate,u);break;case 24:Wu(o,u),g&2048&&Yf(u.alternate,u);break;default:Wu(o,u)}r=r.sibling}}var Xu=8192;function Kc(t,r,o){if(t.subtreeFlags&Xu)for(t=t.child;t!==null;)vg(t,r,o),t=t.sibling}function vg(t,r,o){switch(t.tag){case 26:Kc(t,r,o),t.flags&Xu&&t.memoizedState!==null&&_y(o,bi,t.memoizedState,t.memoizedProps);break;case 5:Kc(t,r,o);break;case 3:case 4:var u=bi;bi=gh(t.stateNode.containerInfo),Kc(t,r,o),bi=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Xu,Xu=16777216,Kc(t,r,o),Xu=u):Kc(t,r,o));break;default:Kc(t,r,o)}}function yg(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Zu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];or=u,_g(u,t)}yg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wg(t),t=t.sibling}function wg(t){switch(t.tag){case 0:case 11:case 15:Zu(t),t.flags&2048&&nl(9,t,t.return);break;case 3:Zu(t);break;case 12:Zu(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,nh(t)):Zu(t);break;default:Zu(t)}}function nh(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];or=u,_g(u,t)}yg(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:nl(8,r,r.return),nh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,nh(r));break;default:nh(r)}t=t.sibling}}function _g(t,r){for(;or!==null;){var o=or;switch(o.tag){case 0:case 11:case 15:nl(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Gl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,or=u;else e:for(o=t;or!==null;){u=or;var g=u.sibling,x=u.return;if(hg(u),u===o){or=null;break e}if(g!==null){g.return=x,or=g;break e}or=x}}}var Iv={getCacheForType:function(t){var r=Jn(fn),o=r.data.get(t);return o===void 0&&(o=t(),r.data.set(t,o)),o},cacheSignal:function(){return Jn(fn).controller.signal}},Uv=typeof WeakMap=="function"?WeakMap:Map,Aa=0,Ha=null,la=null,ua=0,Ta=0,vs=null,rl=!1,Jc=!1,Kf=!1,No=0,jn=0,sl=0,Zl=0,Jf=0,ys=0,Wc=0,Qu=null,rs=null,Wf=!1,rh=0,Ng=0,sh=1/0,ih=null,il=null,Xn=0,ol=null,Xc=null,jo=0,Xf=0,Zf=null,jg=null,ed=0,Qf=null;function ws(){return(Aa&2)!==0&&ua!==0?ua&-ua:re.T!==null?sm():cn()}function Sg(){if(ys===0)if((ua&536870912)===0||oa){var t=Na;Na<<=1,(Na&3932160)===0&&(Na=262144),ys=t}else ys=536870912;return t=Za.current,t!==null&&(t.flags|=32),ys}function ss(t,r,o){(t===Ha&&(Ta===2||Ta===9)||t.cancelPendingCommit!==null)&&(Zc(t,0),ll(t,ua,ys,!1)),vt(t,o),((Aa&2)===0||t!==Ha)&&(t===Ha&&((Aa&2)===0&&(Zl|=o),jn===4&&ll(t,ua,ys,!1)),Gi(t))}function Ag(t,r,o){if((Aa&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&t.expiredLanes)===0||wr(t,r),g=u?zv(t,r):tm(t,r,!0),x=u;do{if(g===0){Jc&&!u&&ll(t,r,0,!1);break}else{if(o=t.current.alternate,x&&!Bv(o)){g=tm(t,r,!1),x=!1;continue}if(g===2){if(x=r,t.errorRecoveryDisabledLanes&x)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var V=t;g=Qu;var fe=V.current.memoizedState.isDehydrated;if(fe&&(Zc(V,E).flags|=256),E=tm(V,E,!1),E!==2){if(Kf&&!fe){V.errorRecoveryDisabledLanes|=x,Zl|=x,g=4;break e}x=rs,rs=g,x!==null&&(rs===null?rs=x:rs.push.apply(rs,x))}g=E}if(x=!1,g!==2)continue}}if(g===1){Zc(t,0),ll(t,r,0,!0);break}e:{switch(u=t,x=g,x){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ll(u,r,ys,!rl);break e;case 2:rs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=rh+300-St(),10<g)){if(ll(u,r,ys,!rl),ra(u,0,!0)!==0)break e;jo=r,u.timeoutHandle=n1(Cg.bind(null,u,o,rs,ih,Wf,r,ys,Zl,Wc,rl,x,"Throttled",-0,0),g);break e}Cg(u,o,rs,ih,Wf,r,ys,Zl,Wc,rl,x,null,-0,0)}}break}while(!0);Gi(t)}function Cg(t,r,o,u,g,x,E,V,fe,Me,ze,Ve,Ie,Ue){if(t.timeoutHandle=-1,Ve=r.subtreeFlags,Ve&8192||(Ve&16785408)===16785408){Ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hs},vg(r,x,Ve);var ut=(x&62914560)===x?rh-St():(x&4194048)===x?Ng-St():0;if(ut=Ny(Ve,ut),ut!==null){jo=x,t.cancelPendingCommit=ut(Mg.bind(null,t,r,x,o,u,g,E,V,fe,ze,Ve,null,Ie,Ue)),ll(t,x,E,!Me);return}}Mg(t,r,x,o,u,g,E,V,fe)}function Bv(t){for(var r=t;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var g=o[u],x=g.getSnapshot;g=g.value;try{if(!Vn(x(),g))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ll(t,r,o,u){r&=~Jf,r&=~Zl,t.suspendedLanes|=r,t.pingedLanes&=~r,u&&(t.warmLanes|=r),u=t.expirationTimes;for(var g=r;0<g;){var x=31-Wt(g),E=1<<x;u[x]=-1,g&=~E}o!==0&&Tr(t,o,r)}function oh(){return(Aa&6)===0?(td(0),!1):!0}function em(){if(la!==null){if(Ta===0)var t=la.return;else t=la,Bs=Ii=null,qc(t),Ye=null,dt=0,t=la;for(;t!==null;)rg(t.alternate,t),t=t.return;la=null}}function Zc(t,r){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,sy(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),jo=0,em(),Ha=t,la=o=Yr(t.current,null),ua=r,Ta=0,vs=null,rl=!1,Jc=wr(t,r),Kf=!1,Wc=ys=Jf=Zl=sl=jn=0,rs=Qu=null,Wf=!1,(r&8)!==0&&(r|=r&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=r;0<u;){var g=31-Wt(u),x=1<<g;r|=t[g],u&=~x}return No=r,ql(),o}function Eg(t,r){jt=null,re.H=Vu,r===ve||r===Q?(r=He(),Ta=3):r===Re?(r=He(),Ta=4):Ta=r===Of?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vs=r,la===null&&(jn=1,Wd(t,Kr(r,t.current)))}function kg(){var t=Za.current;return t===null?!0:(ua&4194048)===ua?ga===null:(ua&62914560)===ua||(ua&536870912)!==0?t===ga:!1}function Lg(){var t=re.H;return re.H=Vu,t===null?Vu:t}function Tg(){var t=re.A;return re.A=Iv,t}function lh(){jn=4,rl||(ua&4194048)!==ua&&Za.current!==null||(Jc=!0),(sl&134217727)===0&&(Zl&134217727)===0||Ha===null||ll(Ha,ua,ys,!1)}function tm(t,r,o){var u=Aa;Aa|=2;var g=Lg(),x=Tg();(Ha!==t||ua!==r)&&(ih=null,Zc(t,r)),r=!1;var E=jn;e:do try{if(Ta!==0&&la!==null){var V=la,fe=vs;switch(Ta){case 8:em(),E=6;break e;case 3:case 2:case 9:case 6:Za.current===null&&(r=!0);var Me=Ta;if(Ta=0,vs=null,Qc(t,V,fe,Me),o&&Jc){E=0;break e}break;default:Me=Ta,Ta=0,vs=null,Qc(t,V,fe,Me)}}qv(),E=jn;break}catch(ze){Eg(t,ze)}while(!0);return r&&t.shellSuspendCounter++,Bs=Ii=null,Aa=u,re.H=g,re.A=x,la===null&&(Ha=null,ua=0,ql()),E}function qv(){for(;la!==null;)Og(la)}function zv(t,r){var o=Aa;Aa|=2;var u=Lg(),g=Tg();Ha!==t||ua!==r?(ih=null,sh=St()+500,Zc(t,r)):Jc=wr(t,r);e:do try{if(Ta!==0&&la!==null){r=la;var x=vs;t:switch(Ta){case 1:Ta=0,vs=null,Qc(t,r,x,1);break;case 2:case 9:if(Le(x)){Ta=0,vs=null,Rg(r);break}r=function(){Ta!==2&&Ta!==9||Ha!==t||(Ta=7),Gi(t)},x.then(r,r);break e;case 3:Ta=7;break e;case 4:Ta=5;break e;case 7:Le(x)?(Ta=0,vs=null,Rg(r)):(Ta=0,vs=null,Qc(t,r,x,7));break;case 5:var E=null;switch(la.tag){case 26:E=la.memoizedState;case 5:case 27:var V=la;if(E?x1(E):V.stateNode.complete){Ta=0,vs=null;var fe=V.sibling;if(fe!==null)la=fe;else{var Me=V.return;Me!==null?(la=Me,ch(Me)):la=null}break t}}Ta=0,vs=null,Qc(t,r,x,5);break;case 6:Ta=0,vs=null,Qc(t,r,x,6);break;case 8:em(),jn=6;break e;default:throw Error(s(462))}}Fv();break}catch(ze){Eg(t,ze)}while(!0);return Bs=Ii=null,re.H=u,re.A=g,Aa=o,la!==null?0:(Ha=null,ua=0,ql(),jn)}function Fv(){for(;la!==null&&!We();)Og(la)}function Og(t){var r=ag(t.alternate,t,No);t.memoizedProps=t.pendingProps,r===null?ch(t):la=r}function Rg(t){var r=t,o=r.alternate;switch(r.tag){case 15:case 0:r=Wp(o,r,r.pendingProps,r.type,void 0,ua);break;case 11:r=Wp(o,r,r.pendingProps,r.type.render,r.ref,ua);break;case 5:qc(r);default:rg(o,r),r=la=Hl(r,No),r=ag(o,r,No)}t.memoizedProps=t.pendingProps,r===null?ch(t):la=r}function Qc(t,r,o,u){Bs=Ii=null,qc(r),Ye=null,dt=0;var g=r.return;try{if(Lv(t,g,r,o,ua)){jn=1,Wd(t,Kr(o,t.current)),la=null;return}}catch(x){if(g!==null)throw la=g,x;jn=1,Wd(t,Kr(o,t.current)),la=null;return}r.flags&32768?(oa||u===1?t=!0:Jc||(ua&536870912)!==0?t=!1:(rl=t=!0,(u===2||u===9||u===3||u===6)&&(u=Za.current,u!==null&&u.tag===13&&(u.flags|=16384))),Dg(r,t)):ch(r)}function ch(t){var r=t;do{if((r.flags&32768)!==0){Dg(r,rl);return}t=r.return;var o=Rv(r.alternate,r,No);if(o!==null){la=o;return}if(r=r.sibling,r!==null){la=r;return}la=r=t}while(r!==null);jn===0&&(jn=5)}function Dg(t,r){do{var o=Dv(t.alternate,t);if(o!==null){o.flags&=32767,la=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(t=t.sibling,t!==null)){la=t;return}la=t=o}while(t!==null);jn=6,la=null}function Mg(t,r,o,u,g,x,E,V,fe){t.cancelPendingCommit=null;do uh();while(Xn!==0);if((Aa&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(x=r.lanes|r.childLanes,x|=Ac,Fr(t,o,x,E,V,fe),t===Ha&&(la=Ha=null,ua=0),Xc=r,ol=t,jo=o,Xf=x,Zf=g,jg=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Gv(Yt,function(){return qg(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=re.T,re.T=null,g=ge.p,ge.p=2,E=Aa,Aa|=4;try{Mv(t,r,o)}finally{Aa=E,ge.p=g,re.T=u}}Xn=1,Pg(),Ig(),Ug()}}function Pg(){if(Xn===1){Xn=0;var t=ol,r=Xc,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=re.T,re.T=null;var u=ge.p;ge.p=2;var g=Aa;Aa|=4;try{gg(r,t);var x=fm,E=ci(t.containerInfo),V=x.focusedElem,fe=x.selectionRange;if(E!==V&&V&&V.ownerDocument&&li(V.ownerDocument.documentElement,V)){if(fe!==null&&Is(V)){var Me=fe.start,ze=fe.end;if(ze===void 0&&(ze=Me),"selectionStart"in V)V.selectionStart=Me,V.selectionEnd=Math.min(ze,V.value.length);else{var Ve=V.ownerDocument||document,Ie=Ve&&Ve.defaultView||window;if(Ie.getSelection){var Ue=Ie.getSelection(),ut=V.textContent.length,Rt=Math.min(fe.start,ut),qa=fe.end===void 0?Rt:Math.min(fe.end,ut);!Ue.extend&&Rt>qa&&(E=qa,qa=Rt,Rt=E);var Se=Go(V,Rt),_e=Go(V,qa);if(Se&&_e&&(Ue.rangeCount!==1||Ue.anchorNode!==Se.node||Ue.anchorOffset!==Se.offset||Ue.focusNode!==_e.node||Ue.focusOffset!==_e.offset)){var De=Ve.createRange();De.setStart(Se.node,Se.offset),Ue.removeAllRanges(),Rt>qa?(Ue.addRange(De),Ue.extend(_e.node,_e.offset)):(De.setEnd(_e.node,_e.offset),Ue.addRange(De))}}}}for(Ve=[],Ue=V;Ue=Ue.parentNode;)Ue.nodeType===1&&Ve.push({element:Ue,left:Ue.scrollLeft,top:Ue.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Ve.length;V++){var $e=Ve[V];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}_h=!!hm,fm=hm=null}finally{Aa=g,ge.p=u,re.T=o}}t.current=r,Xn=2}}function Ig(){if(Xn===2){Xn=0;var t=ol,r=Xc,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=re.T,re.T=null;var u=ge.p;ge.p=2;var g=Aa;Aa|=4;try{dg(t,r.alternate,r)}finally{Aa=g,ge.p=u,re.T=o}}Xn=3}}function Ug(){if(Xn===4||Xn===3){Xn=0,et();var t=ol,r=Xc,o=jo,u=jg;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Xn=5:(Xn=0,Xc=ol=null,Bg(t,t.pendingLanes));var g=t.pendingLanes;if(g===0&&(il=null),Ya(o),r=r.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Jt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=re.T,g=ge.p,ge.p=2,re.T=null;try{for(var x=t.onRecoverableError,E=0;E<u.length;E++){var V=u[E];x(V.value,{componentStack:V.stack})}}finally{re.T=r,ge.p=g}}(jo&3)!==0&&uh(),Gi(t),g=t.pendingLanes,(o&261930)!==0&&(g&42)!==0?t===Qf?ed++:(ed=0,Qf=t):ed=0,td(0)}}function Bg(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Gl(r)))}function uh(){return Pg(),Ig(),Ug(),qg()}function qg(){if(Xn!==5)return!1;var t=ol,r=Xf;Xf=0;var o=Ya(jo),u=re.T,g=ge.p;try{ge.p=32>o?32:o,re.T=null,o=Zf,Zf=null;var x=ol,E=jo;if(Xn=0,Xc=ol=null,jo=0,(Aa&6)!==0)throw Error(s(331));var V=Aa;if(Aa|=4,wg(x.current),xg(x,x.current,E,o),Aa=V,td(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Jt,x)}catch{}return!0}finally{ge.p=g,re.T=u,Bg(t,r)}}function zg(t,r,o){r=Kr(o,r),r=Tf(t.stateNode,r,2),t=ta(t,r,2),t!==null&&(vt(t,2),Gi(t))}function Oa(t,r,o){if(t.tag===3)zg(t,t,o);else for(;r!==null;){if(r.tag===3){zg(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(il===null||!il.has(u))){t=Kr(o,t),o=Fp(2),u=ta(r,o,2),u!==null&&(Hp(o,u,r,t),vt(u,2),Gi(u));break}}r=r.return}}function am(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Uv;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(o)||(Kf=!0,g.add(o),t=Hv.bind(null,t,r,o),r.then(t,t))}function Hv(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Ha===t&&(ua&o)===o&&(jn===4||jn===3&&(ua&62914560)===ua&&300>St()-rh?(Aa&2)===0&&Zc(t,0):Jf|=o,Wc===ua&&(Wc=0)),Gi(t)}function Fg(t,r){r===0&&(r=zr()),t=di(t,r),t!==null&&(vt(t,r),Gi(t))}function $v(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Fg(t,o)}function Vv(t,r){var o=0;switch(t.tag){case 31:case 13:var u=t.stateNode,g=t.memoizedState;g!==null&&(o=g.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Fg(t,o)}function Gv(t,r){return ye(t,r)}var dh=null,eu=null,nm=!1,hh=!1,rm=!1,cl=0;function Gi(t){t!==eu&&t.next===null&&(eu===null?dh=eu=t:eu=eu.next=t),hh=!0,nm||(nm=!0,Kv())}function td(t,r){if(!rm&&hh){rm=!0;do for(var o=!1,u=dh;u!==null;){if(t!==0){var g=u.pendingLanes;if(g===0)var x=0;else{var E=u.suspendedLanes,V=u.pingedLanes;x=(1<<31-Wt(42|t)+1)-1,x&=g&~(E&~V),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(o=!0,Gg(u,x))}else x=ua,x=ra(u,u===Ha?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||wr(u,x)||(o=!0,Gg(u,x));u=u.next}while(o);rm=!1}}function Yv(){Hg()}function Hg(){hh=nm=!1;var t=0;cl!==0&&ry()&&(t=cl);for(var r=St(),o=null,u=dh;u!==null;){var g=u.next,x=$g(u,r);x===0?(u.next=null,o===null?dh=g:o.next=g,g===null&&(eu=o)):(o=u,(t!==0||(x&3)!==0)&&(hh=!0)),u=g}Xn!==0&&Xn!==5||td(t),cl!==0&&(cl=0)}function $g(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,g=t.expirationTimes,x=t.pendingLanes&-62914561;0<x;){var E=31-Wt(x),V=1<<E,fe=g[E];fe===-1?((V&o)===0||(V&u)!==0)&&(g[E]=En(V,r)):fe<=r&&(t.expiredLanes|=V),x&=~V}if(r=Ha,o=ua,o=ra(t,t===r?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===r&&(Ta===2||Ta===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Ee(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||wr(t,o)){if(r=o&-o,r===t.callbackPriority)return r;switch(u!==null&&Ee(u),Ya(o)){case 2:case 8:o=$t;break;case 32:o=Yt;break;case 268435456:o=Dt;break;default:o=Yt}return u=Vg.bind(null,t),o=ye(o,u),t.callbackPriority=r,t.callbackNode=o,r}return u!==null&&u!==null&&Ee(u),t.callbackPriority=2,t.callbackNode=null,2}function Vg(t,r){if(Xn!==0&&Xn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(uh()&&t.callbackNode!==o)return null;var u=ua;return u=ra(t,t===Ha?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Ag(t,u,r),$g(t,St()),t.callbackNode!=null&&t.callbackNode===o?Vg.bind(null,t):null)}function Gg(t,r){if(uh())return null;Ag(t,r,!0)}function Kv(){iy(function(){(Aa&6)!==0?ye(Ot,Yv):Hg()})}function sm(){if(cl===0){var t=m;t===0&&(t=Pt,Pt<<=1,(Pt&261888)===0&&(Pt=256)),cl=t}return cl}function Yg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Nr(""+t)}function Kg(t,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,t.id&&o.setAttribute("form",t.id),r.parentNode.insertBefore(o,r),t=new FormData(t),o.parentNode.removeChild(o),t}function Jv(t,r,o,u,g){if(r==="submit"&&o&&o.stateNode===g){var x=Yg((g[Pe]||null).action),E=u.submitter;E&&(r=(r=E[Pe]||null)?Yg(r.formAction):E.getAttribute("formAction"),r!==null&&(x=r,E=null));var V=new $r("action","action",null,u,g);t.push({event:V,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(cl!==0){var fe=E?Kg(g,E):new FormData(g);Sf(o,{pending:!0,data:fe,method:g.method,action:x},null,fe)}}else typeof x=="function"&&(V.preventDefault(),fe=E?Kg(g,E):new FormData(g),Sf(o,{pending:!0,data:fe,method:g.method,action:x},x,fe))},currentTarget:g}]})}}for(var im=0;im<lo.length;im++){var om=lo[im],Wv=om.toLowerCase(),Xv=om[0].toUpperCase()+om.slice(1);Gr(Wv,"on"+Xv)}Gr(oo,"onAnimationEnd"),Gr(Ul,"onAnimationIteration"),Gr(Lu,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(Id,"onTransitionRun"),Gr(Ud,"onTransitionStart"),Gr(Bd,"onTransitionCancel"),Gr(Tu,"onTransitionEnd"),Gs("onMouseEnter",["mouseout","mouseover"]),Gs("onMouseLeave",["mouseout","mouseover"]),Gs("onPointerEnter",["pointerout","pointerover"]),Gs("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ad));function Jg(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],g=u.event;u=u.listeners;e:{var x=void 0;if(r)for(var E=u.length-1;0<=E;E--){var V=u[E],fe=V.instance,Me=V.currentTarget;if(V=V.listener,fe!==x&&g.isPropagationStopped())break e;x=V,g.currentTarget=Me;try{x(g)}catch(ze){Bl(ze)}g.currentTarget=null,x=fe}else for(E=0;E<u.length;E++){if(V=u[E],fe=V.instance,Me=V.currentTarget,V=V.listener,fe!==x&&g.isPropagationStopped())break e;x=V,g.currentTarget=Me;try{x(g)}catch(ze){Bl(ze)}g.currentTarget=null,x=fe}}}}function ca(t,r){var o=r[xt];o===void 0&&(o=r[xt]=new Set);var u=t+"__bubble";o.has(u)||(Wg(r,t,2,!1),o.add(u))}function lm(t,r,o){var u=0;r&&(u|=4),Wg(o,t,u,r)}var fh="_reactListening"+Math.random().toString(36).slice(2);function cm(t){if(!t[fh]){t[fh]=!0,Ei.forEach(function(o){o!=="selectionchange"&&(Zv.has(o)||lm(o,!1,t),lm(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[fh]||(r[fh]=!0,lm("selectionchange",!1,r))}}function Wg(t,r,o,u){switch(S1(r)){case 2:var g=Ay;break;case 8:g=Cy;break;default:g=jm}o=g.bind(null,r,o,t),g=void 0,!Rl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?t.addEventListener(r,o,{capture:!0,passive:g}):t.addEventListener(r,o,!0):g!==void 0?t.addEventListener(r,o,{passive:g}):t.addEventListener(r,o,!1)}function um(t,r,o,u,g){var x=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var V=u.stateNode.containerInfo;if(V===g)break;if(E===4)for(E=u.return;E!==null;){var fe=E.tag;if((fe===3||fe===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;V!==null;){if(E=Or(V),E===null)return;if(fe=E.tag,fe===5||fe===6||fe===26||fe===27){u=x=E;continue e}V=V.parentNode}}u=u.return}wc(function(){var Me=x,ze=eo(o),Ve=[];e:{var Ie=Ou.get(t);if(Ie!==void 0){var Ue=$r,ut=t;switch(t){case"keypress":if(Hr(o)===0)break e;case"keydown":case"keyup":Ue=ha;break;case"focusin":ut="focus",Ue=ei;break;case"focusout":ut="blur",Ue=ei;break;case"beforeblur":case"afterblur":Ue=ei;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=Qs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=Ln;break;case oo:case Ul:case Lu:Ue=w;break;case Tu:Ue=$n;break;case"scroll":case"scrollend":Ue=Bo;break;case"wheel":Ue=fs;break;case"copy":case"cut":case"paste":Ue=te;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=un;break;case"toggle":case"beforetoggle":Ue=Ml}var Rt=(r&4)!==0,qa=!Rt&&(t==="scroll"||t==="scrollend"),Se=Rt?Ie!==null?Ie+"Capture":null:Ie;Rt=[];for(var _e=Me,De;_e!==null;){var $e=_e;if(De=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||De===null||Se===null||($e=Mr(_e,Se),$e!=null&&Rt.push(nd(_e,$e,De))),qa)break;_e=_e.return}0<Rt.length&&(Ie=new Ue(Ie,ut,null,o,ze),Ve.push({event:Ie,listeners:Rt}))}}if((r&7)===0){e:{if(Ie=t==="mouseover"||t==="pointerover",Ue=t==="mouseout"||t==="pointerout",Ie&&o!==Ks&&(ut=o.relatedTarget||o.fromElement)&&(Or(ut)||ut[rt]))break e;if((Ue||Ie)&&(Ie=ze.window===ze?ze:(Ie=ze.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,Ue?(ut=o.relatedTarget||o.toElement,Ue=Me,ut=ut?Or(ut):null,ut!==null&&(qa=c(ut),Rt=ut.tag,ut!==qa||Rt!==5&&Rt!==27&&Rt!==6)&&(ut=null)):(Ue=null,ut=Me),Ue!==ut)){if(Rt=Dl,$e="onMouseLeave",Se="onMouseEnter",_e="mouse",(t==="pointerout"||t==="pointerover")&&(Rt=un,$e="onPointerLeave",Se="onPointerEnter",_e="pointer"),qa=Ue==null?Ie:kt(Ue),De=ut==null?Ie:kt(ut),Ie=new Rt($e,_e+"leave",Ue,o,ze),Ie.target=qa,Ie.relatedTarget=De,$e=null,Or(ze)===Me&&(Rt=new Rt(Se,_e+"enter",ut,o,ze),Rt.target=De,Rt.relatedTarget=qa,$e=Rt),qa=$e,Ue&&ut)t:{for(Rt=Qv,Se=Ue,_e=ut,De=0,$e=Se;$e;$e=Rt($e))De++;$e=0;for(var Et=_e;Et;Et=Rt(Et))$e++;for(;0<De-$e;)Se=Rt(Se),De--;for(;0<$e-De;)_e=Rt(_e),$e--;for(;De--;){if(Se===_e||_e!==null&&Se===_e.alternate){Rt=Se;break t}Se=Rt(Se),_e=Rt(_e)}Rt=null}else Rt=null;Ue!==null&&Xg(Ve,Ie,Ue,Rt,!1),ut!==null&&qa!==null&&Xg(Ve,qa,ut,Rt,!0)}}e:{if(Ie=Me?kt(Me):window,Ue=Ie.nodeName&&Ie.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&Ie.type==="file")var wa=Ri;else if(Pl(Ie))if(jr)wa=Ms;else{wa=dn;var gt=$o}else Ue=Ie.nodeName,!Ue||Ue.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Me&&Ll(Me.elementType)&&(wa=Ri):wa=Sc;if(wa&&(wa=wa(t,Me))){Ir(Ve,wa,o,ze);break e}gt&&gt(t,Ie,Me),t==="focusout"&&Me&&Ie.type==="number"&&Me.memoizedProps.value!=null&&Cl(Ie,"number",Ie.value)}switch(gt=Me?kt(Me):window,t){case"focusin":(Pl(gt)||gt.contentEditable==="true")&&(Ur=gt,ui=Me,ar=null);break;case"focusout":ar=ui=Ur=null;break;case"mousedown":Vr=!0;break;case"contextmenu":case"mouseup":case"dragend":Vr=!1,va(Ve,o,ze);break;case"selectionchange":if(io)break;case"keydown":case"keyup":va(Ve,o,ze)}var na;if(Ts)e:{switch(t){case"compositionstart":var da="onCompositionStart";break e;case"compositionend":da="onCompositionEnd";break e;case"compositionupdate":da="onCompositionUpdate";break e}da=void 0}else Os?Oi(t,o)&&(da="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(da="onCompositionStart");da&&(ni&&o.locale!=="ko"&&(Os||da!=="onCompositionStart"?da==="onCompositionEnd"&&Os&&(na=_c()):(Pr=ze,ao="value"in Pr?Pr.value:Pr.textContent,Os=!0)),gt=mh(Me,da),0<gt.length&&(da=new je(da,t,null,o,ze),Ve.push({event:da,listeners:gt}),na?da.data=na:(na=zo(o),na!==null&&(da.data=na)))),(na=so?fr(t,o):ri(t,o))&&(da=mh(Me,"onBeforeInput"),0<da.length&&(gt=new je("onBeforeInput","beforeinput",null,o,ze),Ve.push({event:gt,listeners:da}),gt.data=na)),Jv(Ve,t,Me,o,ze)}Jg(Ve,r)})}function nd(t,r,o){return{instance:t,listener:r,currentTarget:o}}function mh(t,r){for(var o=r+"Capture",u=[];t!==null;){var g=t,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=Mr(t,o),g!=null&&u.unshift(nd(t,g,x)),g=Mr(t,r),g!=null&&u.push(nd(t,g,x))),t.tag===3)return u;t=t.return}return[]}function Qv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xg(t,r,o,u,g){for(var x=r._reactName,E=[];o!==null&&o!==u;){var V=o,fe=V.alternate,Me=V.stateNode;if(V=V.tag,fe!==null&&fe===u)break;V!==5&&V!==26&&V!==27||Me===null||(fe=Me,g?(Me=Mr(o,x),Me!=null&&E.unshift(nd(o,Me,fe))):g||(Me=Mr(o,x),Me!=null&&E.push(nd(o,Me,fe)))),o=o.return}E.length!==0&&t.push({event:r,listeners:E})}var ey=/\r\n?/g,ty=/\u0000|\uFFFD/g;function Zg(t){return(typeof t=="string"?t:""+t).replace(ey,`
`).replace(ty,"")}function Qg(t,r){return r=Zg(r),Zg(t)===r}function Ba(t,r,o,u,g,x){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ds(t,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ds(t,""+u);break;case"className":Ys(t,"class",u);break;case"tabIndex":Ys(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ys(t,o,u);break;case"style":xc(t,u,x);break;case"data":if(r!=="object"){Ys(t,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Nr(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(o==="formAction"?(r!=="input"&&Ba(t,r,"name",g.name,g,null),Ba(t,r,"formEncType",g.formEncType,g,null),Ba(t,r,"formMethod",g.formMethod,g,null),Ba(t,r,"formTarget",g.formTarget,g,null)):(Ba(t,r,"encType",g.encType,g,null),Ba(t,r,"method",g.method,g,null),Ba(t,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Nr(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=hs);break;case"onScroll":u!=null&&ca("scroll",t);break;case"onScrollEnd":u!=null&&ca("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(s(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=Nr(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":ca("beforetoggle",t),ca("toggle",t),Dr(t,"popover",u);break;case"xlinkActuate":us(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":us(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":us(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":us(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":us(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":us(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":us(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":us(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":us(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Dr(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Tl.get(o)||o,Dr(t,o,u))}}function dm(t,r,o,u,g,x){switch(o){case"style":xc(t,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(s(60));t.innerHTML=o}}break;case"children":typeof u=="string"?ds(t,u):(typeof u=="number"||typeof u=="bigint")&&ds(t,""+u);break;case"onScroll":u!=null&&ca("scroll",t);break;case"onScrollEnd":u!=null&&ca("scrollend",t);break;case"onClick":u!=null&&(t.onclick=hs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rr.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),r=o.slice(2,g?o.length-7:void 0),x=t[Pe]||null,x=x!=null?x[o]:null,typeof x=="function"&&t.removeEventListener(r,x,g),typeof u=="function")){typeof x!="function"&&x!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(r,u,g);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):Dr(t,o,u)}}}function xr(t,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ca("error",t),ca("load",t);var u=!1,g=!1,x;for(x in o)if(o.hasOwnProperty(x)){var E=o[x];if(E!=null)switch(x){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ba(t,r,x,E,o,null)}}g&&Ba(t,r,"srcSet",o.srcSet,o,null),u&&Ba(t,r,"src",o.src,o,null);return;case"input":ca("invalid",t);var V=x=E=g=null,fe=null,Me=null;for(u in o)if(o.hasOwnProperty(u)){var ze=o[u];if(ze!=null)switch(u){case"name":g=ze;break;case"type":E=ze;break;case"checked":fe=ze;break;case"defaultChecked":Me=ze;break;case"value":x=ze;break;case"defaultValue":V=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(s(137,r));break;default:Ba(t,r,u,ze,o,null)}}gc(t,x,V,fe,Me,E,g,!1);return;case"select":ca("invalid",t),u=E=x=null;for(g in o)if(o.hasOwnProperty(g)&&(V=o[g],V!=null))switch(g){case"value":x=V;break;case"defaultValue":E=V;break;case"multiple":u=V;default:Ba(t,r,g,V,o,null)}r=x,o=E,t.multiple=!!u,r!=null?hr(t,!!u,r,!1):o!=null&&hr(t,!!u,o,!0);return;case"textarea":ca("invalid",t),x=g=u=null;for(E in o)if(o.hasOwnProperty(E)&&(V=o[E],V!=null))switch(E){case"value":u=V;break;case"defaultValue":g=V;break;case"children":x=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(91));break;default:Ba(t,r,E,V,o,null)}kl(t,u,g,x);return;case"option":for(fe in o)if(o.hasOwnProperty(fe)&&(u=o[fe],u!=null))switch(fe){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ba(t,r,fe,u,o,null)}return;case"dialog":ca("beforetoggle",t),ca("toggle",t),ca("cancel",t),ca("close",t);break;case"iframe":case"object":ca("load",t);break;case"video":case"audio":for(u=0;u<ad.length;u++)ca(ad[u],t);break;case"image":ca("error",t),ca("load",t);break;case"details":ca("toggle",t);break;case"embed":case"source":case"link":ca("error",t),ca("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in o)if(o.hasOwnProperty(Me)&&(u=o[Me],u!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ba(t,r,Me,u,o,null)}return;default:if(Ll(r)){for(ze in o)o.hasOwnProperty(ze)&&(u=o[ze],u!==void 0&&dm(t,r,ze,u,o,void 0));return}}for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!=null&&Ba(t,r,V,u,o,null))}function ay(t,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,E=null,V=null,fe=null,Me=null,ze=null;for(Ue in o){var Ve=o[Ue];if(o.hasOwnProperty(Ue)&&Ve!=null)switch(Ue){case"checked":break;case"value":break;case"defaultValue":fe=Ve;default:u.hasOwnProperty(Ue)||Ba(t,r,Ue,null,u,Ve)}}for(var Ie in u){var Ue=u[Ie];if(Ve=o[Ie],u.hasOwnProperty(Ie)&&(Ue!=null||Ve!=null))switch(Ie){case"type":x=Ue;break;case"name":g=Ue;break;case"checked":Me=Ue;break;case"defaultChecked":ze=Ue;break;case"value":E=Ue;break;case"defaultValue":V=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(s(137,r));break;default:Ue!==Ve&&Ba(t,r,Ie,Ue,u,Ve)}}Po(t,E,V,fe,Me,ze,x,g);return;case"select":Ue=E=V=Ie=null;for(x in o)if(fe=o[x],o.hasOwnProperty(x)&&fe!=null)switch(x){case"value":break;case"multiple":Ue=fe;default:u.hasOwnProperty(x)||Ba(t,r,x,null,u,fe)}for(g in u)if(x=u[g],fe=o[g],u.hasOwnProperty(g)&&(x!=null||fe!=null))switch(g){case"value":Ie=x;break;case"defaultValue":V=x;break;case"multiple":E=x;default:x!==fe&&Ba(t,r,g,x,u,fe)}r=V,o=E,u=Ue,Ie!=null?hr(t,!!o,Ie,!1):!!u!=!!o&&(r!=null?hr(t,!!o,r,!0):hr(t,!!o,o?[]:"",!1));return;case"textarea":Ue=Ie=null;for(V in o)if(g=o[V],o.hasOwnProperty(V)&&g!=null&&!u.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Ba(t,r,V,null,u,g)}for(E in u)if(g=u[E],x=o[E],u.hasOwnProperty(E)&&(g!=null||x!=null))switch(E){case"value":Ie=g;break;case"defaultValue":Ue=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==x&&Ba(t,r,E,g,u,x)}El(t,Ie,Ue);return;case"option":for(var ut in o)if(Ie=o[ut],o.hasOwnProperty(ut)&&Ie!=null&&!u.hasOwnProperty(ut))switch(ut){case"selected":t.selected=!1;break;default:Ba(t,r,ut,null,u,Ie)}for(fe in u)if(Ie=u[fe],Ue=o[fe],u.hasOwnProperty(fe)&&Ie!==Ue&&(Ie!=null||Ue!=null))switch(fe){case"selected":t.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:Ba(t,r,fe,Ie,u,Ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in o)Ie=o[Rt],o.hasOwnProperty(Rt)&&Ie!=null&&!u.hasOwnProperty(Rt)&&Ba(t,r,Rt,null,u,Ie);for(Me in u)if(Ie=u[Me],Ue=o[Me],u.hasOwnProperty(Me)&&Ie!==Ue&&(Ie!=null||Ue!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(s(137,r));break;default:Ba(t,r,Me,Ie,u,Ue)}return;default:if(Ll(r)){for(var qa in o)Ie=o[qa],o.hasOwnProperty(qa)&&Ie!==void 0&&!u.hasOwnProperty(qa)&&dm(t,r,qa,void 0,u,Ie);for(ze in u)Ie=u[ze],Ue=o[ze],!u.hasOwnProperty(ze)||Ie===Ue||Ie===void 0&&Ue===void 0||dm(t,r,ze,Ie,u,Ue);return}}for(var Se in o)Ie=o[Se],o.hasOwnProperty(Se)&&Ie!=null&&!u.hasOwnProperty(Se)&&Ba(t,r,Se,null,u,Ie);for(Ve in u)Ie=u[Ve],Ue=o[Ve],!u.hasOwnProperty(Ve)||Ie===Ue||Ie==null&&Ue==null||Ba(t,r,Ve,Ie,u,Ue)}function e1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ny(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var g=o[u],x=g.transferSize,E=g.initiatorType,V=g.duration;if(x&&V&&e1(E)){for(E=0,V=g.responseEnd,u+=1;u<o.length;u++){var fe=o[u],Me=fe.startTime;if(Me>V)break;var ze=fe.transferSize,Ve=fe.initiatorType;ze&&e1(Ve)&&(fe=fe.responseEnd,E+=ze*(fe<V?1:(V-Me)/(fe-Me)))}if(--u,r+=8*(x+E)/(g.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var hm=null,fm=null;function ph(t){return t.nodeType===9?t:t.ownerDocument}function t1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a1(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function mm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pm=null;function ry(){var t=window.event;return t&&t.type==="popstate"?t===pm?!1:(pm=t,!0):(pm=null,!1)}var n1=typeof setTimeout=="function"?setTimeout:void 0,sy=typeof clearTimeout=="function"?clearTimeout:void 0,r1=typeof Promise=="function"?Promise:void 0,iy=typeof queueMicrotask=="function"?queueMicrotask:typeof r1<"u"?function(t){return r1.resolve(null).then(t).catch(oy)}:n1;function oy(t){setTimeout(function(){throw t})}function ul(t){return t==="head"}function s1(t,r){var o=r,u=0;do{var g=o.nextSibling;if(t.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(u===0){t.removeChild(g),ru(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")rd(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,rd(o);for(var x=o.firstChild;x;){var E=x.nextSibling,V=x.nodeName;x[gn]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=E}}else o==="body"&&rd(t.ownerDocument.body);o=g}while(o);ru(r)}function i1(t,r){var o=t;t=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=u}while(o)}function gm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":gm(o),Ft(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function ly(t,r,o,u){for(;t.nodeType===1;){var g=o;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[gn])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(x=t.getAttribute("rel"),x==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(x!==g.rel||t.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||t.getAttribute("title")!==(g.title==null?null:g.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(x=t.getAttribute("src"),(x!==(g.src==null?null:g.src)||t.getAttribute("type")!==(g.type==null?null:g.type)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&t.getAttribute("name")===x)return t}else return t;if(t=Fs(t.nextSibling),t===null)break}return null}function cy(t,r,o){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Fs(t.nextSibling),t===null))return null;return t}function o1(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Fs(t.nextSibling),t===null))return null;return t}function bm(t){return t.data==="$?"||t.data==="$~"}function xm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function uy(t,r){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Fs(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var vm=null;function l1(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(r===0)return Fs(t.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}t=t.nextSibling}return null}function c1(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return t;r--}else o!=="/$"&&o!=="/&"||r++}t=t.previousSibling}return null}function u1(t,r,o){switch(r=ph(o),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function rd(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ft(t)}var Hs=new Map,d1=new Set;function gh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var So=ge.d;ge.d={f:dy,r:hy,D:fy,C:my,L:py,m:gy,X:xy,S:by,M:vy};function dy(){var t=So.f(),r=oh();return t||r}function hy(t){var r=Qe(t);r!==null&&r.tag===5&&r.type==="form"?Ep(r):So.r(t)}var tu=typeof document>"u"?null:document;function h1(t,r,o){var u=tu;if(u&&typeof r=="string"&&r){var g=bn(r);g='link[rel="'+t+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),d1.has(g)||(d1.add(g),t={rel:t,crossOrigin:o,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),xr(r,"link",t),Ka(r),u.head.appendChild(r)))}}function fy(t){So.D(t),h1("dns-prefetch",t,null)}function my(t,r){So.C(t,r),h1("preconnect",t,r)}function py(t,r,o){So.L(t,r,o);var u=tu;if(u&&t&&r){var g='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+bn(o.imageSizes)+'"]')):g+='[href="'+bn(t)+'"]';var x=g;switch(r){case"style":x=au(t);break;case"script":x=nu(t)}Hs.has(x)||(t=j({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:t,as:r},o),Hs.set(x,t),u.querySelector(g)!==null||r==="style"&&u.querySelector(sd(x))||r==="script"&&u.querySelector(id(x))||(r=u.createElement("link"),xr(r,"link",t),Ka(r),u.head.appendChild(r)))}}function gy(t,r){So.m(t,r);var o=tu;if(o&&t){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+bn(u)+'"][href="'+bn(t)+'"]',x=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=nu(t)}if(!Hs.has(x)&&(t=j({rel:"modulepreload",href:t},r),Hs.set(x,t),o.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(id(x)))return}u=o.createElement("link"),xr(u,"link",t),Ka(u),o.head.appendChild(u)}}}function by(t,r,o){So.S(t,r,o);var u=tu;if(u&&t){var g=ur(u).hoistableStyles,x=au(t);r=r||"default";var E=g.get(x);if(!E){var V={loading:0,preload:null};if(E=u.querySelector(sd(x)))V.loading=5;else{t=j({rel:"stylesheet",href:t,"data-precedence":r},o),(o=Hs.get(x))&&ym(t,o);var fe=E=u.createElement("link");Ka(fe),xr(fe,"link",t),fe._p=new Promise(function(Me,ze){fe.onload=Me,fe.onerror=ze}),fe.addEventListener("load",function(){V.loading|=1}),fe.addEventListener("error",function(){V.loading|=2}),V.loading|=4,bh(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:V},g.set(x,E)}}}function xy(t,r){So.X(t,r);var o=tu;if(o&&t){var u=ur(o).hoistableScripts,g=nu(t),x=u.get(g);x||(x=o.querySelector(id(g)),x||(t=j({src:t,async:!0},r),(r=Hs.get(g))&&wm(t,r),x=o.createElement("script"),Ka(x),xr(x,"link",t),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function vy(t,r){So.M(t,r);var o=tu;if(o&&t){var u=ur(o).hoistableScripts,g=nu(t),x=u.get(g);x||(x=o.querySelector(id(g)),x||(t=j({src:t,async:!0,type:"module"},r),(r=Hs.get(g))&&wm(t,r),x=o.createElement("script"),Ka(x),xr(x,"link",t),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function f1(t,r,o,u){var g=(g=ie.current)?gh(g):null;if(!g)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=au(o.href),o=ur(g).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=au(o.href);var x=ur(g).hoistableStyles,E=x.get(t);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(t,E),(x=g.querySelector(sd(t)))&&!x._p&&(E.instance=x,E.state.loading=5),Hs.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Hs.set(t,o),x||yy(g,t,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=nu(o),o=ur(g).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function au(t){return'href="'+bn(t)+'"'}function sd(t){return'link[rel="stylesheet"]['+t+"]"}function m1(t){return j({},t,{"data-precedence":t.precedence,precedence:null})}function yy(t,r,o,u){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=t.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),xr(r,"link",o),Ka(r),t.head.appendChild(r))}function nu(t){return'[src="'+bn(t)+'"]'}function id(t){return"script[async]"+t}function p1(t,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=t.querySelector('style[data-href~="'+bn(o.href)+'"]');if(u)return r.instance=u,Ka(u),u;var g=j({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Ka(u),xr(u,"style",g),bh(u,o.precedence,t),r.instance=u;case"stylesheet":g=au(o.href);var x=t.querySelector(sd(g));if(x)return r.state.loading|=4,r.instance=x,Ka(x),x;u=m1(o),(g=Hs.get(g))&&ym(u,g),x=(t.ownerDocument||t).createElement("link"),Ka(x);var E=x;return E._p=new Promise(function(V,fe){E.onload=V,E.onerror=fe}),xr(x,"link",u),r.state.loading|=4,bh(x,o.precedence,t),r.instance=x;case"script":return x=nu(o.src),(g=t.querySelector(id(x)))?(r.instance=g,Ka(g),g):(u=o,(g=Hs.get(x))&&(u=j({},o),wm(u,g)),t=t.ownerDocument||t,g=t.createElement("script"),Ka(g),xr(g,"link",u),t.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,bh(u,o.precedence,t));return r.instance}function bh(t,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,x=g,E=0;E<u.length;E++){var V=u[E];if(V.dataset.precedence===r)x=V;else if(x!==g)break}x?x.parentNode.insertBefore(t,x.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(t,r.firstChild))}function ym(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function wm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var xh=null;function g1(t,r,o){if(xh===null){var u=new Map,g=xh=new Map;g.set(o,u)}else g=xh,u=g.get(o),u||(u=new Map,g.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),g=0;g<o.length;g++){var x=o[g];if(!(x[gn]||x[be]||t==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var E=x.getAttribute(r)||"";E=t+E;var V=u.get(E);V?V.push(x):u.set(E,[x])}}return u}function b1(t,r,o){t=t.ownerDocument||t,t.head.insertBefore(o,r==="title"?t.querySelector("head > title"):null)}function wy(t,r,o){if(o===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function x1(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _y(t,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=au(u.href),x=r.querySelector(sd(g));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=vh.bind(t),r.then(t,t)),o.state.loading|=4,o.instance=x,Ka(x);return}x=r.ownerDocument||r,u=m1(u),(g=Hs.get(g))&&ym(u,g),x=x.createElement("link"),Ka(x);var E=x;E._p=new Promise(function(V,fe){E.onload=V,E.onerror=fe}),xr(x,"link",u),o.instance=x}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=vh.bind(t),r.addEventListener("load",o),r.addEventListener("error",o))}}var _m=0;function Ny(t,r){return t.stylesheets&&t.count===0&&wh(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var u=setTimeout(function(){if(t.stylesheets&&wh(t,t.stylesheets),t.unsuspend){var x=t.unsuspend;t.unsuspend=null,x()}},6e4+r);0<t.imgBytes&&_m===0&&(_m=62500*ny());var g=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wh(t,t.stylesheets),t.unsuspend)){var x=t.unsuspend;t.unsuspend=null,x()}},(t.imgBytes>_m?50:800)+r);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function vh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yh=null;function wh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yh=new Map,r.forEach(jy,t),yh=null,vh.call(t))}function jy(t,r){if(!(r.state.loading&4)){var o=yh.get(t);if(o)var u=o.get(null);else{o=new Map,yh.set(t,o);for(var g=t.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var E=g[x];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}g=r.instance,E=g.getAttribute("data-precedence"),x=o.get(E)||u,x===u&&o.set(null,g),o.set(E,g),this.count++,u=vh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),x?x.parentNode.insertBefore(g,x.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(g,t.firstChild)),r.state.loading|=4}}var od={$$typeof:R,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Sy(t,r,o,u,g,x,E,V,fe){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.hiddenUpdates=_r(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function v1(t,r,o,u,g,x,E,V,fe,Me,ze,Ve){return t=new Sy(t,r,o,E,fe,Me,ze,Ve,V),r=1,x===!0&&(r|=24),x=rr(3,null,null,r),t.current=x,x.stateNode=t,r=Zo(),r.refCount++,t.pooledCache=r,r.refCount++,x.memoizedState={element:u,isDehydrated:o,cache:r},nt(x),t}function y1(t){return t?(t=Gn,t):Gn}function w1(t,r,o,u,g,x){g=y1(g),u.context===null?u.context=g:u.pendingContext=g,u=Tt(r),u.payload={element:o},x=x===void 0?null:x,x!==null&&(u.callback=x),o=ta(t,u,r),o!==null&&(ss(o,t,r),ja(o,t,r))}function _1(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Nm(t,r){_1(t,r),(t=t.alternate)&&_1(t,r)}function N1(t){if(t.tag===13||t.tag===31){var r=di(t,67108864);r!==null&&ss(r,t,67108864),Nm(t,67108864)}}function j1(t){if(t.tag===13||t.tag===31){var r=ws();r=ka(r);var o=di(t,r);o!==null&&ss(o,t,r),Nm(t,r)}}var _h=!0;function Ay(t,r,o,u){var g=re.T;re.T=null;var x=ge.p;try{ge.p=2,jm(t,r,o,u)}finally{ge.p=x,re.T=g}}function Cy(t,r,o,u){var g=re.T;re.T=null;var x=ge.p;try{ge.p=8,jm(t,r,o,u)}finally{ge.p=x,re.T=g}}function jm(t,r,o,u){if(_h){var g=Sm(u);if(g===null)um(t,r,u,Nh,o),A1(t,u);else if(ky(g,t,r,o,u))u.stopPropagation();else if(A1(t,u),r&4&&-1<Ey.indexOf(t)){for(;g!==null;){var x=Qe(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var E=Ke(x.pendingLanes);if(E!==0){var V=x;for(V.pendingLanes|=2,V.entangledLanes|=2;E;){var fe=1<<31-Wt(E);V.entanglements[1]|=fe,E&=~fe}Gi(x),(Aa&6)===0&&(sh=St()+500,td(0))}}break;case 31:case 13:V=di(x,2),V!==null&&ss(V,x,2),oh(),Nm(x,2)}if(x=Sm(u),x===null&&um(t,r,u,Nh,o),x===g)break;g=x}g!==null&&u.stopPropagation()}else um(t,r,u,null,o)}}function Sm(t){return t=eo(t),Am(t)}var Nh=null;function Am(t){if(Nh=null,t=Or(t),t!==null){var r=c(t);if(r===null)t=null;else{var o=r.tag;if(o===13){if(t=d(r),t!==null)return t;t=null}else if(o===31){if(t=h(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Nh=t,null}function S1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kt()){case Ot:return 2;case $t:return 8;case Yt:case ft:return 32;case Dt:return 268435456;default:return 32}default:return 32}}var Cm=!1,dl=null,hl=null,fl=null,ld=new Map,cd=new Map,ml=[],Ey="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A1(t,r){switch(t){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":hl=null;break;case"mouseover":case"mouseout":fl=null;break;case"pointerover":case"pointerout":ld.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cd.delete(r.pointerId)}}function ud(t,r,o,u,g,x){return t===null||t.nativeEvent!==x?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:x,targetContainers:[g]},r!==null&&(r=Qe(r),r!==null&&N1(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),t)}function ky(t,r,o,u,g){switch(r){case"focusin":return dl=ud(dl,t,r,o,u,g),!0;case"dragenter":return hl=ud(hl,t,r,o,u,g),!0;case"mouseover":return fl=ud(fl,t,r,o,u,g),!0;case"pointerover":var x=g.pointerId;return ld.set(x,ud(ld.get(x)||null,t,r,o,u,g)),!0;case"gotpointercapture":return x=g.pointerId,cd.set(x,ud(cd.get(x)||null,t,r,o,u,g)),!0}return!1}function C1(t){var r=Or(t.target);if(r!==null){var o=c(r);if(o!==null){if(r=o.tag,r===13){if(r=d(o),r!==null){t.blockedOn=r,ls(t.priority,function(){j1(o)});return}}else if(r===31){if(r=h(o),r!==null){t.blockedOn=r,ls(t.priority,function(){j1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Sm(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Ks=u,o.target.dispatchEvent(u),Ks=null}else return r=Qe(o),r!==null&&N1(r),t.blockedOn=o,!1;r.shift()}return!0}function E1(t,r,o){jh(t)&&o.delete(r)}function Ly(){Cm=!1,dl!==null&&jh(dl)&&(dl=null),hl!==null&&jh(hl)&&(hl=null),fl!==null&&jh(fl)&&(fl=null),ld.forEach(E1),cd.forEach(E1)}function Sh(t,r){t.blockedOn===r&&(t.blockedOn=null,Cm||(Cm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ly)))}var Ah=null;function k1(t){Ah!==t&&(Ah=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ah===t&&(Ah=null);for(var r=0;r<t.length;r+=3){var o=t[r],u=t[r+1],g=t[r+2];if(typeof u!="function"){if(Am(u||o)===null)continue;break}var x=Qe(o);x!==null&&(t.splice(r,3),r-=3,Sf(x,{pending:!0,data:g,method:o.method,action:u},u,g))}}))}function ru(t){function r(fe){return Sh(fe,t)}dl!==null&&Sh(dl,t),hl!==null&&Sh(hl,t),fl!==null&&Sh(fl,t),ld.forEach(r),cd.forEach(r);for(var o=0;o<ml.length;o++){var u=ml[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ml.length&&(o=ml[0],o.blockedOn===null);)C1(o),o.blockedOn===null&&ml.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var g=o[u],x=o[u+1],E=g[Pe]||null;if(typeof x=="function")E||k1(o);else if(E){var V=null;if(x&&x.hasAttribute("formAction")){if(g=x,E=x[Pe]||null)V=E.formAction;else if(Am(g)!==null)continue}else V=E.action;typeof V=="function"?o[u+1]=V:(o.splice(u,3),u-=3),k1(o)}}}function L1(){function t(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function Em(t){this._internalRoot=t}Ch.prototype.render=Em.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=ws();w1(o,u,t,r,null,null)},Ch.prototype.unmount=Em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;w1(t.current,2,null,t,null,null),oh(),r[rt]=null}};function Ch(t){this._internalRoot=t}Ch.prototype.unstable_scheduleHydration=function(t){if(t){var r=cn();t={blockedOn:null,target:t,priority:r};for(var o=0;o<ml.length&&r!==0&&r<ml[o].priority;o++);ml.splice(o,0,t),o===0&&C1(t)}};var T1=e.version;if(T1!=="19.2.3")throw Error(s(527,T1,"19.2.3"));ge.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var Ty={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{Jt=Eh.inject(Ty),At=Eh}catch{}}return hd.createRoot=function(t,r){if(!l(t))throw Error(s(299));var o=!1,u="",g=Up,x=Bp,E=qp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=v1(t,1,!1,null,null,o,u,null,g,x,E,L1),t[rt]=r.current,cm(t),new Em(r)},hd.hydrateRoot=function(t,r,o){if(!l(t))throw Error(s(299));var u=!1,g="",x=Up,E=Bp,V=qp,fe=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(V=o.onRecoverableError),o.formState!==void 0&&(fe=o.formState)),r=v1(t,1,!0,r,o??null,u,g,fe,x,E,V,L1),r.context=y1(null),o=r.current,u=ws(),u=ka(u),g=Tt(u),g.callback=null,ta(o,g,u),o=u,r.current.lanes=o,vt(r,o),Gi(r),t[rt]=r.current,cm(t),new Ch(r)},hd.version="19.2.3",hd}var z1;function $y(){if(z1)return Tm.exports;z1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tm.exports=Hy(),Tm.exports}var Vy=$y();const Gy=Gb(Vy);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var F1="popstate";function Yy(n={}){function e(l,c){let{pathname:d="/",search:h="",hash:f=""}=hc(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),v0("",{pathname:d,search:h,hash:f},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(l,c){let d=l.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let f=l.location.href,p=f.indexOf("#");h=p===-1?f:f.slice(0,p)}return h+"#"+(typeof c=="string"?c:wd(c))}function s(l,c){is(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return Jy(e,a,s,n)}function ln(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function is(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ky(){return Math.random().toString(36).substring(2,10)}function H1(n,e){return{usr:n.state,key:n.key,idx:e}}function v0(n,e,a=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?hc(e):e,state:a,key:e&&e.key||s||Ky()}}function wd({pathname:n="/",search:e="",hash:a=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function hc(n){let e={};if(n){let a=n.indexOf("#");a>=0&&(e.hash=n.substring(a),n=n.substring(0,a));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function Jy(n,e,a,s={}){let{window:l=document.defaultView,v5Compat:c=!1}=s,d=l.history,h="POP",f=null,p=v();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function v(){return(d.state||{idx:null}).idx}function j(){h="POP";let O=v(),L=O==null?null:O-p;p=O,f&&f({action:h,location:k.location,delta:L})}function _(O,L){h="PUSH";let T=v0(k.location,O,L);a&&a(T,O),p=v()+1;let R=H1(T,p),F=k.createHref(T);try{d.pushState(R,"",F)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;l.location.assign(F)}c&&f&&f({action:h,location:k.location,delta:1})}function y(O,L){h="REPLACE";let T=v0(k.location,O,L);a&&a(T,O),p=v();let R=H1(T,p),F=k.createHref(T);d.replaceState(R,"",F),c&&f&&f({action:h,location:k.location,delta:0})}function C(O){return Wy(O)}let k={get action(){return h},get location(){return n(l,d)},listen(O){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(F1,j),f=O,()=>{l.removeEventListener(F1,j),f=null}},createHref(O){return e(l,O)},createURL:C,encodeLocation(O){let L=C(O);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:_,replace:y,go(O){return d.go(O)}};return k}function Wy(n,e=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),ln(a,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:wd(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function Yb(n,e,a="/"){return Xy(n,e,a,!1)}function Xy(n,e,a,s){let l=typeof e=="string"?hc(e):e,c=Do(l.pathname||"/",a);if(c==null)return null;let d=Kb(n);Zy(d);let h=null;for(let f=0;h==null&&f<d.length;++f){let p=c5(c);h=o5(d[f],p,s)}return h}function Kb(n,e=[],a=[],s="",l=!1){let c=(d,h,f=l,p)=>{let v={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&f)return;ln(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let j=Oo([s,v.relativePath]),_=a.concat(v);d.children&&d.children.length>0&&(ln(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),Kb(d.children,e,_,j,f)),!(d.path==null&&!d.index)&&e.push({path:j,score:s5(j,d.index),routesMeta:_})};return n.forEach((d,h)=>{var f;if(d.path===""||!((f=d.path)!=null&&f.includes("?")))c(d,h);else for(let p of Jb(d.path))c(d,h,!0,p)}),e}function Jb(n){let e=n.split("/");if(e.length===0)return[];let[a,...s]=e,l=a.endsWith("?"),c=a.replace(/\?$/,"");if(s.length===0)return l?[c,""]:[c];let d=Jb(s.join("/")),h=[];return h.push(...d.map(f=>f===""?c:[c,f].join("/"))),l&&h.push(...d),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function Zy(n){n.sort((e,a)=>e.score!==a.score?a.score-e.score:i5(e.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var Qy=/^:[\w-]+$/,e5=3,t5=2,a5=1,n5=10,r5=-2,$1=n=>n==="*";function s5(n,e){let a=n.split("/"),s=a.length;return a.some($1)&&(s+=r5),e&&(s+=t5),a.filter(l=>!$1(l)).reduce((l,c)=>l+(Qy.test(c)?e5:c===""?a5:n5),s)}function i5(n,e){return n.length===e.length&&n.slice(0,-1).every((s,l)=>s===e[l])?n[n.length-1]-e[e.length-1]:0}function o5(n,e,a=!1){let{routesMeta:s}=n,l={},c="/",d=[];for(let h=0;h<s.length;++h){let f=s[h],p=h===s.length-1,v=c==="/"?e:e.slice(c.length)||"/",j=Qh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),_=f.route;if(!j&&p&&a&&!s[s.length-1].route.index&&(j=Qh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!j)return null;Object.assign(l,j.params),d.push({params:l,pathname:Oo([c,j.pathname]),pathnameBase:f5(Oo([c,j.pathnameBase])),route:_}),j.pathnameBase!=="/"&&(c=Oo([c,j.pathnameBase]))}return d}function Qh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[a,s]=l5(n.path,n.caseSensitive,n.end),l=e.match(a);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:j},_)=>{if(v==="*"){let C=h[_]||"";d=c.slice(0,c.length-C.length).replace(/(.)\/+$/,"$1")}const y=h[_];return j&&!y?p[v]=void 0:p[v]=(y||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:n}}function l5(n,e=!1,a=!0){is(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,f)=>(s.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function c5(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return is(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Do(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,s=n.charAt(a);return s&&s!=="/"?null:n.slice(a)||"/"}var Wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u5=n=>Wb.test(n);function d5(n,e="/"){let{pathname:a,search:s="",hash:l=""}=typeof n=="string"?hc(n):n,c;if(a)if(u5(a))c=a;else{if(a.includes("//")){let d=a;a=a.replace(/\/\/+/g,"/"),is(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${a}`)}a.startsWith("/")?c=V1(a.substring(1),"/"):c=V1(a,e)}else c=e;return{pathname:c,search:m5(s),hash:p5(l)}}function V1(n,e){let a=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function Mm(n,e,a,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h5(n){return n.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function K0(n){let e=h5(n);return e.map((a,s)=>s===e.length-1?a.pathname:a.pathnameBase)}function J0(n,e,a,s=!1){let l;typeof n=="string"?l=hc(n):(l={...n},ln(!l.pathname||!l.pathname.includes("?"),Mm("?","pathname","search",l)),ln(!l.pathname||!l.pathname.includes("#"),Mm("#","pathname","hash",l)),ln(!l.search||!l.search.includes("#"),Mm("#","search","hash",l)));let c=n===""||l.pathname==="",d=c?"/":l.pathname,h;if(d==null)h=a;else{let j=e.length-1;if(!s&&d.startsWith("..")){let _=d.split("/");for(;_[0]==="..";)_.shift(),j-=1;l.pathname=_.join("/")}h=j>=0?e[j]:"/"}let f=d5(l,h),p=d&&d!=="/"&&d.endsWith("/"),v=(c||d===".")&&a.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Oo=n=>n.join("/").replace(/\/\/+/g,"/"),f5=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),m5=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,p5=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,g5=class{constructor(n,e,a,s=!1){this.status=n,this.statusText=e||"",this.internal=s,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function b5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function x5(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Xb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zb(n,e){let a=n;if(typeof a!="string"||!Wb.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let s=a,l=!1;if(Xb)try{let c=new URL(window.location.href),d=a.startsWith("//")?new URL(c.protocol+a):new URL(a),h=Do(d.pathname,e);d.origin===c.origin&&h!=null?a=h+d.search+d.hash:l=!0}catch{is(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Qb=["POST","PUT","PATCH","DELETE"];new Set(Qb);var v5=["GET",...Qb];new Set(v5);var Cu=ae.createContext(null);Cu.displayName="DataRouter";var uf=ae.createContext(null);uf.displayName="DataRouterState";var y5=ae.createContext(!1),ex=ae.createContext({isTransitioning:!1});ex.displayName="ViewTransition";var w5=ae.createContext(new Map);w5.displayName="Fetchers";var _5=ae.createContext(null);_5.displayName="Await";var Cs=ae.createContext(null);Cs.displayName="Navigation";var Od=ae.createContext(null);Od.displayName="Location";var Vs=ae.createContext({outlet:null,matches:[],isDataRoute:!1});Vs.displayName="Route";var W0=ae.createContext(null);W0.displayName="RouteError";var tx="REACT_ROUTER_ERROR",N5="REDIRECT",j5="ROUTE_ERROR_RESPONSE";function S5(n){if(n.startsWith(`${tx}:${N5}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function A5(n){if(n.startsWith(`${tx}:${j5}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new g5(e.status,e.statusText,e.data)}catch{}}function C5(n,{relative:e}={}){ln(Eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=ae.useContext(Cs),{hash:l,pathname:c,search:d}=Rd(n,{relative:e}),h=c;return a!=="/"&&(h=c==="/"?a:Oo([a,c])),s.createHref({pathname:h,search:d,hash:l})}function Eu(){return ae.useContext(Od)!=null}function Si(){return ln(Eu(),"useLocation() may be used only in the context of a <Router> component."),ae.useContext(Od).location}var ax="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nx(n){ae.useContext(Cs).static||ae.useLayoutEffect(n)}function Xi(){let{isDataRoute:n}=ae.useContext(Vs);return n?H5():E5()}function E5(){ln(Eu(),"useNavigate() may be used only in the context of a <Router> component.");let n=ae.useContext(Cu),{basename:e,navigator:a}=ae.useContext(Cs),{matches:s}=ae.useContext(Vs),{pathname:l}=Si(),c=JSON.stringify(K0(s)),d=ae.useRef(!1);return nx(()=>{d.current=!0}),ae.useCallback((f,p={})=>{if(is(d.current,ax),!d.current)return;if(typeof f=="number"){a.go(f);return}let v=J0(f,JSON.parse(c),l,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Oo([e,v.pathname])),(p.replace?a.replace:a.push)(v,p.state,p)},[e,a,c,l,n])}var k5=ae.createContext(null);function L5(n){let e=ae.useContext(Vs).outlet;return ae.useMemo(()=>e&&ae.createElement(k5.Provider,{value:n},e),[e,n])}function T5(){let{matches:n}=ae.useContext(Vs),e=n[n.length-1];return e?e.params:{}}function Rd(n,{relative:e}={}){let{matches:a}=ae.useContext(Vs),{pathname:s}=Si(),l=JSON.stringify(K0(a));return ae.useMemo(()=>J0(n,JSON.parse(l),s,e==="path"),[n,l,s,e])}function O5(n,e){return rx(n,e)}function rx(n,e,a,s,l){var T;ln(Eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=ae.useContext(Cs),{matches:d}=ae.useContext(Vs),h=d[d.length-1],f=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",j=h&&h.route;{let R=j&&j.path||"";ix(p,!j||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let _=Si(),y;if(e){let R=typeof e=="string"?hc(e):e;ln(v==="/"||((T=R.pathname)==null?void 0:T.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${R.pathname}" was given in the \`location\` prop.`),y=R}else y=_;let C=y.pathname||"/",k=C;if(v!=="/"){let R=v.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(R.length).join("/")}let O=Yb(n,{pathname:k});is(j||O!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),is(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=I5(O&&O.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Oo([v,c.encodeLocation?c.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?v:Oo([v,c.encodeLocation?c.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),d,a,s,l);return e&&L?ae.createElement(Od.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},L):L}function R5(){let n=F5(),e=b5(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),a=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=ae.createElement(ae.Fragment,null,ae.createElement("p",null," Hey developer "),ae.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ae.createElement("code",{style:c},"ErrorBoundary")," or"," ",ae.createElement("code",{style:c},"errorElement")," prop on your route.")),ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},e),a?ae.createElement("pre",{style:l},a):null,d)}var D5=ae.createElement(R5,null),sx=class extends ae.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const a=A5(n.digest);a&&(n=a)}let e=n!==void 0?ae.createElement(Vs.Provider,{value:this.props.routeContext},ae.createElement(W0.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?ae.createElement(M5,{error:n},e):e}};sx.contextType=y5;var Pm=new WeakMap;function M5({children:n,error:e}){let{basename:a}=ae.useContext(Cs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=S5(e.digest);if(s){let l=Pm.get(e);if(l)throw l;let c=Zb(s.location,a);if(Xb&&!Pm.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw Pm.set(e,d),d}return ae.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return n}function P5({routeContext:n,match:e,children:a}){let s=ae.useContext(Cu);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),ae.createElement(Vs.Provider,{value:n},a)}function I5(n,e=[],a=null,s=null,l=null){if(n==null){if(!a)return null;if(a.errors)n=a.matches;else if(e.length===0&&!a.initialized&&a.matches.length>0)n=a.matches;else return null}let c=n,d=a==null?void 0:a.errors;if(d!=null){let v=c.findIndex(j=>j.route.id&&(d==null?void 0:d[j.route.id])!==void 0);ln(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let h=!1,f=-1;if(a)for(let v=0;v<c.length;v++){let j=c[v];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(f=v),j.route.id){let{loaderData:_,errors:y}=a,C=j.route.loader&&!_.hasOwnProperty(j.route.id)&&(!y||y[j.route.id]===void 0);if(j.route.lazy||C){h=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}let p=a&&s?(v,j)=>{var _,y;s(v,{location:a.location,params:((y=(_=a.matches)==null?void 0:_[0])==null?void 0:y.params)??{},unstable_pattern:x5(a.matches),errorInfo:j})}:void 0;return c.reduceRight((v,j,_)=>{let y,C=!1,k=null,O=null;a&&(y=d&&j.route.id?d[j.route.id]:void 0,k=j.route.errorElement||D5,h&&(f<0&&_===0?(ix("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,O=null):f===_&&(C=!0,O=j.route.hydrateFallbackElement||null)));let L=e.concat(c.slice(0,_+1)),T=()=>{let R;return y?R=k:C?R=O:j.route.Component?R=ae.createElement(j.route.Component,null):j.route.element?R=j.route.element:R=v,ae.createElement(P5,{match:j,routeContext:{outlet:v,matches:L,isDataRoute:a!=null},children:R})};return a&&(j.route.ErrorBoundary||j.route.errorElement||_===0)?ae.createElement(sx,{location:a.location,revalidation:a.revalidation,component:k,error:y,children:T(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:p}):T()},null)}function X0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U5(n){let e=ae.useContext(Cu);return ln(e,X0(n)),e}function B5(n){let e=ae.useContext(uf);return ln(e,X0(n)),e}function q5(n){let e=ae.useContext(Vs);return ln(e,X0(n)),e}function Z0(n){let e=q5(n),a=e.matches[e.matches.length-1];return ln(a.route.id,`${n} can only be used on routes that contain a unique "id"`),a.route.id}function z5(){return Z0("useRouteId")}function F5(){var s;let n=ae.useContext(W0),e=B5("useRouteError"),a=Z0("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[a]}function H5(){let{router:n}=U5("useNavigate"),e=Z0("useNavigate"),a=ae.useRef(!1);return nx(()=>{a.current=!0}),ae.useCallback(async(l,c={})=>{is(a.current,ax),a.current&&(typeof l=="number"?await n.navigate(l):await n.navigate(l,{fromRouteId:e,...c}))},[n,e])}var G1={};function ix(n,e,a){!e&&!G1[n]&&(G1[n]=!0,is(!1,a))}ae.memo($5);function $5({routes:n,future:e,state:a,onError:s}){return rx(n,void 0,a,s,e)}function kh({to:n,replace:e,state:a,relative:s}){ln(Eu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=ae.useContext(Cs);is(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=ae.useContext(Vs),{pathname:d}=Si(),h=Xi(),f=J0(n,K0(c),d,s==="path"),p=JSON.stringify(f);return ae.useEffect(()=>{h(JSON.parse(p),{replace:e,state:a,relative:s})},[h,p,s,e,a]),null}function V5(n){return L5(n.context)}function en(n){ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G5({basename:n="/",children:e=null,location:a,navigationType:s="POP",navigator:l,static:c=!1,unstable_useTransitions:d}){ln(!Eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=ae.useMemo(()=>({basename:h,navigator:l,static:c,unstable_useTransitions:d,future:{}}),[h,l,c,d]);typeof a=="string"&&(a=hc(a));let{pathname:p="/",search:v="",hash:j="",state:_=null,key:y="default"}=a,C=ae.useMemo(()=>{let k=Do(p,h);return k==null?null:{location:{pathname:k,search:v,hash:j,state:_,key:y},navigationType:s}},[h,p,v,j,_,y,s]);return is(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${v}${j}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:ae.createElement(Cs.Provider,{value:f},ae.createElement(Od.Provider,{children:e,value:C}))}function Y5({children:n,location:e}){return O5(y0(n),e)}function y0(n,e=[]){let a=[];return ae.Children.forEach(n,(s,l)=>{if(!ae.isValidElement(s))return;let c=[...e,l];if(s.type===ae.Fragment){a.push.apply(a,y0(s.props.children,c));return}ln(s.type===en,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ln(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=y0(s.props.children,c)),a.push(d)}),a}var $h="get",Vh="application/x-www-form-urlencoded";function df(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function K5(n){return df(n)&&n.tagName.toLowerCase()==="button"}function J5(n){return df(n)&&n.tagName.toLowerCase()==="form"}function W5(n){return df(n)&&n.tagName.toLowerCase()==="input"}function X5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Z5(n,e){return n.button===0&&(!e||e==="_self")&&!X5(n)}function w0(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,a)=>{let s=n[a];return e.concat(Array.isArray(s)?s.map(l=>[a,l]):[[a,s]])},[]))}function Q5(n,e){let a=w0(n);return e&&e.forEach((s,l)=>{a.has(l)||e.getAll(l).forEach(c=>{a.append(l,c)})}),a}var Lh=null;function ew(){if(Lh===null)try{new FormData(document.createElement("form"),0),Lh=!1}catch{Lh=!0}return Lh}var tw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Im(n){return n!=null&&!tw.has(n)?(is(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):n}function aw(n,e){let a,s,l,c,d;if(J5(n)){let h=n.getAttribute("action");s=h?Do(h,e):null,a=n.getAttribute("method")||$h,l=Im(n.getAttribute("enctype"))||Vh,c=new FormData(n)}else if(K5(n)||W5(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(s=f?Do(f,e):null,a=n.getAttribute("formmethod")||h.getAttribute("method")||$h,l=Im(n.getAttribute("formenctype"))||Im(h.getAttribute("enctype"))||Vh,c=new FormData(h,n),!ew()){let{name:p,type:v,value:j}=n;if(v==="image"){let _=p?`${p}.`:"";c.append(`${_}x`,"0"),c.append(`${_}y`,"0")}else p&&c.append(p,j)}}else{if(df(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=$h,s=null,l=Vh,d=n}return c&&l==="text/plain"&&(d=c,c=void 0),{action:s,method:a.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Q0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function nw(n,e,a,s){let l=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${s}`:l.pathname=`${l.pathname}.${s}`:l.pathname==="/"?l.pathname=`_root.${s}`:e&&Do(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function rw(n,e){if(n.id in e)return e[n.id];try{let a=await import(n.module);return e[n.id]=a,a}catch(a){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sw(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function iw(n,e,a){let s=await Promise.all(n.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await rw(c,a);return d.links?d.links():[]}return[]}));return uw(s.flat(1).filter(sw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Y1(n,e,a,s,l,c){let d=(f,p)=>a[p]?f.route.id!==a[p].route.id:!0,h=(f,p)=>{var v;return a[p].pathname!==f.pathname||((v=a[p].route.path)==null?void 0:v.endsWith("*"))&&a[p].params["*"]!==f.params["*"]};return c==="assets"?e.filter((f,p)=>d(f,p)||h(f,p)):c==="data"?e.filter((f,p)=>{var j;let v=s.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(d(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((j=a[0])==null?void 0:j.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function ow(n,e,{includeHydrateFallback:a}={}){return lw(n.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function lw(n){return[...new Set(n)]}function cw(n){let e={},a=Object.keys(n).sort();for(let s of a)e[s]=n[s];return e}function uw(n,e){let a=new Set;return new Set(e),n.reduce((s,l)=>{let c=JSON.stringify(cw(l));return a.has(c)||(a.add(c),s.push({key:c,link:l})),s},[])}function ox(){let n=ae.useContext(Cu);return Q0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function dw(){let n=ae.useContext(uf);return Q0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ep=ae.createContext(void 0);ep.displayName="FrameworkContext";function lx(){let n=ae.useContext(ep);return Q0(n,"You must render this element inside a <HydratedRouter> element"),n}function hw(n,e){let a=ae.useContext(ep),[s,l]=ae.useState(!1),[c,d]=ae.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:j}=e,_=ae.useRef(null);ae.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let k=L=>{L.forEach(T=>{d(T.isIntersecting)})},O=new IntersectionObserver(k,{threshold:.5});return _.current&&O.observe(_.current),()=>{O.disconnect()}}},[n]),ae.useEffect(()=>{if(s){let k=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(k)}}},[s]);let y=()=>{l(!0)},C=()=>{l(!1),d(!1)};return a?n!=="intent"?[c,_,{}]:[c,_,{onFocus:fd(h,y),onBlur:fd(f,C),onMouseEnter:fd(p,y),onMouseLeave:fd(v,C),onTouchStart:fd(j,y)}]:[!1,_,{}]}function fd(n,e){return a=>{n&&n(a),a.defaultPrevented||e(a)}}function fw({page:n,...e}){let{router:a}=ox(),s=ae.useMemo(()=>Yb(a.routes,n,a.basename),[a.routes,n,a.basename]);return s?ae.createElement(pw,{page:n,matches:s,...e}):null}function mw(n){let{manifest:e,routeModules:a}=lx(),[s,l]=ae.useState([]);return ae.useEffect(()=>{let c=!1;return iw(n,e,a).then(d=>{c||l(d)}),()=>{c=!0}},[n,e,a]),s}function pw({page:n,matches:e,...a}){let s=Si(),{future:l,manifest:c,routeModules:d}=lx(),{basename:h}=ox(),{loaderData:f,matches:p}=dw(),v=ae.useMemo(()=>Y1(n,e,p,c,s,"data"),[n,e,p,c,s]),j=ae.useMemo(()=>Y1(n,e,p,c,s,"assets"),[n,e,p,c,s]),_=ae.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let k=new Set,O=!1;if(e.forEach(T=>{var F;let R=c.routes[T.route.id];!R||!R.hasLoader||(!v.some(ne=>ne.route.id===T.route.id)&&T.route.id in f&&((F=d[T.route.id])!=null&&F.shouldRevalidate)||R.hasClientLoader?O=!0:k.add(T.route.id))}),k.size===0)return[];let L=nw(n,h,l.unstable_trailingSlashAwareDataRequests,"data");return O&&k.size>0&&L.searchParams.set("_routes",e.filter(T=>k.has(T.route.id)).map(T=>T.route.id).join(",")),[L.pathname+L.search]},[h,l.unstable_trailingSlashAwareDataRequests,f,s,c,v,e,n,d]),y=ae.useMemo(()=>ow(j,c),[j,c]),C=mw(j);return ae.createElement(ae.Fragment,null,_.map(k=>ae.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...a})),y.map(k=>ae.createElement("link",{key:k,rel:"modulepreload",href:k,...a})),C.map(({key:k,link:O})=>ae.createElement("link",{key:k,nonce:a.nonce,...O})))}function gw(...n){return e=>{n.forEach(a=>{typeof a=="function"?a(e):a!=null&&(a.current=e)})}}var bw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bw&&(window.__reactRouterVersion="7.12.0")}catch{}function xw({basename:n,children:e,unstable_useTransitions:a,window:s}){let l=ae.useRef();l.current==null&&(l.current=Yy({window:s,v5Compat:!0}));let c=l.current,[d,h]=ae.useState({action:c.action,location:c.location}),f=ae.useCallback(p=>{a===!1?h(p):ae.startTransition(()=>h(p))},[a]);return ae.useLayoutEffect(()=>c.listen(f),[c,f]),ae.createElement(G5,{basename:n,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:a})}var cx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=ae.forwardRef(function({onClick:e,discover:a="render",prefetch:s="none",relative:l,reloadDocument:c,replace:d,state:h,target:f,to:p,preventScrollReset:v,viewTransition:j,unstable_defaultShouldRevalidate:_,...y},C){let{basename:k,unstable_useTransitions:O}=ae.useContext(Cs),L=typeof p=="string"&&cx.test(p),T=Zb(p,k);p=T.to;let R=C5(p,{relative:l}),[F,ne,de]=hw(s,y),W=_w(p,{replace:d,state:h,target:f,preventScrollReset:v,relative:l,viewTransition:j,unstable_defaultShouldRevalidate:_,unstable_useTransitions:O});function se(we){e&&e(we),we.defaultPrevented||W(we)}let K=ae.createElement("a",{...y,...de,href:T.absoluteURL||R,onClick:T.isExternal||c?e:se,ref:gw(C,ne),target:f,"data-discover":!L&&a==="render"?"true":void 0});return F&&!L?ae.createElement(ae.Fragment,null,K,ae.createElement(fw,{page:R})):K});Rn.displayName="Link";var vw=ae.forwardRef(function({"aria-current":e="page",caseSensitive:a=!1,className:s="",end:l=!1,style:c,to:d,viewTransition:h,children:f,...p},v){let j=Rd(d,{relative:p.relative}),_=Si(),y=ae.useContext(uf),{navigator:C,basename:k}=ae.useContext(Cs),O=y!=null&&Ew(j)&&h===!0,L=C.encodeLocation?C.encodeLocation(j).pathname:j.pathname,T=_.pathname,R=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(T=T.toLowerCase(),R=R?R.toLowerCase():null,L=L.toLowerCase()),R&&k&&(R=Do(R,k)||R);const F=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ne=T===L||!l&&T.startsWith(L)&&T.charAt(F)==="/",de=R!=null&&(R===L||!l&&R.startsWith(L)&&R.charAt(L.length)==="/"),W={isActive:ne,isPending:de,isTransitioning:O},se=ne?e:void 0,K;typeof s=="function"?K=s(W):K=[s,ne?"active":null,de?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let we=typeof c=="function"?c(W):c;return ae.createElement(Rn,{...p,"aria-current":se,className:K,ref:v,style:we,to:d,viewTransition:h},typeof f=="function"?f(W):f)});vw.displayName="NavLink";var yw=ae.forwardRef(({discover:n="render",fetcherKey:e,navigate:a,reloadDocument:s,replace:l,state:c,method:d=$h,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:j,unstable_defaultShouldRevalidate:_,...y},C)=>{let{unstable_useTransitions:k}=ae.useContext(Cs),O=Aw(),L=Cw(h,{relative:p}),T=d.toLowerCase()==="get"?"get":"post",R=typeof h=="string"&&cx.test(h),F=ne=>{if(f&&f(ne),ne.defaultPrevented)return;ne.preventDefault();let de=ne.nativeEvent.submitter,W=(de==null?void 0:de.getAttribute("formmethod"))||d,se=()=>O(de||ne.currentTarget,{fetcherKey:e,method:W,navigate:a,replace:l,state:c,relative:p,preventScrollReset:v,viewTransition:j,unstable_defaultShouldRevalidate:_});k&&a!==!1?ae.startTransition(()=>se()):se()};return ae.createElement("form",{ref:C,method:T,action:L,onSubmit:s?f:F,...y,"data-discover":!R&&n==="render"?"true":void 0})});yw.displayName="Form";function ww(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ux(n){let e=ae.useContext(Cu);return ln(e,ww(n)),e}function _w(n,{target:e,replace:a,state:s,preventScrollReset:l,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let p=Xi(),v=Si(),j=Rd(n,{relative:c});return ae.useCallback(_=>{if(Z5(_,e)){_.preventDefault();let y=a!==void 0?a:wd(v)===wd(j),C=()=>p(n,{replace:y,state:s,preventScrollReset:l,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:h});f?ae.startTransition(()=>C()):C()}},[v,p,j,a,s,e,n,l,c,d,h,f])}function Nw(n){is(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=ae.useRef(w0(n)),a=ae.useRef(!1),s=Si(),l=ae.useMemo(()=>Q5(s.search,a.current?null:e.current),[s.search]),c=Xi(),d=ae.useCallback((h,f)=>{const p=w0(typeof h=="function"?h(new URLSearchParams(l)):h);a.current=!0,c("?"+p,f)},[c,l]);return[l,d]}var jw=0,Sw=()=>`__${String(++jw)}__`;function Aw(){let{router:n}=ux("useSubmit"),{basename:e}=ae.useContext(Cs),a=z5(),s=n.fetch,l=n.navigate;return ae.useCallback(async(c,d={})=>{let{action:h,method:f,encType:p,formData:v,body:j}=aw(c,e);if(d.navigate===!1){let _=d.fetcherKey||Sw();await s(_,a,d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:j,formMethod:d.method||f,formEncType:d.encType||p,flushSync:d.flushSync})}else await l(d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:j,formMethod:d.method||f,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:a,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,l,e,a])}function Cw(n,{relative:e}={}){let{basename:a}=ae.useContext(Cs),s=ae.useContext(Vs);ln(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),c={...Rd(n||".",{relative:e})},d=Si();if(n==null){c.search=d.search;let h=new URLSearchParams(c.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(j=>j).forEach(j=>h.append("index",j));let v=h.toString();c.search=v?`?${v}`:""}}return(!n||n===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:Oo([a,c.pathname])),wd(c)}function Ew(n,{relative:e}={}){let a=ae.useContext(ex);ln(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ux("useViewTransitionState"),l=Rd(n,{relative:e});if(!a.isTransitioning)return!1;let c=Do(a.currentLocation.pathname,s)||a.currentLocation.pathname,d=Do(a.nextLocation.pathname,s)||a.nextLocation.pathname;return Qh(l.pathname,d)!=null||Qh(l.pathname,c)!=null}function hf(n,e){var a={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(a[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(a[s[l]]=n[s[l]]);return a}function kw(n,e,a,s){function l(c){return c instanceof a?c:new a(function(d){d(c)})}return new(a||(a=Promise))(function(c,d){function h(v){try{p(s.next(v))}catch(j){d(j)}}function f(v){try{p(s.throw(v))}catch(j){d(j)}}function p(v){v.done?c(v.value):l(v.value).then(h,f)}p((s=s.apply(n,e||[])).next())})}const Lw=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class tp extends Error{constructor(e,a="FunctionsError",s){super(e),this.name=a,this.context=s}}class Tw extends tp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class K1 extends tp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class J1 extends tp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var _0;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(_0||(_0={}));class Ow{constructor(e,{headers:a={},customFetch:s,region:l=_0.Any}={}){this.url=e,this.headers=a,this.region=l,this.fetch=Lw(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return kw(this,arguments,void 0,function*(a,s={}){var l;let c,d;try{const{headers:h,method:f,body:p,signal:v,timeout:j}=s;let _={},{region:y}=s;y||(y=this.region);const C=new URL(`${this.url}/${a}`);y&&y!=="any"&&(_["x-region"]=y,C.searchParams.set("forceFunctionRegion",y));let k;p&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",k=p):typeof p=="string"?(_["Content-Type"]="text/plain",k=p):typeof FormData<"u"&&p instanceof FormData?k=p:(_["Content-Type"]="application/json",k=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?k=JSON.stringify(p):k=p;let O=v;j&&(d=new AbortController,c=setTimeout(()=>d.abort(),j),v?(O=d.signal,v.addEventListener("abort",()=>d.abort())):O=d.signal);const L=yield this.fetch(C.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),h),body:k,signal:O}).catch(ne=>{throw new Tw(ne)}),T=L.headers.get("x-relay-error");if(T&&T==="true")throw new K1(L);if(!L.ok)throw new J1(L);let R=((l=L.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),F;return R==="application/json"?F=yield L.json():R==="application/octet-stream"||R==="application/pdf"?F=yield L.blob():R==="text/event-stream"?F=L:R==="multipart/form-data"?F=yield L.formData():F=yield L.text(),{data:F,error:null,response:L}}catch(h){return{data:null,error:h,response:h instanceof J1||h instanceof K1?h.context:void 0}}finally{c&&clearTimeout(c)}})}}var Rw=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},Dw=class{constructor(n){var e,a;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(a=n.isMaybeSingle)!==null&&a!==void 0?a:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let d=null,h=null,f=null,p=c.status,v=c.statusText;if(c.ok){var j,_;if(a.method!=="HEAD"){var y;const L=await c.text();L===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((y=a.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?h=L:h=JSON.parse(L))}const k=(j=a.headers.get("Prefer"))===null||j===void 0?void 0:j.match(/count=(exact|planned|estimated)/),O=(_=c.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");k&&O&&O.length>1&&(f=parseInt(O[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var C;const k=await c.text();try{d=JSON.parse(k),Array.isArray(d)&&c.status===404&&(h=[],d=null,p=200,v="OK")}catch{c.status===404&&k===""?(p=204,v="No Content"):d={message:k}}if(d&&a.isMaybeSingle&&(!(d==null||(C=d.details)===null||C===void 0)&&C.includes("0 rows"))&&(d=null,p=200,v="OK"),d&&a.shouldThrowOnError)throw new Rw(d)}return{error:d,data:h,count:f,status:p,statusText:v}});return this.shouldThrowOnError||(l=l.catch(c=>{var d;let h="";const f=c==null?void 0:c.cause;if(f){var p,v,j,_;const C=(p=f==null?void 0:f.message)!==null&&p!==void 0?p:"",k=(v=f==null?void 0:f.code)!==null&&v!==void 0?v:"";h=`${(j=c==null?void 0:c.name)!==null&&j!==void 0?j:"FetchError"}: ${c==null?void 0:c.message}`,h+=`

Caused by: ${(_=f==null?void 0:f.name)!==null&&_!==void 0?_:"Error"}: ${C}`,k&&(h+=` (${k})`),f!=null&&f.stack&&(h+=`
${f.stack}`)}else{var y;h=(y=c==null?void 0:c.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(n,e)}returns(){return this}overrideTypes(){return this}},Mw=class extends Dw{select(n){let e=!1;const a=(n??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:a,foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${n}.${e?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:a=e}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${n}`),this}range(n,e,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:a=!1,buffers:s=!1,wal:l=!1,format:c="text"}={}){var d;const h=[n?"analyze":null,e?"verbose":null,a?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const W1=new RegExp("[,()]");var mu=class extends Mw{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const a=Array.from(new Set(e)).map(s=>typeof s=="string"&&W1.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`in.(${a})`),this}notIn(n,e){const a=Array.from(new Set(e)).map(s=>typeof s=="string"&&W1.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`not.in.(${a})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:a,type:s}={}){let l="";s==="plain"?l="pl":s==="phrase"?l="ph":s==="websearch"&&(l="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(n,`${l}fts${c}.${e}`),this}match(n){return Object.entries(n).forEach(([e,a])=>{this.url.searchParams.append(e,`eq.${a}`)}),this}not(n,e,a){return this.url.searchParams.append(n,`not.${e}.${a}`),this}or(n,{foreignTable:e,referencedTable:a=e}={}){const s=a?`${a}.or`:"or";return this.url.searchParams.append(s,`(${n})`),this}filter(n,e,a){return this.url.searchParams.append(n,`${e}.${a}`),this}},Pw=class{constructor(n,{headers:e={},schema:a,fetch:s}){this.url=n,this.headers=new Headers(e),this.schema=a,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,e){const{head:a=!1,count:s}=e??{},l=a?"HEAD":"GET";let c=!1;const d=(n??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join(""),{url:h,headers:f}=this.cloneRequestState();return h.searchParams.set("select",d),s&&f.append("Prefer",`count=${s}`),new mu({method:l,url:h,headers:f,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:a=!0}={}){var s;const l="POST",{url:c,headers:d}=this.cloneRequestState();if(e&&d.append("Prefer",`count=${e}`),a||d.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);c.searchParams.set("columns",f.join(","))}}return new mu({method:l,url:c,headers:d,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:a=!1,count:s,defaultToNull:l=!0}={}){var c;const d="POST",{url:h,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),e!==void 0&&h.searchParams.set("on_conflict",e),s&&f.append("Prefer",`count=${s}`),l||f.append("Prefer","missing=default"),Array.isArray(n)){const p=n.reduce((v,j)=>v.concat(Object.keys(j)),[]);if(p.length>0){const v=[...new Set(p)].map(j=>`"${j}"`);h.searchParams.set("columns",v.join(","))}}return new mu({method:d,url:h,headers:f,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:e}={}){var a;const s="PATCH",{url:l,headers:c}=this.cloneRequestState();return e&&c.append("Prefer",`count=${e}`),new mu({method:s,url:l,headers:c,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:n}={}){var e;const a="DELETE",{url:s,headers:l}=this.cloneRequestState();return n&&l.append("Prefer",`count=${n}`),new mu({method:a,url:s,headers:l,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Iw=class dx{constructor(e,{headers:a={},schema:s,fetch:l}={}){this.url=e,this.headers=new Headers(a),this.schemaName=s,this.fetch=l}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Pw(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new dx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,a={},{head:s=!1,get:l=!1,count:c}={}){var d;let h;const f=new URL(`${this.url}/rpc/${e}`);let p;const v=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(v)),j=s&&Object.values(a).some(v);j?(h="POST",p=a):s||l?(h=s?"HEAD":"GET",Object.entries(a).filter(([y,C])=>C!==void 0).map(([y,C])=>[y,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([y,C])=>{f.searchParams.append(y,C)})):(h="POST",p=a);const _=new Headers(this.headers);return j?_.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&_.set("Prefer",`count=${c}`),new mu({method:h,url:f,headers:_,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class Uw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const s=a.versions;if(s&&s.node){const l=s.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let a=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(a+=`

Suggested solution: ${e.workaround}`),new Error(a)}static createWebSocket(e,a){const s=this.getWebSocketConstructor();return new s(e,a)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Bw="2.91.0",qw=`realtime-js/${Bw}`,zw="1.0.0",hx="2.0.0",X1=hx,N0=1e4,Fw=1e3,Hw=100;var xl;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(xl||(xl={}));var Zn;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Zn||(Zn={}));var _i;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(_i||(_i={}));var j0;(function(n){n.websocket="websocket"})(j0||(j0={}));var nc;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(nc||(nc={}));class $w{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,a){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return a(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var a;return this._isArrayBuffer((a=e.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var a,s;const l=(s=(a=e.payload)===null||a===void 0?void 0:a.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(e){var a,s;const l=(s=(a=e.payload)===null||a===void 0?void 0:a.payload)!==null&&s!==void 0?s:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(e,a,s){var l,c;const d=e.topic,h=(l=e.ref)!==null&&l!==void 0?l:"",f=(c=e.join_ref)!==null&&c!==void 0?c:"",p=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},j=Object.keys(v).length===0?"":JSON.stringify(v);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(j.length>255)throw new Error(`metadata length ${j.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+d.length+p.length+j.length,y=new ArrayBuffer(this.HEADER_LENGTH+_);let C=new DataView(y),k=0;C.setUint8(k++,this.KINDS.userBroadcastPush),C.setUint8(k++,f.length),C.setUint8(k++,h.length),C.setUint8(k++,d.length),C.setUint8(k++,p.length),C.setUint8(k++,j.length),C.setUint8(k++,a),Array.from(f,L=>C.setUint8(k++,L.charCodeAt(0))),Array.from(h,L=>C.setUint8(k++,L.charCodeAt(0))),Array.from(d,L=>C.setUint8(k++,L.charCodeAt(0))),Array.from(p,L=>C.setUint8(k++,L.charCodeAt(0))),Array.from(j,L=>C.setUint8(k++,L.charCodeAt(0)));var O=new Uint8Array(y.byteLength+s.byteLength);return O.set(new Uint8Array(y),0),O.set(new Uint8Array(s),y.byteLength),O.buffer}decode(e,a){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return a(s)}if(typeof e=="string"){const s=JSON.parse(e),[l,c,d,h,f]=s;return a({join_ref:l,ref:c,topic:d,event:h,payload:f})}return a({})}_binaryDecode(e){const a=new DataView(e),s=a.getUint8(0),l=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,a,l)}}_decodeUserBroadcast(e,a,s){const l=a.getUint8(1),c=a.getUint8(2),d=a.getUint8(3),h=a.getUint8(4);let f=this.HEADER_LENGTH+4;const p=s.decode(e.slice(f,f+l));f=f+l;const v=s.decode(e.slice(f,f+c));f=f+c;const j=s.decode(e.slice(f,f+d));f=f+d;const _=e.slice(f,e.byteLength),y=h===this.JSON_ENCODING?JSON.parse(s.decode(_)):_,C={type:this.BROADCAST_EVENT,event:v,payload:y};return d>0&&(C.meta=JSON.parse(j)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(e){var a;return e instanceof ArrayBuffer||((a=e==null?void 0:e.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(e,a){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>a.includes(s)))}}class fx{constructor(e,a){this.callback=e,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Va;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Va||(Va={}));const Z1=(n,e,a={})=>{var s;const l=(s=a.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((c,d)=>(c[d]=Vw(d,n,e,l),c),{}):{}},Vw=(n,e,a,s)=>{const l=e.find(h=>h.name===n),c=l==null?void 0:l.type,d=a[n];return c&&!s.includes(c)?mx(c,d):S0(d)},mx=(n,e)=>{if(n.charAt(0)==="_"){const a=n.slice(1,n.length);return Jw(e,a)}switch(n){case Va.bool:return Gw(e);case Va.float4:case Va.float8:case Va.int2:case Va.int4:case Va.int8:case Va.numeric:case Va.oid:return Yw(e);case Va.json:case Va.jsonb:return Kw(e);case Va.timestamp:return Ww(e);case Va.abstime:case Va.date:case Va.daterange:case Va.int4range:case Va.int8range:case Va.money:case Va.reltime:case Va.text:case Va.time:case Va.timestamptz:case Va.timetz:case Va.tsrange:case Va.tstzrange:return S0(e);default:return S0(e)}},S0=n=>n,Gw=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Yw=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Kw=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},Jw=(n,e)=>{if(typeof n!="string")return n;const a=n.length-1,s=n[a];if(n[0]==="{"&&s==="}"){let c;const d=n.slice(1,a);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(h=>mx(e,h))}return n},Ww=n=>typeof n=="string"?n.replace(" ","T"):n,px=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Um{constructor(e,a,s={},l=N0){this.channel=e,this.event=a,this.payload=s,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,a){var s;return this._hasReceived(e)&&a((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:a}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(a))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Q1;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Q1||(Q1={}));class bd{constructor(e,a){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},l=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bd.syncState(this.state,l,c,d),this.pendingDiffs.forEach(f=>{this.state=bd.syncDiff(this.state,f,c,d)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},l=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=bd.syncDiff(this.state,l,c,d),h())}),this.onJoin((l,c,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:d})}),this.onLeave((l,c,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,a,s,l){const c=this.cloneDeep(e),d=this.transformState(a),h={},f={};return this.map(c,(p,v)=>{d[p]||(f[p]=v)}),this.map(d,(p,v)=>{const j=c[p];if(j){const _=v.map(O=>O.presence_ref),y=j.map(O=>O.presence_ref),C=v.filter(O=>y.indexOf(O.presence_ref)<0),k=j.filter(O=>_.indexOf(O.presence_ref)<0);C.length>0&&(h[p]=C),k.length>0&&(f[p]=k)}else h[p]=v}),this.syncDiff(c,{joins:h,leaves:f},s,l)}static syncDiff(e,a,s,l){const{joins:c,leaves:d}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return s||(s=()=>{}),l||(l=()=>{}),this.map(c,(h,f)=>{var p;const v=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(f),v.length>0){const j=e[h].map(y=>y.presence_ref),_=v.filter(y=>j.indexOf(y.presence_ref)<0);e[h].unshift(..._)}s(h,v,f)}),this.map(d,(h,f)=>{let p=e[h];if(!p)return;const v=f.map(j=>j.presence_ref);p=p.filter(j=>v.indexOf(j.presence_ref)<0),e[h]=p,l(h,p,f),p.length===0&&delete e[h]}),e}static map(e,a){return Object.getOwnPropertyNames(e).map(s=>a(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((a,s)=>{const l=e[s];return"metas"in l?a[s]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):a[s]=l,a},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var e2;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(e2||(e2={}));var xd;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(xd||(xd={}));var Lo;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Lo||(Lo={}));class vu{constructor(e,a={config:{}},s){var l,c;if(this.topic=e,this.params=a,this.socket=s,this.bindings={},this.state=Zn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Um(this,_i.join,this.params,this.timeout),this.rejoinTimer=new fx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zn.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Zn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Zn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_i.reply,{},(d,h)=>{this._trigger(this._replyEventName(h),d)}),this.presence=new bd(this),this.broadcastEndpointURL=px(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,a=this.timeout){var s,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Zn.closed){const{config:{broadcast:d,presence:h,private:f}}=this.params,p=(l=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(y=>y.filter))!==null&&l!==void 0?l:[],v=!!this.bindings[xd.PRESENCE]&&this.bindings[xd.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,j={},_={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(j.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(Lo.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(Lo.CLOSED)),this.updateJoinPayload(Object.assign({config:_},j)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:y})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e==null||e(Lo.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,O=(C=k==null?void 0:k.length)!==null&&C!==void 0?C:0,L=[];for(let T=0;T<O;T++){const R=k[T],{filter:{event:F,schema:ne,table:de,filter:W}}=R,se=y&&y[T];if(se&&se.event===F&&vu.isFilterValueEqual(se.schema,ne)&&vu.isFilterValueEqual(se.table,de)&&vu.isFilterValueEqual(se.filter,W))L.push(Object.assign(Object.assign({},R),{id:se.id}));else{this.unsubscribe(),this.state=Zn.errored,e==null||e(Lo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,e&&e(Lo.SUBSCRIBED);return}}).receive("error",y=>{this.state=Zn.errored,e==null||e(Lo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Lo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,a={}){return await this.send({type:"presence",event:"track",payload:e},a.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,a,s){return this.state===Zn.joined&&e===xd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,a,s)}async httpSend(e,a,s={}){var l;if(a==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:a,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const p=await h.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,a={}){var s,l;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,h,f;const p=this._push(e.type,e,a.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Zn.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_i.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(l=>{s=new Um(this,_i.leave,{},e),s.receive("ok",()=>{a(),l("ok")}).receive("timeout",()=>{a(),l("timed out")}).receive("error",()=>{l("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Zn.closed,this.bindings={}}async _fetchWithTimeout(e,a,s){const l=new AbortController,c=setTimeout(()=>l.abort(),s),d=await this.socket.fetch(e,Object.assign(Object.assign({},a),{signal:l.signal}));return clearTimeout(c),d}_push(e,a,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Um(this,e,a,s);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Hw){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(e,a,s){return a}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,a,s){var l,c;const d=e.toLocaleLowerCase(),{close:h,error:f,leave:p,join:v}=_i;if(s&&[h,f,p,v].indexOf(d)>=0&&s!==this._joinRef())return;let _=this._onMessage(d,a,s);if(a&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(y=>{var C,k,O;return((C=y.filter)===null||C===void 0?void 0:C.event)==="*"||((O=(k=y.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===d}).map(y=>y.callback(_,s)):(c=this.bindings[d])===null||c===void 0||c.filter(y=>{var C,k,O,L,T,R,F,ne;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in y){const de=y.id,W=(C=y.filter)===null||C===void 0?void 0:C.event;return de&&((k=a.ids)===null||k===void 0?void 0:k.includes(de))&&(W==="*"||(W==null?void 0:W.toLocaleLowerCase())===((O=a.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))&&(!(!((L=y.filter)===null||L===void 0)&&L.table)||y.filter.table===((T=a.data)===null||T===void 0?void 0:T.table))}else{const de=(F=(R=y==null?void 0:y.filter)===null||R===void 0?void 0:R.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return de==="*"||de===((ne=a==null?void 0:a.event)===null||ne===void 0?void 0:ne.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===d}).map(y=>{if(typeof _=="object"&&"ids"in _){const C=_.data,{schema:k,table:O,commit_timestamp:L,type:T,errors:R}=C;_=Object.assign(Object.assign({},{schema:k,table:O,commit_timestamp:L,eventType:T,new:{},old:{},errors:R}),this._getPayloadRecords(C))}y.callback(_,s)})}_isClosed(){return this.state===Zn.closed}_isJoined(){return this.state===Zn.joined}_isJoining(){return this.state===Zn.joining}_isLeaving(){return this.state===Zn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,a,s){const l=e.toLocaleLowerCase(),c={type:l,filter:a,callback:s};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(e,a){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&vu.isEqual(l.filter,a))})),this}static isEqual(e,a){if(Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}static isFilterValueEqual(e,a){return(e??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_i.close,{},e)}_onError(e){this._on(_i.error,{},a=>e(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const a={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(a.new=Z1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(a.old=Z1(e.columns,e.old_record)),a}}const Bm=()=>{},Th={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xw=[1e3,2e3,5e3,1e4],Zw=1e4,Qw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class e_{constructor(e,a){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=N0,this.transport=null,this.heartbeatIntervalMs=Th.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bm,this.ref=0,this.reconnectTimer=null,this.vsn=X1,this.logger=Bm,this.conn=null,this.sendBuffer=[],this.serializer=new $w,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((s=a==null?void 0:a.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${e}/${j0.websocket}`,this.httpEndpoint=px(e),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Uw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const a=e.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const a=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const e=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,a,s){this.logger(e,a,s)}connectionState(){switch(this.conn&&this.conn.readyState){case xl.connecting:return nc.Connecting;case xl.open:return nc.Open;case xl.closing:return nc.Closing;default:return nc.Closed}}isConnected(){return this.connectionState()===nc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,a={config:{}}){const s=`realtime:${e}`,l=this.getChannels().find(c=>c.topic===s);if(l)return l;{const c=new vu(`realtime:${e}`,a,this);return this.channels.push(c),c}}push(e){const{topic:a,event:s,payload:l,ref:c}=e,d=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${a} ${s} (${c})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Fw,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Th.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let a=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${e}"`),a.unsubscribe())}_remove(e){this.channels=this.channels.filter(a=>a.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",p)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:l,payload:c,ref:d}=a,h=d?`(${d})`:"",f=c.status||"";this.log("receive",`${f} ${s} ${l} ${h}`.trim(),c),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(l,c,d)),this._triggerStateCallbacks("message",a)})}_clearTimer(e){var a;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===xl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===xl.open||this.conn.readyState===xl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var a;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_i.error))}_appendParams(e,a){if(Object.keys(a).length===0)return e;const s=e.match(/\?/)?"&":"?",l=new URLSearchParams(a);return`${e}${s}${l}`}_workerObjectUrl(e){let a;if(e)a=e;else{const s=new Blob([Qw],{type:"application/javascript"});a=URL.createObjectURL(s)}return a}_setConnectionState(e,a=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(e=null){let a,s=!1;if(e)a=e,s=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),a=this.accessTokenValue}else a=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(l=>{const c={access_token:a,version:qw};a&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(_i.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${e}`,a)})}_triggerStateCallbacks(e,a){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(a)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new fx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Th.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var a,s,l,c,d,h,f,p,v,j,_,y;switch(this.transport=(a=e==null?void 0:e.transport)!==null&&a!==void 0?a:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:N0,this.heartbeatIntervalMs=(l=e==null?void 0:e.heartbeatIntervalMs)!==null&&l!==void 0?l:Th.HEARTBEAT_INTERVAL,this.worker=(c=e==null?void 0:e.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=e==null?void 0:e.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:Bm,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:X1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(C=>Xw[C-1]||Zw),this.vsn){case zw:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:((C,k)=>k(JSON.stringify(C))),this.decode=(j=e==null?void 0:e.decode)!==null&&j!==void 0?j:((C,k)=>k(JSON.parse(C)));break;case hx:this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var _d=class extends Error{constructor(n,e){var a;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((a=e.icebergType)==null?void 0:a.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function t_(n,e,a){const s=new URL(e,n);if(a)for(const[l,c]of Object.entries(a))c!==void 0&&s.searchParams.set(l,c);return s.toString()}async function a_(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function n_(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:a,path:s,query:l,body:c,headers:d}){const h=t_(n.baseUrl,s,l),f=await a_(n.auth),p=await e(h,{method:a,headers:{...c?{"Content-Type":"application/json"}:{},...f,...d},body:c?JSON.stringify(c):void 0}),v=await p.text(),j=(p.headers.get("content-type")||"").includes("application/json"),_=j&&v?JSON.parse(v):v;if(!p.ok){const y=j?_:void 0,C=y==null?void 0:y.error;throw new _d((C==null?void 0:C.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:C==null?void 0:C.type,icebergCode:C==null?void 0:C.code,details:y})}return{status:p.status,headers:p.headers,data:_}}}}function Oh(n){return n.join("")}var r_=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:Oh(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(n,e){const a={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Oh(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Oh(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Oh(n.namespace)}`}),!0}catch(e){if(e instanceof _d&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(a){if(a instanceof _d&&a.status===409)return;throw a}}};function su(n){return n.join("")}var s_=class{constructor(n,e="",a){this.client=n,this.prefix=e,this.accessDelegation=a}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${su(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${su(n.namespace)}/tables`,body:e,headers:a})).data.metadata}async updateTable(n,e){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${su(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${su(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${su(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${su(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(a){if(a instanceof _d&&a.status===404)return!1;throw a}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(a){if(a instanceof _d&&a.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw a}}},i_=class{constructor(n){var s;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const a=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=n_({baseUrl:a,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(s=n.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new r_(this.client,e),this.tableOps=new s_(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},ff=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function pn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var o_=class extends ff{constructor(n,e,a){super(n),this.name="StorageApiError",this.status=e,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},A0=class extends ff{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};const ap=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),l_=()=>Response,C0=n=>{if(Array.isArray(n))return n.map(a=>C0(a));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([a,s])=>{const l=a.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[l]=C0(s)}),e},c_=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},u_=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Nd(n){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(n)}function d_(n,e){if(Nd(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var s=a.call(n,e);if(Nd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function h_(n){var e=d_(n,"string");return Nd(e)=="symbol"?e:e+""}function f_(n,e,a){return(e=h_(e))in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function t2(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),a.push.apply(a,s)}return a}function Bt(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(a),!0).forEach(function(s){f_(n,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):t2(Object(a)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(a,s))})}return n}const qm=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},m_=async(n,e,a)=>{n instanceof await l_()&&!(a!=null&&a.noResolveJson)?n.json().then(s=>{const l=n.status||500,c=(s==null?void 0:s.statusCode)||l+"";e(new o_(qm(s),l,c))}).catch(s=>{e(new A0(qm(s),s))}):e(new A0(qm(n),n))},p_=(n,e,a,s)=>{const l={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!s?l:(c_(s)?(l.headers=Bt({"Content-Type":"application/json"},e==null?void 0:e.headers),l.body=JSON.stringify(s)):l.body=s,e!=null&&e.duplex&&(l.duplex=e.duplex),Bt(Bt({},l),a))};async function Dd(n,e,a,s,l,c){return new Promise((d,h)=>{n(a,p_(e,s,l,c)).then(f=>{if(!f.ok)throw f;return s!=null&&s.noResolveJson?f:f.json()}).then(f=>d(f)).catch(f=>m_(f,h,s))})}async function jd(n,e,a,s){return Dd(n,"GET",e,a,s)}async function wi(n,e,a,s,l){return Dd(n,"POST",e,s,l,a)}async function E0(n,e,a,s,l){return Dd(n,"PUT",e,s,l,a)}async function g_(n,e,a,s){return Dd(n,"HEAD",e,Bt(Bt({},a),{},{noResolveJson:!0}),s)}async function np(n,e,a,s,l){return Dd(n,"DELETE",e,s,l,a)}var b_=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(pn(e))return{data:null,error:e};throw e}}};let gx;gx=Symbol.toStringTag;var x_=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[gx]="BlobDownloadBuilder",this.promise=null}asStream(){return new b_(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(pn(e))return{data:null,error:e};throw e}}};const v_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},a2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var y_=class{constructor(n,e={},a,s){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=a,this.fetch=ap(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,e,a,s){var l=this;try{let c;const d=Bt(Bt({},a2),s);let h=Bt(Bt({},l.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const f=d.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),f&&c.append("metadata",l.encodeMetadata(f)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.has("cacheControl")||c.append("cacheControl",d.cacheControl),f&&!c.has("metadata")&&c.append("metadata",l.encodeMetadata(f))):(c=a,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,f&&(h["x-metadata"]=l.toBase64(l.encodeMetadata(f))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!d.duplex&&(d.duplex="half")),s!=null&&s.headers&&(h=Bt(Bt({},h),s.headers));const p=l._removeEmptyFolders(e),v=l._getFinalPath(p),j=await(n=="PUT"?E0:wi)(l.fetch,`${l.url}/object/${v}`,c,Bt({headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:p,id:j.Id,fullPath:j.Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(pn(c))return{data:null,error:c};throw c}}async upload(n,e,a){return this.uploadOrUpdate("POST",n,e,a)}async uploadToSignedUrl(n,e,a,s){var l=this;const c=l._removeEmptyFolders(n),d=l._getFinalPath(c),h=new URL(l.url+`/object/upload/sign/${d}`);h.searchParams.set("token",e);try{let f;const p=Bt({upsert:a2.upsert},s),v=Bt(Bt({},l.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&a instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",a)):typeof FormData<"u"&&a instanceof FormData?(f=a,f.append("cacheControl",p.cacheControl)):(f=a,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{data:{path:c,fullPath:(await E0(l.fetch,h.toString(),f,{headers:v})).Key},error:null}}catch(f){if(l.shouldThrowOnError)throw f;if(pn(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(n,e){var a=this;try{let s=a._getFinalPath(n);const l=Bt({},a.headers);e!=null&&e.upsert&&(l["x-upsert"]="true");const c=await wi(a.fetch,`${a.url}/object/upload/sign/${s}`,{},{headers:l}),d=new URL(a.url+c.url),h=d.searchParams.get("token");if(!h)throw new ff("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:h},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(pn(s))return{data:null,error:s};throw s}}async update(n,e,a){return this.uploadOrUpdate("PUT",n,e,a)}async move(n,e,a){var s=this;try{return{data:await wi(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:n,destinationKey:e,destinationBucket:a==null?void 0:a.destinationBucket},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(pn(l))return{data:null,error:l};throw l}}async copy(n,e,a){var s=this;try{return{data:{path:(await wi(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:n,destinationKey:e,destinationBucket:a==null?void 0:a.destinationBucket},{headers:s.headers})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(pn(l))return{data:null,error:l};throw l}}async createSignedUrl(n,e,a){var s=this;try{let l=s._getFinalPath(n),c=await wi(s.fetch,`${s.url}/object/sign/${l}`,Bt({expiresIn:e},a!=null&&a.transform?{transform:a.transform}:{}),{headers:s.headers});const d=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${s.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(pn(l))return{data:null,error:l};throw l}}async createSignedUrls(n,e,a){var s=this;try{const l=await wi(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:n},{headers:s.headers}),c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(d=>Bt(Bt({},d),{},{signedUrl:d.signedURL?encodeURI(`${s.url}${d.signedURL}${c}`):null})),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(pn(l))return{data:null,error:l};throw l}}download(n,e){const a=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),l=s?`?${s}`:"",c=this._getFinalPath(n),d=()=>jd(this.fetch,`${this.url}/${a}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new x_(d,this.shouldThrowOnError)}async info(n){var e=this;const a=e._getFinalPath(n);try{return{data:C0(await jd(e.fetch,`${e.url}/object/info/${a}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(pn(s))return{data:null,error:s};throw s}}async exists(n){var e=this;const a=e._getFinalPath(n);try{return await g_(e.fetch,`${e.url}/object/${a}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(pn(s)&&s instanceof A0){const l=s.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:s}}throw s}}getPublicUrl(n,e){const a=this._getFinalPath(n),s=[],l=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";l!==""&&s.push(l);const c=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});d!==""&&s.push(d);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${a}${h}`)}}}async remove(n){var e=this;try{return{data:await np(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(pn(a))return{data:null,error:a};throw a}}async list(n,e,a){var s=this;try{const l=Bt(Bt(Bt({},v_),e),{},{prefix:n||""});return{data:await wi(s.fetch,`${s.url}/object/list/${s.bucketId}`,l,{headers:s.headers},a),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(pn(l))return{data:null,error:l};throw l}}async listV2(n,e){var a=this;try{const s=Bt({},n);return{data:await wi(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,s,{headers:a.headers},e),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(pn(s))return{data:null,error:s};throw s}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const bx="2.91.0",xx={"X-Client-Info":`storage-js/${bx}`};var w_=class{constructor(n,e={},a,s){this.shouldThrowOnError=!1;const l=new URL(n);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Bt(Bt({},xx),e),this.fetch=ap(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var e=this;try{const a=e.listBucketOptionsToQueryString(n);return{data:await jd(e.fetch,`${e.url}/bucket${a}`,{headers:e.headers}),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(pn(a))return{data:null,error:a};throw a}}async getBucket(n){var e=this;try{return{data:await jd(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(pn(a))return{data:null,error:a};throw a}}async createBucket(n,e={public:!1}){var a=this;try{return{data:await wi(a.fetch,`${a.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(pn(s))return{data:null,error:s};throw s}}async updateBucket(n,e){var a=this;try{return{data:await E0(a.fetch,`${a.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(pn(s))return{data:null,error:s};throw s}}async emptyBucket(n){var e=this;try{return{data:await wi(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(pn(a))return{data:null,error:a};throw a}}async deleteBucket(n){var e=this;try{return{data:await np(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(pn(a))return{data:null,error:a};throw a}}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},__=class{constructor(n,e={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Bt(Bt({},xx),e),this.fetch=ap(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await wi(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(pn(a))return{data:null,error:a};throw a}}async listBuckets(n){var e=this;try{const a=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&a.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&a.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&a.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&a.set("sortOrder",n.sortOrder),n!=null&&n.search&&a.set("search",n.search);const s=a.toString(),l=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await jd(e.fetch,l,{headers:e.headers}),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(pn(a))return{data:null,error:a};throw a}}async deleteBucket(n){var e=this;try{return{data:await np(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(pn(a))return{data:null,error:a};throw a}}from(n){var e=this;if(!u_(n))throw new ff("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new i_({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(a,{get(l,c){const d=l[c];return typeof d!="function"?d:async(...h)=>{try{return{data:await d.apply(l,h),error:null}}catch(f){if(s)throw f;return{data:null,error:f}}}}})}};const rp={"X-Client-Info":`storage-js/${bx}`,"Content-Type":"application/json"};var vx=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function js(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var zm=class extends vx{constructor(n,e,a){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},N_=class extends vx{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}};const sp=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),j_=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},n2=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),S_=async(n,e,a)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(a!=null&&a.noResolveJson)){const s=n.status||500,l=n;if(typeof l.json=="function")l.json().then(c=>{const d=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||s+"";e(new zm(n2(c),s,d))}).catch(()=>{const c=s+"";e(new zm(l.statusText||`HTTP ${s} error`,s,c))});else{const c=s+"";e(new zm(l.statusText||`HTTP ${s} error`,s,c))}}else e(new N_(n2(n),n))},A_=(n,e,a,s)=>{const l={method:n,headers:(e==null?void 0:e.headers)||{}};return s?(j_(s)?(l.headers=Bt({"Content-Type":"application/json"},e==null?void 0:e.headers),l.body=JSON.stringify(s)):l.body=s,Bt(Bt({},l),a)):l};async function C_(n,e,a,s,l,c){return new Promise((d,h)=>{n(a,A_(e,s,l,c)).then(f=>{if(!f.ok)throw f;if(s!=null&&s.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>d(f)).catch(f=>S_(f,h,s))})}async function Ss(n,e,a,s,l){return C_(n,"POST",e,s,l,a)}var E_=class{constructor(n,e={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Bt(Bt({},rp),e),this.fetch=sp(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var e=this;try{return{data:await Ss(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{},error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}}async getIndex(n,e){var a=this;try{return{data:await Ss(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:a.headers}),error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(js(s))return{data:null,error:s};throw s}}async listIndexes(n){var e=this;try{return{data:await Ss(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}}async deleteIndex(n,e){var a=this;try{return{data:await Ss(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:a.headers})||{},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(js(s))return{data:null,error:s};throw s}}},k_=class{constructor(n,e={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Bt(Bt({},rp),e),this.fetch=sp(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var e=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ss(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{},error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}}async getVectors(n){var e=this;try{return{data:await Ss(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}}async listVectors(n){var e=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Ss(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}}async queryVectors(n){var e=this;try{return{data:await Ss(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}}async deleteVectors(n){var e=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ss(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{},error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}}},L_=class{constructor(n,e={},a){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Bt(Bt({},rp),e),this.fetch=sp(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await Ss(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}}async getBucket(n){var e=this;try{return{data:await Ss(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}}async listBuckets(n={}){var e=this;try{return{data:await Ss(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}}async deleteBucket(n){var e=this;try{return{data:await Ss(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(js(a))return{data:null,error:a};throw a}}},T_=class extends L_{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new O_(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,a=this;return e().call(a,n)}async getBucket(n){var e=()=>super.getBucket,a=this;return e().call(a,n)}async listBuckets(n={}){var e=()=>super.listBuckets,a=this;return e().call(a,n)}async deleteBucket(n){var e=()=>super.deleteBucket,a=this;return e().call(a,n)}},O_=class extends E_{constructor(n,e,a,s){super(n,e,s),this.vectorBucketName=a}async createIndex(n){var e=()=>super.createIndex,a=this;return e().call(a,Bt(Bt({},n),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,a=this;return e().call(a,Bt(Bt({},n),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,a=this;return e().call(a,a.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,a=this;return e().call(a,a.vectorBucketName,n)}index(n){return new R_(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},R_=class extends k_{constructor(n,e,a,s,l){super(n,e,l),this.vectorBucketName=a,this.indexName=s}async putVectors(n){var e=()=>super.putVectors,a=this;return e().call(a,Bt(Bt({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(n){var e=()=>super.getVectors,a=this;return e().call(a,Bt(Bt({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,a=this;return e().call(a,Bt(Bt({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,a=this;return e().call(a,Bt(Bt({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,a=this;return e().call(a,Bt(Bt({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},D_=class extends w_{constructor(n,e={},a,s){super(n,e,a,s)}from(n){return new y_(this.url,this.headers,n,this.fetch)}get vectors(){return new T_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new __(this.url+"/iceberg",this.headers,this.fetch)}};const yx="2.91.0",pu=30*1e3,k0=3,Fm=k0*pu,M_="http://localhost:9999",P_="supabase.auth.token",I_={"X-Client-Info":`gotrue-js/${yx}`},L0="X-Supabase-Api-Version",wx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},U_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,B_=600*1e3;class Sd extends Error{constructor(e,a,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=s}}function yt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class q_ extends Sd{constructor(e,a,s){super(e,a,s),this.name="AuthApiError",this.status=a,this.code=s}}function z_(n){return yt(n)&&n.name==="AuthApiError"}class rc extends Sd{constructor(e,a){super(e),this.name="AuthUnknownError",this.originalError=a}}class Mo extends Sd{constructor(e,a,s,l){super(e,s,l),this.name=a,this.status=s}}class Ns extends Mo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function F_(n){return yt(n)&&n.name==="AuthSessionMissingError"}class iu extends Mo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rh extends Mo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Dh extends Mo{constructor(e,a=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function H_(n){return yt(n)&&n.name==="AuthImplicitGrantRedirectError"}class r2 extends Mo{constructor(e,a=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $_ extends Mo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class T0 extends Mo{constructor(e,a){super(e,"AuthRetryableFetchError",a,void 0)}}function Hm(n){return yt(n)&&n.name==="AuthRetryableFetchError"}class s2 extends Mo{constructor(e,a,s){super(e,"AuthWeakPasswordError",a,"weak_password"),this.reasons=s}}class O0 extends Mo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),i2=` 	
\r=`.split(""),V_=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<i2.length;e+=1)n[i2[e].charCodeAt(0)]=-2;for(let e=0;e<ef.length;e+=1)n[ef[e].charCodeAt(0)]=e;return n})();function o2(n,e,a){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;a(ef[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;a(ef[s]),e.queuedBits-=6}}function _x(n,e,a){const s=V_[n];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)a(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function l2(n){const e=[],a=d=>{e.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=d=>{K_(d,s,a)};for(let d=0;d<n.length;d+=1)_x(n.charCodeAt(d),l,c);return e.join("")}function G_(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Y_(n,e){for(let a=0;a<n.length;a+=1){let s=n.charCodeAt(a);if(s>55295&&s<=56319){const l=(s-55296)*1024&65535;s=(n.charCodeAt(a+1)-56320&65535|l)+65536,a+=1}G_(s,e)}}function K_(n,e,a){if(e.utf8seq===0){if(n<=127){a(n);return}for(let s=1;s<6;s+=1)if((n>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&a(e.codepoint)}}function wu(n){const e=[],a={queue:0,queuedBits:0},s=l=>{e.push(l)};for(let l=0;l<n.length;l+=1)_x(n.charCodeAt(l),a,s);return new Uint8Array(e)}function J_(n){const e=[];return Y_(n,a=>e.push(a)),new Uint8Array(e)}function ic(n){const e=[],a={queue:0,queuedBits:0},s=l=>{e.push(l)};return n.forEach(l=>o2(l,a,s)),o2(null,a,s),e.join("")}function W_(n){return Math.round(Date.now()/1e3)+n}function X_(){return Symbol("auth-callback")}const yr=()=>typeof window<"u"&&typeof document<"u",Ql={tested:!1,writable:!1},Nx=()=>{if(!yr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ql.tested)return Ql.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ql.tested=!0,Ql.writable=!0}catch{Ql.tested=!0,Ql.writable=!1}return Ql.writable};function Z_(n){const e={},a=new URL(n);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((l,c)=>{e[c]=l})}catch{}return a.searchParams.forEach((s,l)=>{e[l]=s}),e}const jx=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Q_=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",gu=async(n,e,a)=>{await n.setItem(e,JSON.stringify(a))},ec=async(n,e)=>{const a=await n.getItem(e);if(!a)return null;try{return JSON.parse(a)}catch{return a}},vr=async(n,e)=>{await n.removeItem(e)};class mf{constructor(){this.promise=new mf.promiseConstructor((e,a)=>{this.resolve=e,this.reject=a})}}mf.promiseConstructor=Promise;function $m(n){const e=n.split(".");if(e.length!==3)throw new O0("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!U_.test(e[s]))throw new O0("JWT not in base64url format");return{header:JSON.parse(l2(e[0])),payload:JSON.parse(l2(e[1])),signature:wu(e[2]),raw:{header:e[0],payload:e[1]}}}async function e4(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function t4(n,e){return new Promise((s,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await n(c);if(!e(c,null,d)){s(d);return}}catch(d){if(!e(c,d)){l(d);return}}})()})}function a4(n){return("0"+n.toString(16)).substr(-2)}function n4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=a.length;let l="";for(let c=0;c<56;c++)l+=a.charAt(Math.floor(Math.random()*s));return l}return crypto.getRandomValues(e),Array.from(e,a4).join("")}async function r4(n){const a=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",a),l=new Uint8Array(s);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function s4(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const a=await r4(n);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ou(n,e,a=!1){const s=n4();let l=s;a&&(l+="/PASSWORD_RECOVERY"),await gu(n,`${e}-code-verifier`,l);const c=await s4(s);return[c,s===c?"plain":"s256"]}const i4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function o4(n){const e=n.headers.get(L0);if(!e||!e.match(i4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function l4(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function c4(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const u4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lu(n){if(!u4.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vm(){const n={};return new Proxy(n,{get:(e,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function d4(n,e){return new Proxy(n,{get:(a,s,l)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const c=s.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,s,l)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(a,s,l)}})}function c2(n){return JSON.parse(JSON.stringify(n))}const tc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),h4=[502,503,504];async function u2(n){var e;if(!Q_(n))throw new T0(tc(n),0);if(h4.includes(n.status))throw new T0(tc(n),n.status);let a;try{a=await n.json()}catch(c){throw new rc(tc(c),c)}let s;const l=o4(n);if(l&&l.getTime()>=wx["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?s=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(s=a.error_code),s){if(s==="weak_password")throw new s2(tc(a),n.status,((e=a.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ns}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new s2(tc(a),n.status,a.weak_password.reasons);throw new q_(tc(a),n.status||500,s)}const f4=(n,e,a,s)=>{const l={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),l.body=JSON.stringify(s),Object.assign(Object.assign({},l),a))};async function Ut(n,e,a,s){var l;const c=Object.assign({},s==null?void 0:s.headers);c[L0]||(c[L0]=wx["2024-01-01"].name),s!=null&&s.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const d=(l=s==null?void 0:s.query)!==null&&l!==void 0?l:{};s!=null&&s.redirectTo&&(d.redirect_to=s.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",f=await m4(n,e,a+h,{headers:c,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(f):{data:Object.assign({},f),error:null}}async function m4(n,e,a,s,l,c){const d=f4(e,s,l,c);let h;try{h=await n(a,Object.assign({},d))}catch(f){throw console.error(f),new T0(tc(f),0)}if(h.ok||await u2(h),s!=null&&s.noResolveJson)return h;try{return await h.json()}catch(f){await u2(f)}}function yi(n){var e;let a=null;b4(n)&&(a=Object.assign({},n),n.expires_at||(a.expires_at=W_(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:a,user:s},error:null}}function d2(n){const e=yi(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function vl(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function p4(n){return{data:n,error:null}}function g4(n){const{action_link:e,email_otp:a,hashed_token:s,redirect_to:l,verification_type:c}=n,d=hf(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:a,hashed_token:s,redirect_to:l,verification_type:c},f=Object.assign({},d);return{data:{properties:h,user:f},error:null}}function h2(n){return n}function b4(n){return n.access_token&&n.refresh_token&&n.expires_in}const Gm=["global","local","others"];class x4{constructor({url:e="",headers:a={},fetch:s}){this.url=e,this.headers=a,this.fetch=jx(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,a=Gm[0]){if(Gm.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gm.join(", ")}`);try{return await Ut(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,a={}){try{return await Ut(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:vl})}catch(s){if(yt(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:a}=e,s=hf(e,["options"]),l=Object.assign(Object.assign({},s),a);return"newEmail"in s&&(l.new_email=s==null?void 0:s.newEmail,delete l.newEmail),await Ut(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:g4,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(yt(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(e){try{return await Ut(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vl})}catch(a){if(yt(a))return{data:{user:null},error:a};throw a}}async listUsers(e){var a,s,l,c,d,h,f;try{const p={nextPage:null,lastPage:0,total:0},v=await Ut(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=e==null?void 0:e.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(c=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:h2});if(v.error)throw v.error;const j=await v.json(),_=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,y=(f=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(C=>{const k=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(C.split(";")[1].split("=")[1]);p[`${O}Page`]=k}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},j),p),error:null}}catch(p){if(yt(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){lu(e);try{return await Ut(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vl})}catch(a){if(yt(a))return{data:{user:null},error:a};throw a}}async updateUserById(e,a){lu(e);try{return await Ut(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:a,headers:this.headers,xform:vl})}catch(s){if(yt(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,a=!1){lu(e);try{return await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:a},xform:vl})}catch(s){if(yt(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){lu(e.userId);try{const{data:a,error:s}=await Ut(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:a,error:s}}catch(a){if(yt(a))return{data:null,error:a};throw a}}async _deleteFactor(e){lu(e.userId),lu(e.id);try{return{data:await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(a){if(yt(a))return{data:null,error:a};throw a}}async _listOAuthClients(e){var a,s,l,c,d,h,f;try{const p={nextPage:null,lastPage:0,total:0},v=await Ut(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=e==null?void 0:e.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(c=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:h2});if(v.error)throw v.error;const j=await v.json(),_=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,y=(f=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(C=>{const k=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(C.split(";")[1].split("=")[1]);p[`${O}Page`]=k}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},j),p),error:null}}catch(p){if(yt(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Ut(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(yt(a))return{data:null,error:a};throw a}}async _getOAuthClient(e){try{return await Ut(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(yt(a))return{data:null,error:a};throw a}}async _updateOAuthClient(e,a){try{return await Ut(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(yt(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await Ut(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(yt(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(e){try{return await Ut(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(yt(a))return{data:null,error:a};throw a}}}function f2(n={}){return{getItem:e=>n[e]||null,setItem:(e,a)=>{n[e]=a},removeItem:e=>{delete n[e]}}}const cu={debug:!!(globalThis&&Nx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class v4 extends Sx{}async function y4(n,e,a){cu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),cu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async l=>{if(l){cu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await a()}finally{cu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(e===0)throw cu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new v4(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(cu.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function w4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ax(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function _4(n){return parseInt(n,16)}function N4(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function j4(n){var e;const{chainId:a,domain:s,expirationTime:l,issuedAt:c=new Date,nonce:d,notBefore:h,requestId:f,resources:p,scheme:v,uri:j,version:_}=n;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!j)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const y=Ax(n.address),C=v?`${v}://${s}`:s,k=n.statement?`${n.statement}
`:"",O=`${C} wants you to sign in with your Ethereum account:
${y}

${k}`;let L=`URI: ${j}
Version: ${_}
Chain ID: ${a}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(l&&(L+=`
Expiration Time: ${l.toISOString()}`),h&&(L+=`
Not Before: ${h.toISOString()}`),f&&(L+=`
Request ID: ${f}`),p){let T=`
Resources:`;for(const R of p){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);T+=`
- ${R}`}L+=T}return`${O}
${L}`}class Fn extends Error{constructor({message:e,code:a,cause:s,name:l}){var c;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(c=l??(s instanceof Error?s.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=a}}class tf extends Fn{constructor(e,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:e}),this.name="WebAuthnUnknownError",this.originalError=a}}function S4({error:n,options:e}){var a,s,l;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Fn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((a=c.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new Fn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((s=c.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Fn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Fn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Fn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Fn({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Fn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Fn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const d=window.location.hostname;if(Cx(d)){if(c.rp.id!==d)return new Fn({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Fn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Fn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Fn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Fn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function A4({error:n,options:e}){const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Fn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Fn({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const s=window.location.hostname;if(Cx(s)){if(a.rpId!==s)return new Fn({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Fn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Fn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Fn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class C4{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const E4=new C4;function k4(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:a,excludeCredentials:s}=n,l=hf(n,["challenge","user","excludeCredentials"]),c=wu(e).buffer,d=Object.assign(Object.assign({},a),{id:wu(a.id).buffer}),h=Object.assign(Object.assign({},l),{challenge:c,user:d});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const p=s[f];h.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:wu(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function L4(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:a}=n,s=hf(n,["challenge","allowCredentials"]),l=wu(e).buffer,c=Object.assign(Object.assign({},s),{challenge:l});if(a&&a.length>0){c.allowCredentials=new Array(a.length);for(let d=0;d<a.length;d++){const h=a[d];c.allowCredentials[d]=Object.assign(Object.assign({},h),{id:wu(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function T4(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const a=n;return{id:n.id,rawId:n.id,response:{attestationObject:ic(new Uint8Array(n.response.attestationObject)),clientDataJSON:ic(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=a.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function O4(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const a=n,s=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ic(new Uint8Array(l.authenticatorData)),clientDataJSON:ic(new Uint8Array(l.clientDataJSON)),signature:ic(new Uint8Array(l.signature)),userHandle:l.userHandle?ic(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=a.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Cx(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function m2(){var n,e;return!!(yr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function R4(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new tf("Browser returned unexpected credential type",e)}:{data:null,error:new tf("Empty credential response",e)}}catch(e){return{data:null,error:S4({error:e,options:n})}}}async function D4(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new tf("Browser returned unexpected credential type",e)}:{data:null,error:new tf("Empty credential response",e)}}catch(e){return{data:null,error:A4({error:e,options:n})}}}const M4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},P4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function af(...n){const e=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),a=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),s={};for(const l of n)if(l)for(const c in l){const d=l[c];if(d!==void 0)if(Array.isArray(d))s[c]=d;else if(a(d))s[c]=d;else if(e(d)){const h=s[c];e(h)?s[c]=af(h,d):s[c]=af(d)}else s[c]=d}return s}function I4(n,e){return af(M4,n,e||{})}function U4(n,e){return af(P4,n,e||{})}class B4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:a,friendlyName:s,signal:l},c){try{const{data:d,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:a});if(!d)return{data:null,error:h};const f=l??E4.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=I4(d.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:v,error:j}=await R4({publicKey:p,signal:f});return v?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:j}}case"request":{const p=U4(d.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:v,error:j}=await D4(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:f}));return v?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:j}}}}catch(d){return yt(d)?{data:null,error:d}:{data:null,error:new rc("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:a,webauthn:s}){return this.client.mfa.verify({factorId:a,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!a)return{data:null,error:new Sd("rpId is required for WebAuthn authentication")};try{if(!m2())return{data:null,error:new rc("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this.challenge({factorId:e,webauthn:{rpId:a,rpOrigins:s},signal:l},{request:c});if(!d)return{data:null,error:h};const{webauthn:f}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:f.type,rpId:a,rpOrigins:s,credential_response:f.credential_response}})}catch(d){return yt(d)?{data:null,error:d}:{data:null,error:new rc("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!a)return{data:null,error:new Sd("rpId is required for WebAuthn registration")};try{if(!m2())return{data:null,error:new rc("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(v=>{var j;return(j=v.data)===null||j===void 0?void 0:j.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:h};const{data:f,error:p}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:a,rpOrigins:s},signal:l},{create:c});return f?this._verify({factorId:d.id,challengeId:f.challengeId,webauthn:{rpId:a,rpOrigins:s,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(d){return yt(d)?{data:null,error:d}:{data:null,error:new rc("Unexpected error in register",d)}}}}w4();const q4={url:M_,storageKey:P_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:I_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function p2(n,e,a){return await a()}const uu={};class Ad{get jwks(){var e,a;return(a=(e=uu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(e){uu[this.storageKey]=Object.assign(Object.assign({},uu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,a;return(a=(e=uu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){uu[this.storageKey]=Object.assign(Object.assign({},uu[this.storageKey]),{cachedAt:e})}constructor(e){var a,s,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},q4),e);if(this.storageKey=c.storageKey,this.instanceID=(a=Ad.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Ad.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&yr()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new x4({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=jx(c.fetch),this.lock=c.lock||p2,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&yr()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=y4:this.lock=p2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new B4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Nx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=f2(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=f2(this.memoryStorage)),yr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${yx}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let a={},s="none";if(yr()&&(a=Z_(window.location.href),this._isImplicitGrantCallback(a)?s="implicit":await this._isPKCECallback(a)&&(s="pkce")),yr()&&this.detectSessionInUrl&&s!=="none"){const{data:l,error:c}=await this._getSessionFromURL(a,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),H_(c)){const f=(e=c.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:d,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return yt(a)?this._returnResult({error:a}):this._returnResult({error:new rc("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var a,s,l;try{const c=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(l=e==null?void 0:e.options)===null||l===void 0?void 0:l.captchaToken}},xform:yi}),{data:d,error:h}=c;if(h||!d)return this._returnResult({data:{user:null,session:null},error:h});const f=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(c){if(yt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(e){var a,s,l;try{let c;if("email"in e){const{email:v,password:j,options:_}=e;let y=null,C=null;this.flowType==="pkce"&&([y,C]=await ou(this.storage,this.storageKey)),c=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:v,password:j,data:(a=_==null?void 0:_.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:y,code_challenge_method:C},xform:yi})}else if("phone"in e){const{phone:v,password:j,options:_}=e;c=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:j,data:(s=_==null?void 0:_.data)!==null&&s!==void 0?s:{},channel:(l=_==null?void 0:_.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:yi})}else throw new Rh("You must provide either an email or phone number and a password");const{data:d,error:h}=c;if(h||!d)return await vr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(c){if(await vr(this.storage,`${this.storageKey}-code-verifier`),yt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(e){try{let a;if("email"in e){const{email:c,password:d,options:h}=e;a=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:d2})}else if("phone"in e){const{phone:c,password:d,options:h}=e;a=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:d2})}else throw new Rh("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s||!s.session||!s.user){const c=new iu;return this._returnResult({data:{user:null,session:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:l})}catch(a){if(yt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(e){var a,s,l,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:a}=e;switch(a){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(e){var a,s,l,c,d,h,f,p,v,j,_;let y,C;if("message"in e)y=e.message,C=e.signature;else{const{chain:k,wallet:O,statement:L,options:T}=e;let R;if(yr())if(typeof O=="object")R=O;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")R=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=O}const F=new URL((a=T==null?void 0:T.url)!==null&&a!==void 0?a:window.location.href),ne=await R.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const de=Ax(ne[0]);let W=(s=T==null?void 0:T.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!W){const K=await R.request({method:"eth_chainId"});W=_4(K)}const se={domain:F.host,address:de,statement:L,uri:F.href,version:"1",chainId:W,nonce:(l=T==null?void 0:T.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(c=T==null?void 0:T.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(h=T==null?void 0:T.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=T==null?void 0:T.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=T==null?void 0:T.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=T==null?void 0:T.signInWithEthereum)===null||v===void 0?void 0:v.resources};y=j4(se),C=await R.request({method:"personal_sign",params:[N4(y),de]})}try{const{data:k,error:O}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:C},!((j=e.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:yi});if(O)throw O;if(!k||!k.session||!k.user){const L=new iu;return this._returnResult({data:{user:null,session:null},error:L})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:O})}catch(k){if(yt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var a,s,l,c,d,h,f,p,v,j,_,y;let C,k;if("message"in e)C=e.message,k=e.signature;else{const{chain:O,wallet:L,statement:T,options:R}=e;let F;if(yr())if(typeof L=="object")F=L;else{const de=window;if("solana"in de&&typeof de.solana=="object"&&("signIn"in de.solana&&typeof de.solana.signIn=="function"||"signMessage"in de.solana&&typeof de.solana.signMessage=="function"))F=de.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=L}const ne=new URL((a=R==null?void 0:R.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in F&&F.signIn){const de=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),T?{statement:T}:null));let W;if(Array.isArray(de)&&de[0]&&typeof de[0]=="object")W=de[0];else if(de&&typeof de=="object"&&"signedMessage"in de&&"signature"in de)W=de;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)C=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),k=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${ne.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(l=(s=R==null?void 0:R.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=R==null?void 0:R.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((d=R==null?void 0:R.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((h=R==null?void 0:R.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((p=R==null?void 0:R.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((j=(v=R==null?void 0:R.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||j===void 0)&&j.length?["Resources",...R.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const de=await F.signMessage(new TextEncoder().encode(C),"utf8");if(!de||!(de instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=de}}try{const{data:O,error:L}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:ic(k)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:yi});if(L)throw L;if(!O||!O.session||!O.user){const T=new iu;return this._returnResult({data:{user:null,session:null},error:T})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:L})}catch(O){if(yt(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(e){const a=await ec(this.storage,`${this.storageKey}-code-verifier`),[s,l]=(a??"").split("/");try{if(!s&&this.flowType==="pkce")throw new $_;const{data:c,error:d}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:yi});if(await vr(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!c||!c.session||!c.user){const h=new iu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return c.session&&(await this._saveSession(c.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",c.session)},0)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:d})}catch(c){if(await vr(this.storage,`${this.storageKey}-code-verifier`),yt(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(e){try{const{options:a,provider:s,token:l,access_token:c,nonce:d}=e,h=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:l,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yi}),{data:f,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const v=new iu;return this._returnResult({data:{user:null,session:null},error:v})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(a){if(yt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(e){var a,s,l,c,d;try{if("email"in e){const{email:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await ou(this.storage,this.storageKey));const{error:j}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:j})}if("phone"in e){const{phone:h,options:f}=e,{data:p,error:v}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=f==null?void 0:f.data)!==null&&l!==void 0?l:{},create_user:(c=f==null?void 0:f.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(d=f==null?void 0:f.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v})}throw new Rh("You must provide either an email or phone number.")}catch(h){if(await vr(this.storage,`${this.storageKey}-code-verifier`),yt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var a,s;try{let l,c;"options"in e&&(l=(a=e.options)===null||a===void 0?void 0:a.redirectTo,c=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:h}=await Ut(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:yi});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const f=d.session,p=d.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(yt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(e){var a,s,l,c,d;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await ou(this.storage,this.storageKey));const p=await Ut(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(a=e.options)===null||a===void 0?void 0:a.redirectTo)!==null&&s!==void 0?s:void 0}),!((l=e==null?void 0:e.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:p4});return!((c=p.data)===null||c===void 0)&&c.url&&yr()&&!(!((d=e.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(h){if(await vr(this.storage,`${this.storageKey}-code-verifier`),yt(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:a},error:s}=e;if(s)throw s;if(!a)throw new Ns;const{error:l}=await Ut(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(e){if(yt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const a=`${this.url}/resend`;if("email"in e){const{email:s,type:l,options:c}=e,{error:d}=await Ut(this.fetch,"POST",a,{headers:this.headers,body:{email:s,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in e){const{phone:s,type:l,options:c}=e,{data:d,error:h}=await Ut(this.fetch,"POST",a,{headers:this.headers,body:{phone:s,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new Rh("You must provide either an email or phone number and a type")}catch(a){if(yt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(e,a){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await s,await a()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=a();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await e(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const a=await ec(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?e=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Fm:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const d=await ec(this.userStorage,this.storageKey+"-user");d!=null&&d.user?e.user=d.user:e.user=Vm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};e.user=d4(e.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(e){try{return e?await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vl}):await this._useSession(async a=>{var s,l,c;const{data:d,error:h}=a;if(h)throw h;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ns}:await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:vl})})}catch(a){if(yt(a))return F_(a)&&(await this._removeSession(),await vr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(e,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,a))}async _updateUser(e,a={}){try{return await this._useSession(async s=>{const{data:l,error:c}=s;if(c)throw c;if(!l.session)throw new Ns;const d=l.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await ou(this.storage,this.storageKey));const{data:p,error:v}=await Ut(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:d.access_token,xform:vl});if(v)throw v;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(s){if(await vr(this.storage,`${this.storageKey}-code-verifier`),yt(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ns;const a=Date.now()/1e3;let s=a,l=!0,c=null;const{payload:d}=$m(e.access_token);if(d.exp&&(s=d.exp,l=s<=a),l){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-a,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(a){if(yt(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async a=>{var s;if(!e){const{data:d,error:h}=a;if(h)throw h;e=(s=d.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Ns;const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(yt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(e,a){try{if(!yr())throw new Dh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Dh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new r2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dh("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new r2("No code detected.");const{data:T,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:l,access_token:c,refresh_token:d,expires_in:h,expires_at:f,token_type:p}=e;if(!c||!h||!d||!p)throw new Dh("No session defined in URL");const v=Math.round(Date.now()/1e3),j=parseInt(h);let _=v+j;f&&(_=parseInt(f));const y=_-v;y*1e3<=pu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${j}s`);const C=_-j;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,_,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,_,v);const{data:k,error:O}=await this._getUser(c);if(O)throw O;const L={provider_token:s,provider_refresh_token:l,access_token:c,expires_in:j,expires_at:_,refresh_token:d,token_type:p,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:e.type},error:null})}catch(s){if(yt(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const a=await ec(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&a)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async a=>{var s;const{data:l,error:c}=a;if(c)return this._returnResult({error:c});const d=(s=l.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:h}=await this.admin.signOut(d,e);if(h&&!(z_(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await vr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const a=X_(),s={id:a,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async a=>{var s,l;try{const{data:{session:c},error:d}=a;if(d)throw d;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,a={}){let s=null,l=null;this.flowType==="pkce"&&([s,l]=await ou(this.storage,this.storageKey,!0));try{return await Ut(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:l,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(c){if(await vr(this.storage,`${this.storageKey}-code-verifier`),yt(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var e;try{const{data:a,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=a.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(a){if(yt(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var a;try{const{data:s,error:l}=await this._useSession(async c=>{var d,h,f,p,v;const{data:j,error:_}=c;if(_)throw _;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ut(this.fetch,"GET",y,{headers:this.headers,jwt:(v=(p=j.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return yr()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(yt(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async a=>{var s;try{const{error:l,data:{session:c}}=a;if(l)throw l;const{options:d,provider:h,token:f,access_token:p,nonce:v}=e,j=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=c==null?void 0:c.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:f,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:yi}),{data:_,error:y}=j;return y?this._returnResult({data:{user:null,session:null},error:y}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new iu}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:y}))}catch(l){if(await vr(this.storage,`${this.storageKey}-code-verifier`),yt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(e){try{return await this._useSession(async a=>{var s,l;const{data:c,error:d}=a;if(d)throw d;return await Ut(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0})})}catch(a){if(yt(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(e){const a=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{const s=Date.now();return await t4(async l=>(l>0&&await e4(200*Math.pow(2,l-1)),this._debug(a,"refreshing attempt",l),await Ut(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yi})),(l,c)=>{const d=200*Math.pow(2,l);return c&&Hm(c)&&Date.now()+d-s<pu})}catch(s){if(this._debug(a,"error",s),yt(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(a,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,a){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",a,"url",s),yr()&&!a.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,a;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await ec(this.storage,this.storageKey);if(l&&this.userStorage){let d=await ec(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await gu(this.userStorage,this.storageKey+"-user",d)),l.user=(e=d==null?void 0:d.user)!==null&&e!==void 0?e:Vm()}else if(l&&!l.user&&!l.user){const d=await ec(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await vr(this.storage,this.storageKey+"-user"),await gu(this.storage,this.storageKey,l)):l.user=Vm()}if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const c=((a=l.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Fm;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${Fm}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Hm(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(l.access_token);!h&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(s,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var a,s;if(!e)throw new Ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new mf;const{data:c,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!c.session)throw new Ns;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(l,"error",c),yt(c)){const d={data:null,error:c};return Hm(c)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,a,s=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",a,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:a});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,a)}catch(f){c.push(f)}});if(await Promise.all(d),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await vr(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},e),s=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&a.user&&await gu(this.userStorage,this.storageKey+"-user",{user:a.user});const l=Object.assign({},a);delete l.user;const c=c2(l);await gu(this.storage,this.storageKey,c)}else{const l=c2(a);await gu(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await vr(this.storage,this.storageKey),await vr(this.storage,this.storageKey+"-code-verifier"),await vr(this.storage,this.storageKey+"-user"),this.userStorage&&await vr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&yr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async a=>{const{data:{session:s}}=a;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((s.expires_at*1e3-e)/pu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${pu}ms, refresh threshold is ${k0} ticks`),l<=k0&&await this._callRefreshToken(s.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Sx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const a=`#_onVisibilityChanged(${e})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,a,s){const l=[`provider=${encodeURIComponent(a)}`];if(s!=null&&s.redirectTo&&l.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&l.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,d]=await ou(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(h.toString())}if(s!=null&&s.queryParams){const c=new URLSearchParams(s.queryParams);l.push(c.toString())}return s!=null&&s.skipBrowserRedirect&&l.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async a=>{var s;const{data:l,error:c}=a;return c?this._returnResult({data:null,error:c}):await Ut(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(yt(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(e){try{return await this._useSession(async a=>{var s,l;const{data:c,error:d}=a;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await Ut(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=c==null?void 0:c.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&f.type==="totp"&&(!((l=f==null?void 0:f.totp)===null||l===void 0)&&l.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(a){if(yt(a))return this._returnResult({data:null,error:a});throw a}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var s;const{data:l,error:c}=a;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?T4(e.webauthn.credential_response):O4(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await Ut(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(a){if(yt(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var s;const{data:l,error:c}=a;if(c)return this._returnResult({data:null,error:c});const d=await Ut(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});if(d.error)return d;const{data:h}=d;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:k4(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:L4(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(yt(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(e){const{data:a,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:a.id,code:e.code})}async _listFactors(){var e;const{data:{user:a},error:s}=await this.getUser();if(s)return{data:null,error:s};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=a==null?void 0:a.factors)!==null&&e!==void 0?e:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var e,a;const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=$m(s.access_token);let d=null;c.aal&&(d=c.aal);let h=d;((a=(e=s.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(h="aal2");const p=c.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async a=>{const{data:{session:s},error:l}=a;return l?this._returnResult({data:null,error:l}):s?await Ut(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ns})})}catch(a){if(yt(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(e,a){try{return await this._useSession(async s=>{const{data:{session:l},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new Ns});const d=await Ut(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&yr()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(s){if(yt(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,a){try{return await this._useSession(async s=>{const{data:{session:l},error:c}=s;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new Ns});const d=await Ut(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&yr()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(s){if(yt(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:a},error:s}=e;return s?this._returnResult({data:null,error:s}):a?await Ut(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ns})})}catch(e){if(yt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async a=>{const{data:{session:s},error:l}=a;return l?this._returnResult({data:null,error:l}):s?(await Ut(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ns})})}catch(a){if(yt(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(e,a={keys:[]}){let s=a.keys.find(h=>h.kid===e);if(s)return s;const l=Date.now();if(s=this.jwks.keys.find(h=>h.kid===e),s&&this.jwks_cached_at+B_>l)return s;const{data:c,error:d}=await Ut(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,s=c.keys.find(h=>h.kid===e),!s)?null:s}async getClaims(e,a={}){try{let s=e;if(!s){const{data:y,error:C}=await this.getSession();if(C||!y.session)return this._returnResult({data:null,error:C});s=y.session.access_token}const{header:l,payload:c,signature:d,raw:{header:h,payload:f}}=$m(s);a!=null&&a.allowExpired||l4(c.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!p){const{error:y}=await this.getUser(s);if(y)throw y;return{data:{claims:c,header:l,signature:d},error:null}}const v=c4(l.alg),j=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,j,d,J_(`${h}.${f}`)))throw new O0("Invalid JWT signature");return{data:{claims:c,header:l,signature:d},error:null}}catch(s){if(yt(s))return this._returnResult({data:null,error:s});throw s}}}Ad.nextInstanceID={};const z4=Ad,F4="2.91.0";let gd="";typeof Deno<"u"?gd="deno":typeof document<"u"?gd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gd="react-native":gd="node";const H4={"X-Client-Info":`supabase-js-${gd}/${F4}`},$4={headers:H4},V4={schema:"public"},G4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Y4={};function Cd(n){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(n)}function K4(n,e){if(Cd(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var s=a.call(n,e);if(Cd(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function J4(n){var e=K4(n,"string");return Cd(e)=="symbol"?e:e+""}function W4(n,e,a){return(e=J4(e))in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function g2(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),a.push.apply(a,s)}return a}function An(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(a),!0).forEach(function(s){W4(n,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):g2(Object(a)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(a,s))})}return n}const X4=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Z4=()=>Headers,Q4=(n,e,a)=>{const s=X4(a),l=Z4();return async(c,d)=>{var h;const f=(h=await e())!==null&&h!==void 0?h:n;let p=new l(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),s(c,An(An({},d),{},{headers:p}))}};function eN(n){return n.endsWith("/")?n:n+"/"}function tN(n,e){var a,s;const{db:l,auth:c,realtime:d,global:h}=n,{db:f,auth:p,realtime:v,global:j}=e,_={db:An(An({},f),l),auth:An(An({},p),c),realtime:An(An({},v),d),storage:{},global:An(An(An({},j),h),{},{headers:An(An({},(a=j==null?void 0:j.headers)!==null&&a!==void 0?a:{}),(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return n.accessToken?_.accessToken=n.accessToken:delete _.accessToken,_}function aN(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eN(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var nN=class extends z4{constructor(n){super(n)}},rN=class{constructor(n,e,a){var s,l;this.supabaseUrl=n,this.supabaseKey=e;const c=aN(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:V4,realtime:Y4,auth:An(An({},G4),{},{storageKey:d}),global:$4},f=tN(a??{},h);if(this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(l=f.global.headers)!==null&&l!==void 0?l:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(v,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=f.auth)!==null&&p!==void 0?p:{},this.headers,f.global.fetch)}this.fetch=Q4(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(An({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Iw(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new D_(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Ow(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,a)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,a;if(n.accessToken)return await n.accessToken();const{data:s}=await n.auth.getSession();return(e=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:a,storage:s,userStorage:l,storageKey:c,flowType:d,lock:h,debug:f,throwOnError:p},v,j){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nN({url:this.authUrl.href,headers:An(An({},_),v),storageKey:c,autoRefreshToken:n,persistSession:e,detectSessionInUrl:a,storage:s,userStorage:l,flowType:d,lock:h,debug:f,throwOnError:p,fetch:j,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new e_(this.realtimeUrl.href,An(An({},n),{},{params:An(An({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(n,e,a){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const sN=(n,e,a)=>new rN(n,e,a);function iN(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const e=n.version;if(e==null)return!1;const a=e.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}iN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var nf={};const R0=nf.REACT_APP_SUPABASE_URL||nf.SUPABASE_URL||"https://qstlzfitgxftvghnrjci.supabase.co",oN=nf.REACT_APP_SUPABASE_ANON_KEY||nf.SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFzdGx6Zml0Z3hmdHZnaG5yamNpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5MzQ3NzAsImV4cCI6MjA4NDUxMDc3MH0._pWatecRvW_O7dJiDmMivnSLCCQRqEUYJ0tRpkcUOhY",Ge=sN(R0,oN),Ym=()=>R0!=="https://placeholder-url.supabase.co"&&R0!=="";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,s)=>s?s.toUpperCase():a.toLowerCase()),b2=n=>{const e=cN(n);return e.charAt(0).toUpperCase()+e.slice(1)},Ex=(...n)=>n.filter((e,a,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===a).join(" ").trim(),uN=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=ae.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...h},f)=>ae.createElement("svg",{ref:f,...dN,width:e,height:e,stroke:n,strokeWidth:s?Number(a)*24/Number(e):a,className:Ex("lucide",l),...!c&&!uN(h)&&{"aria-hidden":"true"},...h},[...d.map(([p,v])=>ae.createElement(p,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=(n,e)=>{const a=ae.forwardRef(({className:s,...l},c)=>ae.createElement(hN,{ref:c,iconNode:e,className:Ex(`lucide-${lN(b2(n))}`,`lucide-${n}`,s),...l}));return a.displayName=b2(n),a};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],mN=Ht("activity",fN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],Km=Ht("arrow-down-wide-narrow",pN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ip=Ht("arrow-left",gN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],Jm=Ht("arrow-up-narrow-wide",bN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Ro=Ht("building-2",xN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],yN=Ht("cake",vN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rf=Ht("calendar",wN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],pf=Ht("camera",_N);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],op=Ht("check",NN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ao=Ht("chevron-down",jN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kx=Ht("chevron-left",SN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lp=Ht("chevron-right",AN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Co=Ht("chevron-up",CN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],cp=Ht("circle-alert",EN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],D0=Ht("circle-check-big",kN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],x2=Ht("circle-question-mark",LN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],M0=Ht("clock",TN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],RN=Ht("copy",ON);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],up=Ht("eye",DN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Lx=Ht("file-plus",MN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lc=Ht("file-text",PN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],v2=Ht("heart",IN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Wm=Ht("history",UN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],qN=Ht("house",BN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],FN=Ht("info",zN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Tx=Ht("link",HN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],VN=Ht("lock",$N);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],YN=Ht("log-in",GN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],y2=Ht("log-out",KN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ed=Ht("mail",JN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Gh=Ht("message-circle",WN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],w2=Ht("message-square",XN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],QN=Ht("phone",ZN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cr=Ht("plus",e3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],a3=Ht("printer",t3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cc=Ht("save",n3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Md=Ht("search",r3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],i3=Ht("send",s3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],l3=Ht("shield-check",o3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],u3=Ht("shield",c3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ox=Ht("square-pen",d3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Cn=Ht("trash-2",h3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Au=Ht("triangle-alert",f3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rx=Ht("user-check",m3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],g3=Ht("user-plus",p3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ni=Ht("user",b3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dp=Ht("users",x3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wi=Ht("x",v3),_2=({isDemo:n})=>{const[e,a]=ae.useState([]),[s,l]=ae.useState([]),[c,d]=ae.useState([]),[h,f]=ae.useState({}),[p,v]=ae.useState(!0),[j,_]=ae.useState(null),[y,C]=ae.useState(""),[k,O]=ae.useState(1),L=10,[T,R]=ae.useState(!1),[F,ne]=ae.useState(!1),de=localStorage.getItem("admin_viewing_institution_id"),[W,se]=ae.useState(null);ae.useEffect(()=>{O(1)},[y,W]),ae.useEffect(()=>{(async()=>{if(n)R(!0);else{const{data:{user:H}}=await Ge.auth.getUser();if(H){const{data:S}=await Ge.from("profiles").select("role").eq("id",H.id).single();S&&(S.role==="admin"||S.role==="master")&&ne(!0),S&&S.role==="master"&&R(!0)}}})(),K()},[n]);const K=async()=>{if(v(!0),n){setTimeout(()=>{const xe=[{id:"1",full_name:"Ana Clara Souza",sex:"F",birth_date:"2015-05-10",entry_date:"2023-01-15",notes:"Alergia a amendoim. Requer acompanhamento nutricional semanal. Irm de Pedro (no acolhido).",institution_id:"demo",autos_number:"0001234-56.2023.8.16.0000",admission_reason_types:["Negligncia","Vulnerabilidade Social"],created_at:new Date().toISOString(),child_photos:[{url:"https://images.unsplash.com/photo-1503454537195-1dcabb73ffb9?auto=format&fit=crop&w=150&q=80",created_at:new Date().toISOString()}],last_pia_update:"2023-01-15"},{id:"2",full_name:"Marcos Vincius Pereira",sex:"M",birth_date:"2010-11-20",entry_date:"2023-08-10",notes:"Apresenta excelente desempenho escolar. Gosta de futebol.",institution_id:"demo",admission_reason_types:["Abandono","Situao de Rua"],created_at:new Date().toISOString()},{id:"3",full_name:"Jlia Mendes da Silva",sex:"F",birth_date:"2019-03-05",entry_date:"2023-11-22",notes:"Em processo de adaptao. Chora  noite.",institution_id:"demo",admission_reason_types:["Violncia Domstica"],created_at:new Date().toISOString()},{id:"4",full_name:"Gabriel Santos Oliveira",sex:"M",birth_date:"2012-07-15",entry_date:"2022-05-10",notes:"Possvel reintegrao familiar em breve. Av materna manifestou interesse.",institution_id:"demo",admission_reason_types:["Orfandade"],created_at:new Date().toISOString()}];a(xe),we(xe),P(xe),v(!1)},600);return}try{let xe=de;if(!xe){const{data:{user:ie}}=await Ge.auth.getUser();if(ie){const{data:he}=await Ge.from("profiles").select("institution_id").eq("id",ie.id).single();xe=he==null?void 0:he.institution_id}}if(!xe){a([]),v(!1);return}const{data:H,error:S}=await Ge.from("children").select("*, child_photos(url, created_at)").eq("institution_id",xe).order("entry_date",{ascending:!1}),I=new Date().toISOString().split("T")[0],{data:q}=await Ge.from("child_tasks").select("*").eq("institution_id",xe).eq("date",I);if(q){const ie={};q.forEach(he=>{ie[he.child_id]||(ie[he.child_id]=[]),ie[he.child_id].push(he)}),f(ie)}if(S)throw S;const G=(H==null?void 0:H.map(ie=>({...ie,child_photos:ie.child_photos?ie.child_photos.sort((he,ke)=>new Date(ke.created_at).getTime()-new Date(he.created_at).getTime()):[]})))||[];a(G),we(G),P(G)}catch(xe){_(xe.message)}finally{v(!1)}},we=xe=>{const H=new Date,S=xe.filter(I=>{if(!I.last_pia_update)return!1;const q=new Date(I.last_pia_update),G=new Date(q);return G.setMonth(G.getMonth()+3),H>=G});l(S)},P=xe=>{const H=new Date,S=H.getDate(),I=H.getMonth()+1,q=xe.filter(G=>{if(!G.birth_date)return!1;const[ie,he,ke]=G.birth_date.split("-").map(Number);return ke===S&&he===I});d(q)},$=xe=>{if(!xe)return-1;const H=new Date,S=new Date(xe);let I=H.getFullYear()-S.getFullYear();const q=H.getMonth()-S.getMonth();return(q<0||q===0&&H.getDate()<S.getDate())&&I--,I},oe=e.filter(xe=>xe.full_name.toLowerCase().includes(y.toLowerCase())||xe.autos_number&&xe.autos_number.toLowerCase().includes(y.toLowerCase()));W&&oe.sort((xe,H)=>{let S=0;if(W.key==="name")S=xe.full_name.localeCompare(H.full_name);else if(W.key==="age"){const I=$(xe.birth_date),q=$(H.birth_date);S=I-q}else if(W.key==="date"){const I=new Date(xe.entry_date||"").getTime()||0,q=new Date(H.entry_date||"").getTime()||0;S=I-q}return W.direction==="asc"?S:-S});const ue=xe=>{se(H=>(H==null?void 0:H.key)===xe?{key:xe,direction:H.direction==="asc"?"desc":"asc"}:{key:xe,direction:"asc"})},Ce=Math.ceil(oe.length/L),re=oe.slice((k-1)*L,k*L),ge=xe=>{if(!xe)return"N/A";const H=xe.split("T")[0],[S,I,q]=H.split("-");return`${q}/${I}/${S}`},me=xe=>{if(!xe)return"?";const H=new Date,S=new Date(xe);let I=H.getFullYear()-S.getFullYear();const q=H.getMonth()-S.getMonth();return(q<0||q===0&&H.getDate()<S.getDate())&&I--,I+" anos"},Oe=xe=>{if(!xe)return"-";const H=new Date(xe),S=new Date;H.setHours(0,0,0,0),S.setHours(0,0,0,0);let I=S.getFullYear()-H.getFullYear(),q=S.getMonth()-H.getMonth(),G=S.getDate()-H.getDate();if(G<0){q--;const ke=new Date(S.getFullYear(),S.getMonth(),0);G+=ke.getDate()}q<0&&(I--,q+=12);const ie=[];if(I>0&&ie.push(`${I} ano${I>1?"s":""}`),q>0&&ie.push(`${q} ${q>1?"meses":"ms"}`),G>0&&ie.push(`${G} dia${G>1?"s":""}`),ie.length===0)return"Hoje";if(ie.length===1)return ie[0];const he=ie.pop();return`${ie.join(", ")} e ${he}`};return i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.length>0&&i.jsxs("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4 flex items-start animate-in slide-in-from-top-2 shadow-sm",children:[i.jsx("div",{className:"flex-shrink-0 p-1",children:i.jsx(yN,{className:"h-6 w-6 text-yellow-600"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-bold text-yellow-800",children:"Feliz Aniversrio! "}),i.jsxs("div",{className:"mt-1 text-sm text-yellow-700",children:[i.jsx("p",{children:"Hoje  o dia especial de:"}),i.jsx("ul",{className:"list-disc pl-5 mt-1",children:c.map(xe=>i.jsxs("li",{className:"font-medium",children:[xe.full_name," (",me(xe.birth_date),")"]},xe.id))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Total Acolhidos"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:p?"...":e.length}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Registros ativos"})]}),i.jsx("div",{className:"p-3 bg-green-50 rounded-lg text-[#458C57]",children:i.jsx(Ni,{size:24})})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Relatrios Ativos"}),i.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-2",children:p?"...":Math.floor(e.length*.8)}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"PIAs em dia"})]}),i.jsx("div",{className:"p-3 bg-green-50 rounded-lg text-green-600",children:i.jsx(mN,{size:24})})]}),F&&i.jsxs(Rn,{to:"/gestao-casa",className:"bg-[#458C57] rounded-xl p-6 shadow-sm flex items-center justify-between cursor-pointer hover:bg-[#3d7a4c] transition-colors group",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-100",children:"Administrao"}),i.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:"Gesto da Casa"}),i.jsx("p",{className:"text-xs text-green-100 mt-1 opacity-80",children:"Configuraes e Financeiro"})]}),i.jsx("div",{className:"p-3 bg-white/10 rounded-lg text-white group-hover:bg-white/20 transition-colors",children:i.jsx(Ro,{size:24})})]})]}),s.length>0&&i.jsx("div",{className:"mb-6 bg-red-50 border border-red-100 rounded-xl p-4 flex items-start",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(cp,{className:"h-5 w-5 text-red-600","aria-hidden":"true"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-red-800",children:"Ateno: Reavaliao de PIA Necessria"}),i.jsxs("div",{className:"mt-1 text-sm text-red-700",children:[i.jsx("p",{children:"Os seguintes acolhidos precisam de atualizao no PIA (vencimento de 3 meses):"}),i.jsx("ul",{className:"list-disc pl-5 space-y-1 mt-1",children:s.map(xe=>i.jsxs("li",{children:[i.jsx(Rn,{to:`/acolhido/${xe.id}`,className:"font-bold hover:underline",children:xe.full_name}),i.jsxs("span",{className:"text-xs ml-2 opacity-75",children:["(ltima atualizao: ",new Date(xe.last_pia_update).toLocaleDateString("pt-BR"),")"]})]},xe.id))})]})]})]})}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Lista de Acolhidos"}),i.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Gerencie os registros ativos da instituio."})]}),i.jsxs("div",{className:"flex gap-3",children:[F&&i.jsx(i.Fragment,{children:i.jsxs(Rn,{to:"/equipe",className:"inline-flex items-center px-4 py-2 border border-slate-300 rounded-lg text-sm font-medium text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#458C57] transition-colors shadow-sm",children:[i.jsx(dp,{className:"w-5 h-5 mr-2"}),"Minha Equipe"]})}),!de&&i.jsxs(Rn,{id:"new-admission-btn",to:"/cadastro-crianca",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-[#458C57] hover:bg-[#367044] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#458C57] shadow-sm transition-colors",children:[i.jsx(cr,{className:"w-5 h-5 mr-2"}),"Cadastro de Criana"]})]})]}),i.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm mb-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Md,{className:"h-5 w-5 text-slate-400"})}),i.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg leading-5 bg-white placeholder-slate-400 text-slate-900 focus:outline-none focus:ring-1 focus:ring-[#458C57] focus:border-[#458C57] sm:text-sm transition-colors",placeholder:"Buscar por nome, autos...",value:y,onChange:xe=>C(xe.target.value)})]}),i.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:[i.jsxs("button",{onClick:()=>ue("name"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors flex items-center whitespace-nowrap ${(W==null?void 0:W.key)==="name"?"bg-[#458C57] text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[(W==null?void 0:W.key)==="name"&&W.direction==="desc"?i.jsx(Km,{className:"w-4 h-4 mr-2"}):i.jsx(Jm,{className:"w-4 h-4 mr-2"}),"Nome"]}),i.jsxs("button",{onClick:()=>ue("age"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors flex items-center whitespace-nowrap ${(W==null?void 0:W.key)==="age"?"bg-[#458C57] text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[(W==null?void 0:W.key)==="age"&&W.direction==="asc"?i.jsx(Jm,{className:"w-4 h-4 mr-2"}):i.jsx(Km,{className:"w-4 h-4 mr-2"}),"Idade"]}),i.jsxs("button",{onClick:()=>ue("date"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors flex items-center whitespace-nowrap ${(W==null?void 0:W.key)==="date"?"bg-[#458C57] text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[(W==null?void 0:W.key)==="date"&&W.direction==="asc"?i.jsx(Jm,{className:"w-4 h-4 mr-2"}):i.jsx(Km,{className:"w-4 h-4 mr-2"}),"Data Entrada"]})]})]})}),j&&i.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded-r-lg",children:i.jsx("p",{className:"text-sm text-red-700 font-medium",children:j})}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden",children:[p?i.jsx("div",{className:"p-12 text-center text-slate-500 flex justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#458C57]"})}):oe.length===0?i.jsxs("div",{className:"p-16 text-center flex flex-col items-center",children:[i.jsx("div",{className:"bg-slate-100 p-4 rounded-full mb-4",children:i.jsx(Ni,{className:"w-8 h-8 text-slate-400"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Nenhum registro encontrado"}),i.jsx("p",{className:"text-slate-500 mt-1 max-w-sm",children:"No h crianas cadastradas com este nome ou o termo de busca no retornou resultados."})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Nome / Idade"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Data Entrada"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Motivo"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Autos / Observaes"}),i.jsx("th",{scope:"col",className:"relative px-6 py-4",children:i.jsx("span",{className:"sr-only",children:"Aes"})})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:re.map(xe=>{var H,S;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center font-bold text-sm shadow-sm overflow-hidden ${xe.sex==="F"?"bg-pink-50 text-pink-600":"bg-blue-50 text-blue-600"}`,children:xe.child_photos&&xe.child_photos.length>0?i.jsx("img",{src:xe.child_photos[0].url,alt:xe.full_name,className:"h-full w-full object-cover"}):xe.full_name.charAt(0)}),i.jsxs("div",{className:"ml-4",children:[i.jsx(Rn,{to:`/acolhido/${xe.id}`,className:"text-sm font-bold text-slate-900 hover:text-[#458C57] transition-colors",children:xe.full_name}),i.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:[me(xe.birth_date),"  ",ge(xe.birth_date)]}),xe.pia_status==="draft"&&i.jsx("span",{className:"mt-1 inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-yellow-100 text-yellow-800",children:"Rascunho"}),h[xe.id]&&i.jsxs("div",{className:"flex items-center text-amber-600 text-xs font-bold mt-1",title:"Compromissos hoje",children:[i.jsx(rf,{className:"w-3 h-3 mr-1"}),h[xe.id].length," compromisso(s) hoje"]})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm text-slate-700 font-medium",children:ge(xe.entry_date)}),i.jsx("span",{className:"text-xs text-slate-500 font-medium text-[#458C57]",children:Oe(xe.entry_date)})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[(H=xe.admission_reason_types)==null?void 0:H.map((I,q)=>i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-50 text-red-700 border border-red-100",children:I},q)),!((S=xe.admission_reason_types)!=null&&S.length)&&i.jsx("span",{className:"text-slate-400 text-sm",children:"-"})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex flex-col max-w-xs",children:[i.jsx("span",{className:"text-sm font-mono text-slate-600 mb-1",children:xe.autos_number||"S/N"}),i.jsx("span",{className:"text-xs text-slate-500 truncate",title:xe.notes,children:xe.notes||"Sem observaes."})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx(Rn,{to:`/acolhido/${xe.id}`,className:"p-1.5 text-slate-400 hover:text-[#458C57] hover:bg-green-50 rounded-md transition-colors",title:"Ver PIA",children:i.jsx(up,{className:"w-4 h-4"})}),i.jsx(Rn,{to:"/relatorios",className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Relatrio Tcnico",children:i.jsx(lc,{className:"w-4 h-4"})}),!de&&i.jsx(Rn,{to:`/acolhido/${xe.id}`,state:{edit:!0},className:"p-1.5 text-slate-400 hover:text-amber-600 hover:bg-amber-50 rounded-md transition-colors",title:"Editar PIA",children:i.jsx(Ox,{className:"w-4 h-4"})})]}),!de&&i.jsxs(Rn,{to:`/acolhido/${xe.id}`,state:{edit:!0,renew:!0},className:"flex items-center justify-center px-2 py-1 text-purple-600 bg-purple-50 hover:bg-purple-100 rounded border border-purple-200 transition-colors text-xs font-medium w-full",title:"Reavaliao",children:[i.jsx(Lx,{className:"w-3 h-3 mr-1"}),"Reavaliao"]})]})})]},xe.id)})})]})}),!p&&oe.length>0&&i.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 bg-white px-4 py-3 sm:px-6",children:[i.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[i.jsx("button",{onClick:()=>O(xe=>Math.max(1,xe-1)),disabled:k===1,className:"relative inline-flex items-center rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Anterior"}),i.jsx("button",{onClick:()=>O(xe=>Math.min(Ce,xe+1)),disabled:k===Ce,className:"relative ml-3 inline-flex items-center rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Prxima"})]}),i.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-slate-700",children:["Mostrando ",i.jsx("span",{className:"font-medium",children:(k-1)*L+1})," a ",i.jsx("span",{className:"font-medium",children:Math.min(k*L,oe.length)})," de ",i.jsx("span",{className:"font-medium",children:oe.length})," resultados"]})}),i.jsx("div",{children:i.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[i.jsx("button",{onClick:()=>O(xe=>Math.max(1,xe-1)),disabled:k===1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-slate-400 ring-1 ring-inset ring-slate-300 hover:bg-slate-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 hover:text-slate-700",children:i.jsx(kx,{className:"h-5 w-5","aria-hidden":"true"})}),i.jsx("button",{onClick:()=>O(xe=>Math.min(Ce,xe+1)),disabled:k===Ce,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-slate-400 ring-1 ring-inset ring-slate-300 hover:bg-slate-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 hover:text-slate-700",children:i.jsx(lp,{className:"h-5 w-5","aria-hidden":"true"})})]})})]})]})]}),i.jsxs("div",{className:"mt-8 flex justify-between items-center text-xs text-slate-400 px-4",children:[i.jsx("span",{children:" 2024 Curitiba Acolhe. Protegido por Criptografia."}),i.jsx("span",{children:"v2.4.0"})]})]})},kd="/assets/Logo%20PIA-D6BNOFHm.png",y3=({onDemoLogin:n,onAdminLogin:e})=>{const a=Xi(),[s,l]=ae.useState(""),[c,d]=ae.useState(""),[h,f]=ae.useState(!1),[p,v]=ae.useState(null),j=async _=>{if(_.preventDefault(),f(!0),v(null),s==="admin"&&c==="admin"){setTimeout(()=>{e(),f(!1),a("/admin/casas")},800);return}if(!s||!c||s==="demo"||s.includes("teste")){setTimeout(()=>{n(),f(!1),a("/")},800);return}try{const{error:y}=await Ge.auth.signInWithPassword({email:s,password:c});if(y)throw y;a("/")}catch(y){let C=y.message||"Falha na autenticao";C.includes("Email not confirmed")?C="E-mail no confirmado. Pea ao administrador para desativar a opo 'Confirm Email' no Supabase para liberar seu acesso.":C.includes("Invalid login credentials")&&(C="E-mail ou senha incorretos."),v(C)}finally{f(!1)}};return i.jsxs("div",{className:"min-h-screen bg-slate-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("img",{src:kd,alt:"Logo PIA",className:"h-24 w-auto object-contain"})}),i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-slate-900 tracking-tight",children:"Curitiba Acolhe"}),i.jsx("p",{className:"mt-2 text-center text-sm text-slate-600",children:"Acesso restrito para Instituies de Acolhimento"})]}),i.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:i.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl sm:rounded-xl sm:px-10 border border-slate-200",children:[i.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-100 rounded-lg p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(FN,{className:"h-5 w-5 text-blue-500"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Modo de Demonstrao"}),i.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Clique em ",i.jsx("strong",{children:'"Acessar Painel"'})," sem preencher dados para visualizar o MVP com dados fictcios."]})]})]})}),i.jsxs("form",{className:"space-y-6",onSubmit:j,children:[p&&i.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:i.jsx("p",{className:"text-sm text-red-700",children:p})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-slate-700",children:"E-mail Institucional"}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Ed,{className:"h-5 w-5 text-slate-400"})}),i.jsx("input",{id:"email",name:"email",type:"text",autoComplete:"email",value:s,onChange:_=>l(_.target.value),className:"block w-full pl-10 sm:text-sm border-slate-300 rounded-lg py-2.5 text-slate-900 focus:ring-[#458C57] focus:border-[#458C57]",placeholder:"admin (ou e-mail institucional)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-slate-700",children:"Senha"}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(VN,{className:"h-5 w-5 text-slate-400"})}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:c,onChange:_=>d(_.target.value),className:"block w-full pl-10 sm:text-sm border-slate-300 rounded-lg py-2.5 text-slate-900 focus:ring-[#458C57] focus:border-[#458C57]"})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-md text-sm font-bold text-white bg-[#458C57] hover:bg-[#367044] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#458C57] disabled:opacity-50 transition-all hover:scale-[1.01]",children:h?"Entrando...":"Acessar Painel"})})]}),i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-slate-200"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white text-slate-400 font-medium",children:"Suporte Tcnico"})})]}),i.jsxs("div",{className:"mt-6 text-center text-xs text-slate-400",children:["Sistema em conformidade com a LGPD.",i.jsx("br",{}),"Acesso auditado e monitorado."]})]})]})})]})},N2=({isDemo:n})=>{var Ae,Ze,tt,ot,X,at,qt,bt;const e=Xi(),[a,s]=ae.useState(!1),[l,c]=ae.useState(null),[d,h]=ae.useState(!1),f=ae.useRef("completed"),[p,v]=ae.useState(null),[j,_]=ae.useState(null),[y,C]=ae.useState(!1),[k,O]=ae.useState(null),L=["No alfabetizado","Ensino Fundamental Incompleto","Ensino Fundamental Completo","Ensino Mdio Incompleto","Ensino Mdio Completo","Ensino Superior Incompleto","Ensino Superior Completo","Ps-graduao"],[T,R]=ae.useState({full_name:"",birth_date:"",naturalness:"",uf:"",sex:"M",mother_name:"",father_name:"",filiation_destituted:!1,autos_number:"",forum_vara:"",birth_certificate:"",cpf:"",reference_contacts:[],first_admission:!1,entry_date:new Date().toISOString().split("T")[0],transferred_from:"",transferred_date:"",responsible_organ:"",cnj_guide:"",reference_professional:"",fas_guide:"",admission_reason_types:[],admission_reason_other:"",guardianship_council:"",counselor_name:"",previous_admissions:!1,previous_admissions_local:"",previous_admissions_history:[],socio_educational_measure:!1,socio_educational_measure_type:"",death_threats:!1,ppcaam_evaluated:!1,ppcaam_inserted:!1,ppcaam_justification:"",street_situation:!1,race_color:"",hair_color:"",eye_color:"",physical_others:"",family_type:"",family_composition:[],responsible_family:"",siblings_in_care:!1,siblings_details:"",family_type:"",family_composition:[],responsible_family:"",siblings_in_care:!1,siblings_details:[],housing_condition:"",construction_type:"",housing_water:!0,housing_sewage:!0,housing_light:!0,visits_received:[],visits_frequency:"",visits_non_occurrence_reason:"",return_perspective:"",family_bond_exists:!1,weekend_with_family:!1,destituted_power:"",cras_monitoring:"",creas_monitoring:"",health_unit_monitoring:"",protection_network_monitoring:"",mandatory_notifications:!1,referrals:"",disabilities:[],needs_perm_care:!1,health_others:"",cid:"",health_followup:"",health_treatments:[],chemical_dependency:!1,drugs_used:[],dependency_treatment:!1,health_obs:"",school_status:"",education_level:"",school_type:"",school_name:"",school_address:"",school_phone:"",work_insertion:"",sports_leisure:"",historical_context:"",current_situation:"",commitments:[],final_considerations:""}),F=Z=>Z.replace(/\D/g,"").replace(/^(\d{2})(\d)/g,"($1) $2").replace(/(\d)(\d{4})$/,"$1-$2").slice(0,15),ne=Z=>{const ye=Z.replace(/\D/g,"");return ye?(parseFloat(ye)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):""},de=Z=>{k!==null&&(K(k,"education_level",Z),O(null)),C(!1)},W=()=>{const Z={name:"",kinship:"",birth_date:"",education_level:"",job:"",occupation:"",income:""};R(ye=>({...ye,family_composition:[...ye.family_composition||[],Z]}))},se=Z=>{R(ye=>{var Ee;return{...ye,family_composition:(Ee=ye.family_composition)==null?void 0:Ee.filter((We,et)=>et!==Z)}})},K=(Z,ye,Ee)=>{const We=[...T.family_composition||[]];ye==="income"&&(Ee=ne(Ee)),We[Z]={...We[Z],[ye]:Ee},R(et=>({...et,family_composition:We}))},we=()=>{const Z={name:"",phone:"",relationship:"",address:""};R(ye=>({...ye,reference_contacts:[...ye.reference_contacts||[],Z]}))},P=Z=>{R(ye=>{var Ee;return{...ye,reference_contacts:(Ee=ye.reference_contacts)==null?void 0:Ee.filter((We,et)=>et!==Z)}})},$=(Z,ye,Ee)=>{const We=[...T.reference_contacts||[]];ye==="phone"&&(Ee=F(Ee)),We[Z]={...We[Z],[ye]:Ee},R(et=>({...et,reference_contacts:We}))},oe=()=>{const Z={treatment:"",local:"",frequency:"",medication:""};R(ye=>({...ye,health_treatments:[...ye.health_treatments||[],Z]}))},ue=Z=>{R(ye=>{var Ee;return{...ye,health_treatments:(Ee=ye.health_treatments)==null?void 0:Ee.filter((We,et)=>et!==Z)}})},Ce=(Z,ye,Ee)=>{const We=[...T.health_treatments||[]];We[Z]={...We[Z],[ye]:Ee},R(et=>({...et,health_treatments:We}))},re=()=>{const Z={commitment:"",responsible:"",network:"",deadline:"",expected_results:"",obtained_results:""};R(ye=>({...ye,commitments:[...ye.commitments||[],Z]}))},ge=Z=>{R(ye=>{var Ee;return{...ye,commitments:(Ee=ye.commitments)==null?void 0:Ee.filter((We,et)=>et!==Z)}})},me=(Z,ye,Ee)=>{const We=[...T.commitments||[]];We[Z]={...We[Z],[ye]:Ee},R(et=>({...et,commitments:We}))},Oe=()=>{const Z={institution_name:"",entry_date:"",exit_date:"",motive:""};R(ye=>({...ye,previous_admissions_history:[...ye.previous_admissions_history||[],Z]}))},xe=Z=>{R(ye=>{var Ee;return{...ye,previous_admissions_history:(Ee=ye.previous_admissions_history)==null?void 0:Ee.filter((We,et)=>et!==Z)}})},H=(Z,ye,Ee)=>{const We=[...T.previous_admissions_history||[]];We[Z]={...We[Z],[ye]:Ee},R(et=>({...et,previous_admissions_history:We}))},S=()=>{const Z={name:"",age:"",location:"",date:""};R(ye=>({...ye,siblings_details:[...ye.siblings_details||[],Z]}))},I=Z=>{R(ye=>{var Ee;return{...ye,siblings_details:(Ee=ye.siblings_details)==null?void 0:Ee.filter((We,et)=>et!==Z)}})},q=(Z,ye,Ee)=>{const We=[...T.siblings_details||[]];We[Z]={...We[Z],[ye]:Ee},R(et=>({...et,siblings_details:We}))},G=Z=>{const{name:ye,value:Ee,type:We}=Z.target;if(We==="checkbox"){const et=Z.target.checked;R(St=>({...St,[ye]:et}))}else if(ye==="school_phone"){const et=F(Ee);R(St=>({...St,[ye]:et}))}else R(et=>({...et,[ye]:Ee}))},ie=(Z,ye,Ee)=>{R(We=>{const et=We[Z]||[];return Ee?{...We,[Z]:[...et,ye]}:{...We,[Z]:et.filter(St=>St!==ye)}})},he=["Foro Central","CIC","S. Felicidade","Pinheirinho","Boqueiro","Bairro Novo"],ke=T.forum_vara==="Outro"||T.forum_vara&&!he.includes(T.forum_vara),ce=Z=>{if(Z.target.files&&Z.target.files[0]){const ye=Z.target.files[0];v(ye),_(URL.createObjectURL(ye))}},B=async Z=>{Z.preventDefault(),s(!0),c(null);try{const{data:{user:ye}}=await Ge.auth.getUser();if(!ye)throw new Error("Usurio no autenticado");const{data:Ee}=await Ge.from("profiles").select("institution_id").eq("id",ye.id).single();if(!Ee)throw new Error("Perfil de instituio no encontrado.");const We={...T,pia_status:f.current};We.birth_date===""&&(We.birth_date=null),We.entry_date===""&&(We.entry_date=null),We.transferred_date===""&&(We.transferred_date=null),We.first_admission&&(We.transferred_from="",We.transferred_date=null);const{data:et,error:St}=await Ge.from("children").insert([{...We,institution_id:Ee.institution_id}]).select().single();if(St)throw St;if(p&&et)try{const Kt=p.name.split(".").pop(),Ot=`${et.id}/${Math.random()}.${Kt}`,{error:$t}=await Ge.storage.from("child-photos").upload(Ot,p);if(!$t){const{data:Yt}=Ge.storage.from("child-photos").getPublicUrl(Ot);await Ge.from("child_photos").insert([{child_id:et.id,url:Yt.publicUrl}])}}catch(Kt){console.error("Erro ao salvar foto:",Kt)}e((f.current==="draft","/"))}catch(ye){console.error(ye),c(ye.message||"Erro ao salvar.")}finally{s(!1)}};return i.jsxs("div",{className:"max-w-5xl mx-auto pb-20",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs(Rn,{to:"/",className:"text-gray-500 hover:text-gray-700 flex items-center mb-2 text-sm",children:[i.jsx(ip,{className:"w-4 h-4 mr-1"}),"Voltar"]}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Plano Individual de Atendimento (PIA)"}),i.jsx("p",{className:"text-gray-500",children:"Preenchimento obrigatrio completo."})]}),y&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"bg-white w-full max-w-sm rounded-lg shadow-xl border border-gray-200 flex flex-col max-h-[80vh]",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center bg-gray-50 rounded-t-lg",children:[i.jsx("h3",{className:"font-bold text-gray-900",children:"Selecione a Escolaridade"}),i.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(Wi,{size:20})})]}),i.jsx("div",{className:"overflow-y-auto p-2",children:L.map(Z=>i.jsx("button",{type:"button",onClick:()=>de(Z),className:"w-full text-left px-4 py-3 hover:bg-gray-50 rounded-md text-sm text-gray-700 border-b border-gray-100 last:border-0",children:Z},Z))})]})}),i.jsxs("form",{onSubmit:B,className:"space-y-8",children:[l&&i.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-start",children:[i.jsx(Au,{className:"w-5 h-5 text-red-500 mr-2 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-700",children:l})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800",children:"1. IDENTIFICAO / DADOS PESSOAIS"}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"flex justify-center mb-8",children:i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-200 bg-gray-100 flex items-center justify-center shadow-sm",children:j?i.jsx("img",{src:j,alt:"Preview",className:"w-full h-full object-cover"}):i.jsx(Ni,{className:"w-16 h-16 text-gray-400"})}),i.jsxs("label",{className:"absolute bottom-0 right-0 bg-[#458C57] text-white p-2.5 rounded-full cursor-pointer hover:bg-[#367044] shadow-md transition-all transform hover:scale-105",title:"Adicionar foto",children:[i.jsx(pf,{size:20}),i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ce})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Nome Completo"}),i.jsx("input",{type:"text",name:"full_name",value:T.full_name,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900 focus:ring-[#458C57] focus:border-[#458C57]",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Data Nascimento"}),i.jsx("input",{type:"date",name:"birth_date",value:T.birth_date,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900 focus:ring-[#458C57] focus:border-[#458C57]",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Naturalidade"}),i.jsx("input",{type:"text",name:"naturalness",value:T.naturalness,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"UF"}),i.jsx("input",{type:"text",name:"uf",maxLength:2,value:T.uf,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900 uppercase"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Sexo"}),i.jsxs("select",{name:"sex",value:T.sex,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",children:[i.jsx("option",{value:"M",children:"Masculino"}),i.jsx("option",{value:"F",children:"Feminino"})]})]}),i.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Nome da Me"}),i.jsx("input",{type:"text",name:"mother_name",value:T.mother_name,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Nome do Pai"}),i.jsx("input",{type:"text",name:"father_name",value:T.father_name,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]}),i.jsxs("div",{className:"md:col-span-2 flex items-center",children:[i.jsx("input",{type:"checkbox",name:"filiation_destituted",checked:T.filiation_destituted,onChange:G,className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Destitudos do poder familiar?"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Autos n"}),i.jsx("input",{type:"text",name:"autos_number",value:T.autos_number,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Vara / Frum"}),i.jsxs("select",{name:"forum_vara",value:ke?"Outro":T.forum_vara,onChange:Z=>Z.target.value==="Outro"?R(ye=>({...ye,forum_vara:"Outro"})):G(Z),className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",children:[i.jsx("option",{value:"",children:"Selecione..."}),he.map(Z=>i.jsx("option",{value:Z,children:Z},Z)),i.jsx("option",{value:"Outro",children:"Outro"})]}),ke&&i.jsx("input",{type:"text",name:"forum_vara",value:T.forum_vara==="Outro"?"":T.forum_vara,onChange:G,className:"mt-2 w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Especifique a Vara/Frum"})]}),i.jsx("div",{className:"md:col-span-3 border-t pt-4 mt-2",children:i.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Documentao"})}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Certido Nascimento"}),i.jsx("input",{type:"text",name:"birth_certificate",value:T.birth_certificate,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Matrcula / Livro / Folha"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"CPF"}),i.jsx("input",{type:"text",name:"cpf",value:T.cpf,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]}),i.jsxs("div",{className:"md:col-span-3",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Contatos de Referncia"}),i.jsx("div",{className:"overflow-x-auto mb-2",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-md",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{className:"divide-x divide-gray-200",children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nome"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Telefone"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Vnculo"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Endereo/Obs"}),i.jsx("th",{className:"px-3 py-2"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(Ae=T.reference_contacts)==null?void 0:Ae.map((Z,ye)=>i.jsxs("tr",{className:"border-b border-gray-200 divide-x divide-gray-200",children:[i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.name,onChange:Ee=>$(ye,"name",Ee.target.value),placeholder:"Nome"})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.phone,onChange:Ee=>$(ye,"phone",Ee.target.value),placeholder:"Tel"})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.relationship,onChange:Ee=>$(ye,"relationship",Ee.target.value),placeholder:"Ex: Tia"})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.address,onChange:Ee=>$(ye,"address",Ee.target.value)})}),i.jsx("td",{className:"p-1 text-center",children:i.jsx("button",{type:"button",onClick:()=>P(ye),className:"text-red-500 hover:text-red-700",children:i.jsx(Cn,{size:16})})})]},ye))})]})}),i.jsxs("button",{type:"button",onClick:we,className:"text-sm text-[#458C57] font-medium flex items-center",children:[i.jsx(cr,{size:16,className:"mr-1"})," Adicionar Contato"]})]})]})]})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800",children:"2. INFORMAES SOBRE ACOLHIMENTO"}),i.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{className:"md:col-span-2 bg-blue-50 p-3 rounded-md border border-blue-100 mb-2",children:i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:T.first_admission,onChange:Z=>R(ye=>({...ye,first_admission:Z.target.checked})),className:"w-5 h-5 text-[#458C57] rounded focus:ring-[#458C57] border-gray-300 mr-3"}),i.jsx("span",{className:"font-bold text-gray-900",children:"Este  o primeiro acolhimento institucional da criana/adolescente"})]})}),!T.first_admission&&i.jsx("div",{className:"md:col-span-2 mb-2",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Acolhimentos Anteriores?"}),i.jsxs("label",{className:"inline-flex items-center",children:[i.jsx("input",{type:"radio",name:"previous_admissions",checked:T.previous_admissions===!0,onChange:()=>R(Z=>({...Z,previous_admissions:!0})),className:"mr-1"})," Sim"]}),i.jsxs("label",{className:"inline-flex items-center",children:[i.jsx("input",{type:"radio",name:"previous_admissions",checked:T.previous_admissions===!1,onChange:()=>R(Z=>({...Z,previous_admissions:!1})),className:"mr-1"})," No"]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Data Acolhimento"}),i.jsx("input",{type:"date",name:"entry_date",value:T.entry_date,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"rgo Responsvel"}),i.jsx("input",{type:"text",name:"responsible_organ",value:T.responsible_organ,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]}),!T.first_admission&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Transferido de"}),i.jsx("input",{type:"text",name:"transferred_from",value:T.transferred_from,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Data Transferncia"}),i.jsx("input",{type:"date",name:"transferred_date",value:T.transferred_date,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]}),i.jsxs("div",{className:"md:col-span-2 mt-4",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Histrico de Acolhimentos Anteriores"}),i.jsx("div",{className:"overflow-x-auto mb-2",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-md",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{className:"divide-x divide-gray-200",children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Instituio / Casa Lar"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Data Entrada"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Data Sada"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Motivo Sada/Reingresso"}),i.jsx("th",{className:"px-3 py-2"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(Ze=T.previous_admissions_history)==null?void 0:Ze.map((Z,ye)=>i.jsxs("tr",{className:"border-b border-gray-200 divide-x divide-gray-200",children:[i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.institution_name,onChange:Ee=>H(ye,"institution_name",Ee.target.value),placeholder:"Nome do local"})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"date",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.entry_date,onChange:Ee=>H(ye,"entry_date",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"date",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.exit_date,onChange:Ee=>H(ye,"exit_date",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.motive,onChange:Ee=>H(ye,"motive",Ee.target.value),placeholder:"Motivo"})}),i.jsx("td",{className:"p-1 text-center",children:i.jsx("button",{type:"button",onClick:()=>xe(ye),className:"text-red-500 hover:text-red-700",children:i.jsx(Cn,{size:16})})})]},ye))})]})}),i.jsxs("button",{type:"button",onClick:Oe,className:"text-sm text-[#458C57] font-medium flex items-center",children:[i.jsx(cr,{size:16,className:"mr-1"})," Adicionar Histrico"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Guia CNJ"}),i.jsx("input",{type:"text",name:"cnj_guide",value:T.cnj_guide,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Guia FAS"}),i.jsx("input",{type:"text",name:"fas_guide",value:T.fas_guide,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Profissional Referncia (Ncleo Psicossocial Vara Infncia)"}),i.jsx("input",{type:"text",name:"reference_professional",value:T.reference_professional,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]}),i.jsxs("div",{className:"md:col-span-2 border-t pt-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Motivo do Acolhimento"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Violncia Domstica","Situao de Rua","Suspeita de Abuso Sexual","Explorao Sexual","Conflito com a Lei","Ameaa de Morte","Vnculos Rompidos"].map(Z=>{var ye;return i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:(ye=T.admission_reason_types)==null?void 0:ye.includes(Z),onChange:Ee=>ie("admission_reason_types",Z,Ee.target.checked)}),i.jsx("span",{className:"text-sm text-gray-700",children:Z})]},Z)})}),i.jsx("input",{type:"text",name:"admission_reason_other",value:T.admission_reason_other,onChange:G,className:"mt-2 w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Outros (especifique)"})]}),i.jsxs("div",{className:"md:col-span-2 grid grid-cols-2 gap-4 pt-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Conselho Tutelar Ref."}),i.jsx("input",{type:"text",name:"guardianship_council",value:T.guardianship_council,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Nome Conselheiro"}),i.jsx("input",{type:"text",name:"counselor_name",value:T.counselor_name,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]})]})]})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800",children:"3. VULNERABILIDADES"}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900 w-64",children:"Em cumprimento de medida socioeducativa:"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"socio_educational_measure",checked:T.socio_educational_measure,onChange:()=>R(Z=>({...Z,socio_educational_measure:!0}))})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"socio_educational_measure",checked:!T.socio_educational_measure,onChange:()=>R(Z=>({...Z,socio_educational_measure:!1}))})," No"]})]}),T.socio_educational_measure&&i.jsxs("select",{name:"socio_educational_measure_type",value:T.socio_educational_measure_type,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",children:[i.jsx("option",{value:"",children:"Selecione a medida..."}),i.jsx("option",{value:"LA",children:"Liberdade Assistida (LA)"}),i.jsx("option",{value:"PSC",children:"Prestao de Servio Comunitrio"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900 w-64",children:"Ameaa de morte ps-acolhimento:"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"death_threats",checked:T.death_threats,onChange:()=>R(Z=>({...Z,death_threats:!0}))})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"death_threats",checked:!T.death_threats,onChange:()=>R(Z=>({...Z,death_threats:!1}))})," No"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900 w-64",children:"Avaliado pelo PPCAAM:"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"ppcaam_evaluated",checked:T.ppcaam_evaluated,onChange:()=>R(Z=>({...Z,ppcaam_evaluated:!0}))})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"ppcaam_evaluated",checked:!T.ppcaam_evaluated,onChange:()=>R(Z=>({...Z,ppcaam_evaluated:!1}))})," No"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900 w-64",children:"Inserido no PPCAAM:"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"ppcaam_inserted",checked:T.ppcaam_inserted,onChange:()=>R(Z=>({...Z,ppcaam_inserted:!0}))})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"ppcaam_inserted",checked:!T.ppcaam_inserted,onChange:()=>R(Z=>({...Z,ppcaam_inserted:!1}))})," No"]})]}),i.jsx("input",{type:"text",name:"ppcaam_justification",value:T.ppcaam_justification,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Justifique (PPCAAM)"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900 w-64",children:"Vivncia em situao de rua:"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"street_situation",checked:T.street_situation,onChange:()=>R(Z=>({...Z,street_situation:!0}))})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"street_situation",checked:!T.street_situation,onChange:()=>R(Z=>({...Z,street_situation:!1}))})," No"]})]})]})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800",children:"4. CARACTERSTICAS FSICAS"}),i.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Raa/Cor"}),i.jsxs("select",{name:"race_color",value:T.race_color,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Branca",children:"Branca"}),i.jsx("option",{value:"Negra",children:"Negra"}),i.jsx("option",{value:"Amarela",children:"Amarela"}),i.jsx("option",{value:"Parda",children:"Parda"}),i.jsx("option",{value:"Indgena",children:"Indgena"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Cor Cabelo"}),i.jsxs("select",{name:"hair_color",value:T.hair_color,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Preto",children:"Preto"}),i.jsx("option",{value:"Castanho Escuro",children:"Castanho Escuro"}),i.jsx("option",{value:"Castanho Claro",children:"Castanho Claro"}),i.jsx("option",{value:"Louro",children:"Louro"}),i.jsx("option",{value:"Ruivo",children:"Ruivo"}),i.jsx("option",{value:"Grisalho",children:"Grisalho"}),i.jsx("option",{value:"Branco",children:"Branco"}),i.jsx("option",{value:"Outro",children:"Outro"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Cor Olhos"}),i.jsxs("select",{name:"eye_color",value:T.eye_color,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Castanho",children:"Castanho"}),i.jsx("option",{value:"Preto",children:"Preto"}),i.jsx("option",{value:"Azul",children:"Azul"}),i.jsx("option",{value:"Verde",children:"Verde"}),i.jsx("option",{value:"Mel",children:"Mel"}),i.jsx("option",{value:"Outro",children:"Outro"})]})]}),i.jsxs("div",{className:"md:col-span-3",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Outros (Cicatrizes, Tatuagens)"}),i.jsx("input",{type:"text",name:"physical_others",value:T.physical_others,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]})]})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800",children:"5. SITUAO FAMILIAR"}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Tipo de Famlia"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"family_type",value:"Biolgica",checked:T.family_type==="Biolgica",onChange:G})," Biolgica"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"family_type",value:"Substituta",checked:T.family_type==="Substituta",onChange:G})," Substituta"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"family_type",value:"Extensa",checked:T.family_type==="Extensa",onChange:G})," Extensa"]})]})]}),i.jsx("h4",{className:"font-bold text-gray-700 mb-2 border-b pb-1",children:"5.1 Composio Familiar"}),i.jsxs("div",{className:"overflow-x-auto mb-4",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-md",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{className:"divide-x divide-gray-200",children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nome"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Parentesco"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nascimento"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Escolaridade"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Ocupao"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Renda (R$)"}),i.jsx("th",{className:"px-3 py-2"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(tt=T.family_composition)==null?void 0:tt.map((Z,ye)=>i.jsxs("tr",{className:"border-b border-gray-200 divide-x divide-gray-200",children:[i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.name,onChange:Ee=>K(ye,"name",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.kinship,onChange:Ee=>K(ye,"kinship",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"date",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.birth_date,onChange:Ee=>K(ye,"birth_date",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900 cursor-pointer",value:Z.education_level,onClick:()=>{O(ye),C(!0)},readOnly:!0,placeholder:"Selecione..."})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.occupation,onChange:Ee=>K(ye,"occupation",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.income,onChange:Ee=>K(ye,"income",Ee.target.value),placeholder:"R$ 0,00"})}),i.jsx("td",{className:"p-1",children:i.jsx("button",{type:"button",onClick:()=>se(ye),className:"text-red-500",children:i.jsx(Cn,{size:16})})})]},ye))})]}),i.jsxs("button",{type:"button",onClick:W,className:"mt-2 text-sm text-gov-700 font-medium flex items-center",children:[i.jsx(cr,{size:16,className:"mr-1"})," Adicionar Familiar"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Responsvel Familiar"}),i.jsxs("select",{name:"responsible_family",value:T.responsible_family,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Pai e Me",children:"Pai e Me"}),i.jsx("option",{value:"Me",children:"Me"}),i.jsx("option",{value:"Pai",children:"Pai"}),i.jsx("option",{value:"Avs",children:"Avs"}),i.jsx("option",{value:"Outros",children:"Outros"})]})]}),i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Irmos em acolhimento?"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"siblings_in_care",checked:T.siblings_in_care,onChange:()=>R(Z=>({...Z,siblings_in_care:!0}))})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"siblings_in_care",checked:!T.siblings_in_care,onChange:()=>R(Z=>({...Z,siblings_in_care:!1}))})," No"]})]})}),T.siblings_in_care&&i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Detalhes dos Irmos"}),i.jsx("div",{className:"overflow-x-auto mb-2",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-md",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{className:"divide-x divide-gray-200",children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nome"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Idade"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Local de Acolhimento"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Data"}),i.jsx("th",{className:"px-3 py-2"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(ot=T.siblings_details)==null?void 0:ot.map((Z,ye)=>i.jsxs("tr",{className:"border-b border-gray-200 divide-x divide-gray-200",children:[i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.name,onChange:Ee=>q(ye,"name",Ee.target.value),placeholder:"Nome"})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.age,onChange:Ee=>q(ye,"age",Ee.target.value),placeholder:"Idade"})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.location,onChange:Ee=>q(ye,"location",Ee.target.value),placeholder:"Local"})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"date",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.date,onChange:Ee=>q(ye,"date",Ee.target.value)})}),i.jsx("td",{className:"p-1 text-center",children:i.jsx("button",{type:"button",onClick:()=>I(ye),className:"text-red-500 hover:text-red-700",children:i.jsx(Cn,{size:16})})})]},ye))})]})}),i.jsxs("button",{type:"button",onClick:S,className:"text-sm text-[#458C57] font-medium flex items-center",children:[i.jsx(cr,{size:16,className:"mr-1"})," Adicionar Irmo"]})]})]}),i.jsx("h4",{className:"font-bold text-gray-700 mb-2 border-b pb-1 pt-2",children:"5.2 Situao Habitacional e Vnculo (5.3)"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Moradia"}),i.jsxs("select",{name:"housing_condition",value:T.housing_condition,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Prpria",children:"Prpria"}),i.jsx("option",{value:"Alugada",children:"Alugada"}),i.jsx("option",{value:"Cedida",children:"Cedida"}),i.jsx("option",{value:"Irregular",children:"Ocupao Irregular"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Construo"}),i.jsxs("select",{name:"construction_type",value:T.construction_type,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Alvenaria",children:"Alvenaria"}),i.jsx("option",{value:"Madeira",children:"Madeira"}),i.jsx("option",{value:"Mista",children:"Mista"}),i.jsx("option",{value:"Taipa",children:"Taipa"})]})]}),i.jsxs("div",{className:"md:col-span-2 flex gap-6",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:T.housing_water,onChange:Z=>R(ye=>({...ye,housing_water:Z.target.checked})),className:"mr-2"})," gua"]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:T.housing_sewage,onChange:Z=>R(ye=>({...ye,housing_sewage:Z.target.checked})),className:"mr-2"})," Esgoto"]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:T.housing_light,onChange:Z=>R(ye=>({...ye,housing_light:Z.target.checked})),className:"mr-2"})," Luz"]})]}),i.jsxs("div",{className:"md:col-span-2 mt-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Recebe visitas de:"}),i.jsxs("label",{className:"flex items-center text-sm font-bold text-gray-900 mb-2",children:[i.jsx("input",{type:"checkbox",checked:(X=T.visits_received)==null?void 0:X.includes("No ocorrem"),onChange:Z=>{Z.target.checked?R(ye=>({...ye,visits_received:["No ocorrem"]})):R(ye=>({...ye,visits_received:[]}))},className:"mr-2"}),"No ocorrem"]}),(at=T.visits_received)!=null&&at.includes("No ocorrem")?i.jsxs("div",{className:"mt-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Motivo da no ocorrncia"}),i.jsx("input",{type:"text",name:"visits_non_occurrence_reason",value:T.visits_non_occurrence_reason||"",onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Especifique o motivo..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex gap-4 flex-wrap",children:["Pais","Me","Pai","Irmos","Parentes","Outros"].map(Z=>{var ye;return i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("input",{type:"checkbox",checked:(ye=T.visits_received)==null?void 0:ye.includes(Z),onChange:Ee=>ie("visits_received",Z,Ee.target.checked),className:"mr-1"})," ",Z]},Z)})}),i.jsx("label",{className:"block text-sm font-bold text-gray-900 mt-2",children:"Frequncia das Visitas"}),i.jsxs("select",{name:"visits_frequency",value:T.visits_frequency,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Semanal",children:"Semanal"}),i.jsx("option",{value:"Quinzenal",children:"Quinzenal"}),i.jsx("option",{value:"Mensal",children:"Mensal"}),i.jsx("option",{value:"Bimestral",children:"Bimestral"}),i.jsx("option",{value:"Semestral",children:"Semestral"}),i.jsx("option",{value:"Espordica",children:"Espordica"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Vnculo preservado?"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"family_bond_exists",checked:T.family_bond_exists,onChange:()=>R(Z=>({...Z,family_bond_exists:!0}))})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"family_bond_exists",checked:!T.family_bond_exists,onChange:()=>R(Z=>({...Z,family_bond_exists:!1}))})," No"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Destitudo poder familiar?"}),i.jsxs("select",{name:"destituted_power",value:T.destituted_power,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Sim",children:"Sim"}),i.jsx("option",{value:"No",children:"No"}),i.jsx("option",{value:"Em anlise",children:"Em anlise"})]})]})]}),i.jsx("h4",{className:"font-bold text-gray-700 mb-2 border-b pb-1 pt-4",children:"5.4 Rede Socioassistencial"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",name:"cras_monitoring",value:T.cras_monitoring,onChange:G,className:"border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"CRAS (Qual?)"}),i.jsx("input",{type:"text",name:"creas_monitoring",value:T.creas_monitoring,onChange:G,className:"border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"CREAS (Qual?)"}),i.jsx("input",{type:"text",name:"health_unit_monitoring",value:T.health_unit_monitoring,onChange:G,className:"border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Unidade Sade (Qual?)"}),i.jsx("input",{type:"text",name:"referrals",value:T.referrals,onChange:G,className:"border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Encaminhamentos"})]})]})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800",children:"6. SITUAO DE SADE"}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Deficincia"}),i.jsx("div",{className:"mb-2",children:i.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:[i.jsx("input",{type:"checkbox",checked:d,onChange:Z=>{h(Z.target.checked),Z.target.checked||R(ye=>({...ye,disabilities:[]}))},className:"mr-2"}),"Possui deficincia"]})}),d&&i.jsx("div",{className:"flex gap-4 flex-wrap transition-opacity duration-200",children:["Mental","Visual","Auditiva","Fsica","Down"].map(Z=>{var ye;return i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("input",{type:"checkbox",checked:(ye=T.disabilities)==null?void 0:ye.includes(Z),onChange:Ee=>ie("disabilities",Z,Ee.target.checked),className:"mr-1"})," ",Z]},Z)})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"CID"}),i.jsx("input",{type:"text",name:"cid",value:T.cid,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Acompanhamento de sade"}),i.jsx("input",{type:"text",name:"health_followup",value:T.health_followup,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900"})]})]}),i.jsx("h4",{className:"font-bold text-gray-700 mb-2",children:"Tratamentos / Medicamentos"}),i.jsxs("div",{className:"overflow-x-auto mb-4",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-md",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{className:"divide-x divide-gray-200",children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Tratamento"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Local"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Frequncia"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Medicamento"}),i.jsx("th",{className:"px-3 py-2"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(qt=T.health_treatments)==null?void 0:qt.map((Z,ye)=>i.jsxs("tr",{className:"border-b border-gray-200 divide-x divide-gray-200",children:[i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.treatment,onChange:Ee=>Ce(ye,"treatment",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.local,onChange:Ee=>Ce(ye,"local",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.frequency,onChange:Ee=>Ce(ye,"frequency",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.medication,onChange:Ee=>Ce(ye,"medication",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("button",{type:"button",onClick:()=>ue(ye),className:"text-red-500",children:i.jsx(Cn,{size:16})})})]},ye))})]}),i.jsxs("button",{type:"button",onClick:oe,className:"mt-2 text-sm text-[#458C57] font-medium flex items-center",children:[i.jsx(cr,{size:16,className:"mr-1"})," Adicionar Tratamento"]})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("label",{className:"flex items-center font-bold text-gray-900 mb-2",children:[i.jsx("input",{type:"checkbox",checked:!T.chemical_dependency,onChange:Z=>R(ye=>({...ye,chemical_dependency:!Z.target.checked})),className:"mr-2"}),"No possui dependncia qumica"]}),T.chemical_dependency&&i.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[i.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Drogas Utilizadas:"}),i.jsx("div",{className:"flex gap-4 flex-wrap mt-1",children:["lcool","Tabaco","Cocana","Crack","Maconha","Inalantes"].map(Z=>{var ye;return i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("input",{type:"checkbox",checked:(ye=T.drugs_used)==null?void 0:ye.includes(Z),onChange:Ee=>ie("drugs_used",Z,Ee.target.checked),className:"mr-1"})," ",Z]},Z)})}),i.jsx("div",{className:"mt-2",children:i.jsxs("label",{className:"flex items-center text-sm text-gray-900",children:[i.jsx("input",{type:"checkbox",checked:T.dependency_treatment,onChange:Z=>R(ye=>({...ye,dependency_treatment:Z.target.checked})),className:"mr-2"})," Realiza tratamento?"]})})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800",children:"7. SITUAO EDUCACIONAL"}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("select",{name:"school_status",value:T.school_status,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",children:[i.jsx("option",{value:"",children:"Situao Escolar..."}),i.jsx("option",{value:"Estuda atualmente",children:"Estuda atualmente"}),i.jsx("option",{value:"No estuda",children:"No estuda"}),i.jsx("option",{value:"Nunca estudou",children:"Nunca estudou"})]}),T.school_status!=="No estuda"&&T.school_status!=="Nunca estudou"&&i.jsxs(i.Fragment,{children:[i.jsxs("select",{name:"education_level",value:T.education_level,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",children:[i.jsx("option",{value:"",children:"Nvel..."}),i.jsx("option",{value:"Infantil",children:"Educao Infantil"}),i.jsx("option",{value:"Fundamental",children:"Ens. Fundamental"}),i.jsx("option",{value:"Mdio",children:"Ens. Mdio"}),i.jsx("option",{value:"EJA",children:"EJA"}),i.jsx("option",{value:"Especial",children:"Especial"})]}),i.jsx("input",{type:"text",name:"school_name",value:T.school_name,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Nome Escola"}),i.jsx("input",{type:"text",name:"school_phone",value:T.school_phone,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Telefone"})]})]})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800",children:"8. TRABALHO / PROFISSIONALIZAO"}),i.jsxs("div",{className:"p-6",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Insero no Mundo do Trabalho"}),i.jsxs("select",{name:"work_insertion",value:T.work_insertion,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",children:[i.jsx("option",{value:"No se aplica",children:"No se aplica"}),i.jsx("option",{value:"Sim",children:"Sim (Especifique abaixo)"})]}),T.work_insertion==="Sim"&&i.jsx("input",{type:"text",name:"work_insertion_details",className:"mt-2 w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Qual?"})]})]})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800",children:"OUTROS (9-13)"}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"9. Esporte e Lazer"}),i.jsx("textarea",{name:"sports_leisure",value:T.sports_leisure,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",rows:2})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"10. Contexto Histrico"}),i.jsx("textarea",{name:"historical_context",value:T.historical_context,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",rows:3})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"11. Situao Atual"}),i.jsx("textarea",{name:"current_situation",value:T.current_situation,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",rows:3})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"12. Compromissos Pactuados"}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-md",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{className:"divide-x divide-gray-200",children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Compromisso"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Responsvel"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Rede"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Prazo"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Res. Esperados"}),i.jsx("th",{className:"px-3 py-2"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(bt=T.commitments)==null?void 0:bt.map((Z,ye)=>i.jsxs("tr",{className:"border-b border-gray-200 divide-x divide-gray-200",children:[i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.commitment,onChange:Ee=>me(ye,"commitment",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.responsible,onChange:Ee=>me(ye,"responsible",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.network,onChange:Ee=>me(ye,"network",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.deadline,onChange:Ee=>me(ye,"deadline",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:Z.expected_results,onChange:Ee=>me(ye,"expected_results",Ee.target.value)})}),i.jsx("td",{className:"p-1",children:i.jsx("button",{type:"button",onClick:()=>ge(ye),className:"text-red-500",children:i.jsx(Cn,{size:16})})})]},ye))})]}),i.jsxs("button",{type:"button",onClick:re,className:"mt-2 text-sm text-[#458C57] font-medium flex items-center",children:[i.jsx(cr,{size:16,className:"mr-1"})," Adicionar Compromisso"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"13. Consideraes Finais"}),i.jsx("textarea",{name:"final_considerations",value:T.final_considerations,onChange:G,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",rows:3})]})]})]}),i.jsxs("div",{className:"flex justify-end pt-4 gap-3 sticky bottom-0 bg-gray-50 p-4 border-t border-gray-200 shadow-inner",children:[i.jsx("button",{type:"button",onClick:()=>e("/"),className:"bg-white py-2 px-6 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gov-600",children:"Cancelar"}),i.jsxs("button",{type:"submit",onClick:()=>f.current="draft",formNoValidate:!0,disabled:a,className:"bg-white py-2 px-6 border border-[#458C57] rounded-md shadow-sm text-sm font-medium text-[#458C57] hover:bg-[#88F2A2]/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#458C57] disabled:opacity-50 inline-flex items-center",children:[i.jsx(lc,{className:"w-4 h-4 mr-2"})," Salvar Rascunho"]}),i.jsx("button",{type:"submit",onClick:()=>f.current="completed",disabled:a,className:"inline-flex justify-center py-2 px-6 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-[#458C57] hover:bg-[#367044] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#458C57] disabled:opacity-50",children:a?"Salvando...":i.jsxs(i.Fragment,{children:[i.jsx(cc,{className:"w-4 h-4 mr-2"})," Salvar Completo"]})})]})]})]})},j2=({isDemo:n})=>{var R;const e=Xi(),[a,s]=ae.useState(!1),[l,c]=ae.useState(null),[d,h]=ae.useState("child"),[f,p]=ae.useState(null),[v,j]=ae.useState(null),[_,y]=ae.useState({full_name:"",social_name:"",naturalness:"Selecionar",cpf:"",identification_doc:"",presumed_age:"No",birth_date:"",sex:"Selecionar",gender_identity:"Selecionar",race_color:"Selecionar",birth_time:"",is_studying:"No",education_level:"Selecionar",registered_by:"Selecionar",mother_name:"",mother_father_1_cpf:"",mother_father_1_deceased:"No",grandparent_1_line_1:"",grandparent_2_line_1:"",mother_father_2_name:"",mother_father_2_cpf:"",has_mother_father_2:"No",mother_father_2_deceased:"No",grandparent_1_line_2:"",grandparent_2_line_2:"",has_siblings:"Selecionar",has_children:"No",is_child_of_teenager:"No",possible_reintegration:"No",has_pia:"No",has_health_diagnosis:"Selecionar",health_diagnosis_details:[],has_physical_disability:"Selecionar",physical_disability_details:[],has_sensory_disability:"Selecionar",sensory_disability_details:[],has_intellectual_disability:"Selecionar",intellectual_disability_details:[],has_psychosocial_disability:"Selecionar",psychosocial_disability_details:[],has_health_condition:"Selecionar",health_condition_details:[],medication_use:"No",has_medical_report:"No",has_chemical_dependency:"No",process_type:"Selecionar",process_state:"Selecionar",judging_body:"Selecionar",process_number:"",protective_measures:[],has_gov_benefit:"No",gov_benefit_type:"Selecionar",has_death_threat:"No",receives_visits:"No",visitor_name:"",last_visit_date:"",observations:""}),C=F=>{const{name:ne,value:de,type:W}=F.target;y(W==="radio"?se=>({...se,[ne]:de}):se=>({...se,[ne]:de}))},k=(F,ne,de)=>{y(W=>{const se=W[F]||[];return de?{...W,[F]:[...se,ne]}:{...W,[F]:se.filter(K=>K!==ne)}})},O=F=>{if(F.target.files&&F.target.files[0]){const ne=F.target.files[0];j(ne),p(URL.createObjectURL(ne))}},L=async F=>{F.preventDefault(),s(!0),c(null);try{if(n){setTimeout(()=>{alert("Cadastro realizado com sucesso (Modo Demo)!"),e("/")},1e3);return}const{data:{user:ne}}=await Ge.auth.getUser();if(!ne)throw new Error("Usurio no autenticado");const{data:de}=await Ge.from("profiles").select("institution_id").eq("id",ne.id).single(),W={..._,institution_id:de.institution_id,entry_date:new Date().toISOString()};W.birth_date||delete W.birth_date,W.last_visit_date||delete W.last_visit_date;const{data:se,error:K}=await Ge.from("children").insert([W]).select().single();if(K)throw K;if(v&&se){const we=v.name.split(".").pop(),P=`${se.id}/${Math.random()}.${we}`,{error:$}=await Ge.storage.from("child-photos").upload(P,v);if(!$){const{data:oe}=Ge.storage.from("child-photos").getPublicUrl(P);await Ge.from("child_photos").insert([{child_id:se.id,url:oe.publicUrl}])}}e("/")}catch(ne){console.error(ne),c(ne.message||"Erro ao salvar cadastro.")}finally{s(!1)}},T=["ARTS. 136, III, b e 249 - REPRESENTAO JUNTO  AUTORIDADE JUDICIRIA","ART.101 - INCISO I - ENCAMINHAMENTO AOS PAIS OU RESPONSVEL","ART.101 - INCISO II - ORIENTAO , APOIO E ACOMPANHAMENTO TEMPORRIOS","ART.101 - INCISO III - MATRCULA E FREQUNCIA OBRIGATRIAS","ART.101 - INCISO IV - INCLUSO EM PROGRAMA COMUNITRIO","ART.101 - INCISO IX - COLOCAO EM FAMLIA SUBSTITUTA","ART.101 - INCISO V - REQUISIO DE TRATAMENTO MDICO","ART.101 - INCISO VI - INCLUSO EM PROGRAMA OFICIAL DE AUXLIO","ART.101 - INCISO VII - ACOLHIMENTO INSTITUCIONAL","ART.101 - INCISO VIII - INCLUSO EM PROGRAMA DE ACOLHIMENTO FAMILIAR","ART.129 - INCISO I - ENCAMINHAMENTO A PROGRAMA OFICIAL","ART.136, XI - PERDA OU SUPENSO DO PODER FAMILIAR"];return i.jsxs("div",{className:"max-w-6xl mx-auto pb-20",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs(Rn,{to:"/",className:"text-gray-500 hover:text-gray-700 flex items-center mb-2 text-sm",children:[i.jsx(ip,{className:"w-4 h-4 mr-1"})," Voltar"]}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cadastro de Criana/Adolescente"}),i.jsx("p",{className:"text-gray-500",children:"Preencha os dados cadastrais completos."})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[l&&i.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-start",children:[i.jsx(Au,{className:"w-5 h-5 text-red-500 mr-2 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-700",children:l})]}),i.jsx("div",{className:"bg-white shadow-sm rounded-t-lg border-b border-gray-200",children:i.jsx("nav",{className:"flex overflow-x-auto","aria-label":"Tabs",children:[{id:"child",label:"DADOS DA CRIANA"},{id:"family",label:"DADOS DA FAMLIA"},{id:"health",label:"DADOS DE SADE"},{id:"process",label:"DADOS DE PROCESSO"},{id:"others",label:"OUTRAS INFORMAES"}].map(F=>i.jsx("button",{type:"button",onClick:()=>h(F.id),className:`whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm transition-colors ${d===F.id?"border-[#458C57] text-[#458C57] bg-green-50/50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:F.label},F.id))})}),i.jsxs("div",{className:"bg-white shadow-sm rounded-b-lg border border-t-0 border-gray-200 p-6",children:[d==="child"&&i.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-200 bg-gray-100 flex items-center justify-center shadow-sm",children:f?i.jsx("img",{src:f,className:"w-full h-full object-cover"}):i.jsx(Ni,{className:"w-16 h-16 text-gray-400"})}),i.jsxs("label",{className:"absolute bottom-0 right-0 bg-[#458C57] text-white p-2.5 rounded-full cursor-pointer hover:bg-[#367044] shadow-md",children:[i.jsx(pf,{size:20}),i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:O})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Nome"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",name:"full_name",value:_.full_name,onChange:C,className:"w-full border-gray-300 rounded-md border p-2 pr-10",placeholder:"Nome",required:!0}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-500",children:i.jsx(Md,{size:18})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Nome social"}),i.jsx("input",{type:"text",name:"social_name",value:_.social_name,onChange:C,className:"w-full border-gray-300 rounded-md border p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Nacionalidade"}),i.jsxs("select",{name:"naturalness",value:_.naturalness,onChange:C,className:"w-full border-gray-300 rounded-md border p-2",children:[i.jsx("option",{value:"Selecionar",children:"Selecionar"}),i.jsx("option",{value:"Brasileira",children:"Brasileira"}),i.jsx("option",{value:"Estrangeira",children:"Estrangeira"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"CPF"}),i.jsx("input",{type:"text",name:"cpf",value:_.cpf,onChange:C,className:"w-full border-gray-300 rounded-md border p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Doc. Identificao"}),i.jsx("input",{type:"text",name:"identification_doc",value:_.identification_doc,onChange:C,className:"w-full border-gray-300 rounded-md border p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Idade Presumida?"}),i.jsxs("div",{className:"flex gap-4 mt-2",children:[i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"presumed_age",value:"Sim",checked:_.presumed_age==="Sim",onChange:C,className:"mr-2"})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"presumed_age",value:"No",checked:_.presumed_age==="No",onChange:C,className:"mr-2"})," No"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Data Nascimento"}),i.jsx("input",{type:"date",name:"birth_date",value:_.birth_date,onChange:C,className:"w-full border-gray-300 rounded-md border p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Sexo"}),i.jsxs("select",{name:"sex",value:_.sex,onChange:C,className:"w-full border-gray-300 rounded-md border p-2",children:[i.jsx("option",{value:"Selecionar",children:"Selecionar"}),i.jsx("option",{value:"M",children:"Masculino"}),i.jsx("option",{value:"F",children:"Feminino"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Identidade Gnero"}),i.jsxs("select",{name:"gender_identity",value:_.gender_identity,onChange:C,className:"w-full border-gray-300 rounded-md border p-2",children:[i.jsx("option",{value:"Selecionar",children:"Selecionar"}),i.jsx("option",{value:"Cisgnero",children:"Cisgnero"}),i.jsx("option",{value:"Transgnero",children:"Transgnero"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Raa/Cor"}),i.jsxs("select",{name:"race_color",value:_.race_color,onChange:C,className:"w-full border-gray-300 rounded-md border p-2",children:[i.jsx("option",{value:"Selecionar",children:"Selecionar"}),i.jsx("option",{value:"Branca",children:"Branca"}),i.jsx("option",{value:"Preta",children:"Preta"}),i.jsx("option",{value:"Parda",children:"Parda"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Horrio Nasc."}),i.jsx("input",{type:"time",name:"birth_time",value:_.birth_time,onChange:C,className:"w-full border-gray-300 rounded-md border p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Estudando?"}),i.jsxs("div",{className:"flex gap-4 mt-2",children:[i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"is_studying",value:"Sim",checked:_.is_studying==="Sim",onChange:C,className:"mr-2"})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"is_studying",value:"No",checked:_.is_studying==="No",onChange:C,className:"mr-2"})," No"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Instruo"}),i.jsxs("select",{name:"education_level",value:_.education_level,onChange:C,className:"w-full border-gray-300 rounded-md border p-2",children:[i.jsx("option",{value:"Selecionar",children:"Selecionar"}),i.jsx("option",{value:"Fundamental Incompleto",children:"Fundamental Incompleto"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Registrado por"}),i.jsxs("select",{name:"registered_by",value:_.registered_by,onChange:C,className:"w-full border-gray-300 rounded-md border p-2",children:[i.jsx("option",{value:"Selecionar",children:"Selecionar"}),i.jsx("option",{value:"Pai e Me",children:"Pai e Me"}),i.jsx("option",{value:"Apenas Me",children:"Apenas Me"})]})]})]})]}),d==="family"&&i.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[i.jsx("h3",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:"Pai/Me 1"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("input",{type:"text",name:"mother_name",value:_.mother_name,onChange:C,className:"w-full border-gray-300 rounded-md border p-2",placeholder:"Nome"}),i.jsx("input",{type:"text",name:"mother_father_1_cpf",value:_.mother_father_1_cpf,onChange:C,className:"w-full border-gray-300 rounded-md border p-2",placeholder:"CPF"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("span",{className:"text-sm font-bold",children:"Falecido?"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"mother_father_1_deceased",value:"Sim",checked:_.mother_father_1_deceased==="Sim",onChange:C,className:"mr-1"}),"Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"mother_father_1_deceased",value:"No",checked:_.mother_father_1_deceased==="No",onChange:C,className:"mr-1"}),"No"]})]}),i.jsx("input",{type:"text",name:"grandparent_1_line_1",value:_.grandparent_1_line_1,onChange:C,className:"w-full border-gray-300 rounded-md border p-2",placeholder:"Av() 1"}),i.jsx("input",{type:"text",name:"grandparent_2_line_1",value:_.grandparent_2_line_1,onChange:C,className:"w-full border-gray-300 rounded-md border p-2",placeholder:"Av() 2"})]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[i.jsx("h3",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:"Pai/Me 2"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex gap-4 mb-2",children:[i.jsx("span",{className:"text-sm font-bold",children:"H pai/me 2?"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"has_mother_father_2",value:"Sim",checked:_.has_mother_father_2==="Sim",onChange:C,className:"mr-1"}),"Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"has_mother_father_2",value:"No",checked:_.has_mother_father_2==="No",onChange:C,className:"mr-1"}),"No"]})]}),_.has_mother_father_2==="Sim"&&i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"text",name:"mother_father_2_name",value:_.mother_father_2_name,onChange:C,className:"w-full border-gray-300 rounded-md border p-2",placeholder:"Nome"}),i.jsx("input",{type:"text",name:"mother_father_2_cpf",value:_.mother_father_2_cpf,onChange:C,className:"w-full border-gray-300 rounded-md border p-2",placeholder:"CPF"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("span",{className:"text-sm font-bold",children:"Falecido?"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"mother_father_2_deceased",value:"Sim",checked:_.mother_father_2_deceased==="Sim",onChange:C,className:"mr-1"}),"Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"mother_father_2_deceased",value:"No",checked:_.mother_father_2_deceased==="No",onChange:C,className:"mr-1"}),"No"]})]}),i.jsx("input",{type:"text",name:"grandparent_1_line_2",value:_.grandparent_1_line_2,onChange:C,className:"w-full border-gray-300 rounded-md border p-2",placeholder:"Av() 1"}),i.jsx("input",{type:"text",name:"grandparent_2_line_2",value:_.grandparent_2_line_2,onChange:C,className:"w-full border-gray-300 rounded-md border p-2",placeholder:"Av() 2"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-1",children:"Possui Irmos?"}),i.jsxs("select",{name:"has_siblings",value:_.has_siblings,onChange:C,className:"w-full border p-2 rounded",children:[i.jsx("option",{value:"Selecionar",children:"Selecionar"}),i.jsx("option",{value:"Sim",children:"Sim"}),i.jsx("option",{value:"No",children:"No"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-1",children:"Possui Filhos?"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"has_children",value:"Sim",checked:_.has_children==="Sim",onChange:C,className:"mr-1"}),"Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"has_children",value:"No",checked:_.has_children==="No",onChange:C,className:"mr-1"}),"No"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-1",children:"Possui PIA?"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"has_pia",value:"Sim",checked:_.has_pia==="Sim",onChange:C,className:"mr-1"}),"Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"has_pia",value:"No",checked:_.has_pia==="No",onChange:C,className:"mr-1"}),"No"]})]})]})]})]}),d==="health"&&i.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[i.jsx("label",{className:"block text-sm font-bold mb-2",children:"Possui diagnsticos?"}),i.jsxs("select",{name:"has_health_diagnosis",value:_.has_health_diagnosis,onChange:C,className:"w-full border p-2 rounded mb-2",children:[i.jsx("option",{value:"Selecionar",children:"Selecionar"}),i.jsx("option",{value:"Sim",children:"Sim"}),i.jsx("option",{value:"No",children:"No"})]}),_.has_health_diagnosis==="Sim"&&i.jsx("div",{className:"grid grid-cols-2 gap-2 pl-2 border-l-2 border-[#458C57]",children:["Diabetes","Hipertenso","Sndrome Alcolica Fetal","Hidrocefalia","Outra(s)"].map(F=>{var ne;return i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("input",{type:"checkbox",checked:(ne=_.health_diagnosis_details)==null?void 0:ne.includes(F),onChange:de=>k("health_diagnosis_details",F,de.target.checked),className:"mr-2"}),F]},F)})})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[i.jsx("label",{className:"block text-sm font-bold mb-2",children:"Deficincia Fsica?"}),i.jsxs("select",{name:"has_physical_disability",value:_.has_physical_disability,onChange:C,className:"w-full border p-2 rounded mb-2",children:[i.jsx("option",{value:"Selecionar",children:"Selecionar"}),i.jsx("option",{value:"Sim",children:"Sim"}),i.jsx("option",{value:"No",children:"No"})]}),_.has_physical_disability==="Sim"&&i.jsx("div",{className:"grid grid-cols-2 gap-2 pl-2 border-l-2 border-[#458C57]",children:["Leve","Moderada","Grave","Cadeirante","Nanismo"].map(F=>{var ne;return i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("input",{type:"checkbox",checked:(ne=_.physical_disability_details)==null?void 0:ne.includes(F),onChange:de=>k("physical_disability_details",F,de.target.checked),className:"mr-2"}),F]},F)})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-1",children:"Uso de Medicao?"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"medication_use",value:"Sim",checked:_.medication_use==="Sim",onChange:C,className:"mr-1"}),"Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"medication_use",value:"No",checked:_.medication_use==="No",onChange:C,className:"mr-1"}),"No"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-1",children:"Possui Laudo?"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"has_medical_report",value:"Sim",checked:_.has_medical_report==="Sim",onChange:C,className:"mr-1"}),"Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"has_medical_report",value:"No",checked:_.has_medical_report==="No",onChange:C,className:"mr-1"}),"No"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-1",children:"Dependncia Qumica?"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"has_chemical_dependency",value:"Sim",checked:_.has_chemical_dependency==="Sim",onChange:C,className:"mr-1"}),"Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"has_chemical_dependency",value:"No",checked:_.has_chemical_dependency==="No",onChange:C,className:"mr-1"}),"No"]})]})]})]})]}),d==="process"&&i.jsx("div",{className:"space-y-6 animate-in fade-in",children:i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[i.jsx("h3",{className:"font-bold text-gray-800 mb-4 border-b pb-2",children:"1 Processo"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-1",children:"Tipo de Processo"}),i.jsxs("select",{name:"process_type",value:_.process_type,onChange:C,className:"w-full border p-2 rounded",children:[i.jsx("option",{value:"Selecionar",children:"Selecionar"}),i.jsx("option",{value:"Medida Protetiva",children:"Medida Protetiva"}),i.jsx("option",{value:"Destituio Poder Familiar",children:"Destituio Poder Familiar"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-1",children:"Estado"}),i.jsxs("select",{name:"process_state",value:_.process_state,onChange:C,className:"w-full border p-2 rounded",children:[i.jsx("option",{value:"Selecionar",children:"Selecionar"}),i.jsx("option",{value:"PR",children:"Paran"}),i.jsx("option",{value:"SP",children:"So Paulo"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-1",children:"rgo Julgador"}),i.jsxs("select",{name:"judging_body",value:_.judging_body,onChange:C,className:"w-full border p-2 rounded",children:[i.jsx("option",{value:"Selecionar",children:"Selecionar"}),i.jsx("option",{value:"Vara Infncia",children:"Vara Infncia"}),i.jsx("option",{value:"Vara Famlia",children:"Vara Famlia"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-1",children:"Nmero do Processo"}),i.jsx("input",{type:"text",name:"process_number",value:_.process_number,onChange:C,className:"w-full border p-2 rounded",placeholder:"Nmero"})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-bold mb-2",children:"Medida Protetiva"}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto border p-2 bg-white rounded",children:T.map((F,ne)=>{var de;return i.jsxs("label",{className:"flex items-start text-xs p-1 hover:bg-gray-50",children:[i.jsx("input",{type:"checkbox",checked:(de=_.protective_measures)==null?void 0:de.includes(F),onChange:W=>k("protective_measures",F,W.target.checked),className:"mt-0.5 mr-2"}),F]},ne)})})]})]})}),d==="others"&&i.jsx("div",{className:"space-y-6 animate-in fade-in",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-1",children:"Possui benefcio?"}),i.jsxs("div",{className:"flex gap-4 mb-2",children:[i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"has_gov_benefit",value:"Sim",checked:_.has_gov_benefit==="Sim",onChange:C,className:"mr-1"}),"Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"has_gov_benefit",value:"No",checked:_.has_gov_benefit==="No",onChange:C,className:"mr-1"}),"No"]})]}),_.has_gov_benefit==="Sim"&&i.jsxs("select",{name:"gov_benefit_type",value:_.gov_benefit_type,onChange:C,className:"w-full border p-2 rounded",children:[i.jsx("option",{value:"Selecionar",children:"Selecionar"}),i.jsx("option",{value:"BPC",children:"BPC"}),i.jsx("option",{value:"Penso",children:"Penso"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold mb-1",children:"Ameaa de Morte?"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"has_death_threat",value:"Sim",checked:_.has_death_threat==="Sim",onChange:C,className:"mr-1"}),"Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"has_death_threat",value:"No",checked:_.has_death_threat==="No",onChange:C,className:"mr-1"}),"No"]})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold mb-1",children:"Recebe Visita?"}),i.jsxs("div",{className:"flex gap-4 mb-2",children:[i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"receives_visits",value:"Sim",checked:_.receives_visits==="Sim",onChange:C,className:"mr-1"}),"Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"receives_visits",value:"No",checked:_.receives_visits==="No",onChange:C,className:"mr-1"}),"No"]})]}),_.receives_visits==="Sim"&&i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",name:"visitor_name",value:_.visitor_name,onChange:C,className:"border p-2 rounded",placeholder:"Visitante"}),i.jsx("input",{type:"date",name:"last_visit_date",value:_.last_visit_date,onChange:C,className:"border p-2 rounded"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold mb-1",children:"Observaes"}),i.jsx("textarea",{name:"observations",value:_.observations,onChange:C,className:"w-full border p-2 rounded",rows:4,maxLength:1e3,placeholder:"Observaes gerais..."}),i.jsxs("div",{className:"text-right text-xs text-gray-500",children:[((R=_.observations)==null?void 0:R.length)||0," / 1000"]})]})]})})]}),i.jsxs("div",{className:"flex justify-end pt-4 gap-3 sticky bottom-0 bg-gray-50 p-4 border-t border-gray-200 shadow-inner",children:[i.jsx("button",{type:"button",onClick:()=>e("/"),className:"bg-white py-2 px-6 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:a,className:"inline-flex justify-center py-2 px-6 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-[#458C57] hover:bg-[#367044] disabled:opacity-50",children:a?"Salvando...":i.jsxs(i.Fragment,{children:[i.jsx(cc,{className:"w-4 h-4 mr-2"})," Salvar Cadastro"]})})]})]})]})},S2=({isDemo:n})=>{const[e,a]=ae.useState([]),[s,l]=ae.useState(!0),[c,d]=ae.useState(""),h=localStorage.getItem("admin_viewing_institution_id"),[f,p]=ae.useState(null),[v,j]=ae.useState({summary:"",evolution:"",health_status:"",family_situation:"",referrals:"",conclusion:"",status:"draft",report_date:new Date().toISOString().split("T")[0]}),[_,y]=ae.useState(!1),[C,k]=ae.useState(!1);ae.useEffect(()=>{O()},[n]);const O=async()=>{if(l(!0),n){setTimeout(()=>{a([{id:"1",full_name:"Ana Clara Souza",sex:"F",birth_date:"2015-05-10",entry_date:"2023-01-15",institution_id:"demo",notes:"",autos_number:"0001234-56.2023.8.16.0000",admission_reason_types:["Demo"],created_at:""},{id:"2",full_name:"Marcos Vincius Pereira",sex:"M",birth_date:"2010-11-20",entry_date:"2023-08-10",institution_id:"demo",notes:"",autos_number:"0005555-12.2023.8.16.0000",created_at:""},{id:"3",full_name:"Gabriel Santos Oliveira",sex:"M",birth_date:"2012-07-15",entry_date:"2022-05-10",institution_id:"demo",notes:"",autos_number:"0009999-99.2022.8.16.0000",created_at:""}]),l(!1)},300);return}let de=h;if(!de){const{data:{user:K}}=await Ge.auth.getUser();if(K){const{data:we}=await Ge.from("profiles").select("institution_id").eq("id",K.id).single();de=we==null?void 0:we.institution_id}}if(!de){a([]),l(!1);return}const{data:W,error:se}=await Ge.from("children").select("*").eq("institution_id",de).order("full_name");!se&&W&&a(W),l(!1)},L=async de=>{if(p(de),y(!0),n){setTimeout(()=>{de.id==="1"?j({report_date:new Date().toISOString().split("T")[0],status:"finalized",summary:"Acolhida em 15/01/2023, proveniente do Conselho Tutelar Boa Vista, devido a situao de negligncia severa. A criana chegou com poucos pertences e apresentava sinais de desnutrio leve.",health_status:"Acompanhamento nutricional iniciado na UBS prxima. Vacinao foi regularizada em 20/01. Apresenta boa sade geral, sem queixas agudas no momento. Sono tranquilo.",evolution:"Ana Clara tem demonstrado boa adaptao  rotina da casa. Inicialmente tmida, agora interage bem com as outras crianas e cuidadores. Participa ativamente das atividades escolares e recreativas. Demonstra carinho pela equipe tcnica.",family_situation:"A genitora realizou 2 visitas no ltimo ms. O vnculo parece preservado, porm a me ainda no demonstra condies habitacionais para o retorno. O pai no foi localizado at o momento. Av materna manifestou interesse mas reside em outro estado.",referrals:`1. Continuidade no acompanhamento psicolgico quinzenal.
2. Insero em oficina de artes no contraturno escolar.
3. Busca ativa da famlia extensa paterna.`,conclusion:"Sugere-se a manuteno do acolhimento enquanto a equipe tcnica realiza a avaliao psicossocial da av materna e aguarda a estabilizao da moradia da genitora. Criana protegida e com direitos garantidos na instituio."}):j({report_date:new Date().toISOString().split("T")[0],status:"draft",summary:"Adolescente acolhido recentemente. Histrico de evaso escolar.",health_status:"Exames admissionais realizados. Sem alteraes.",evolution:"Resistente s regras da casa nos primeiros dias.",family_situation:"",referrals:"",conclusion:""}),y(!1)},400);return}const{data:W,error:se}=await Ge.from("technical_reports").select("*").eq("child_id",de.id).single();j(W||{summary:"",evolution:"",health_status:"",family_situation:"",referrals:"",conclusion:"",status:"draft",report_date:new Date().toISOString().split("T")[0]}),y(!1)},T=()=>{p(null),j({})},R=de=>{const{name:W,value:se}=de.target;j(K=>({...K,[W]:se}))},F=async de=>{if(de.preventDefault(),k(!0),n){setTimeout(()=>{alert("Relatrio salvo com sucesso! (Simulao)"),k(!1),T()},600);return}try{const{data:{user:W}}=await Ge.auth.getUser();if(!W||!f)throw new Error("Erro de autenticao");const{data:se}=await Ge.from("profiles").select("institution_id").eq("id",W.id).single();if(!se)throw new Error("Perfil invlido");const K={...v,child_id:f.id,institution_id:se.institution_id};if(v.id){const{error:we}=await Ge.from("technical_reports").update(K).eq("id",v.id);if(we)throw we}else{const{error:we}=await Ge.from("technical_reports").insert([K]);if(we)throw we}k(!1),T()}catch(W){console.error(W),alert("Erro ao salvar relatrio."),k(!1)}},ne=e.filter(de=>de.full_name.toLowerCase().includes(c.toLowerCase()));return i.jsxs("div",{className:"max-w-7xl mx-auto h-full flex flex-col",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Relatrios Tcnicos"}),i.jsx("p",{className:"text-slate-500",children:"Selecione uma criana para visualizar, editar ou emitir pareceres tcnicos."})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 mb-6",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Md,{className:"absolute left-3 top-3 h-5 w-5 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Buscar acolhido para relatrio...",className:"pl-10 w-full p-2.5 border border-slate-300 rounded-lg text-slate-900 bg-white focus:ring-2 focus:ring-[#458C57] focus:border-transparent transition-shadow shadow-sm",value:c,onChange:de=>d(de.target.value)})]}),s?i.jsx("div",{className:"text-center p-8 text-slate-500",children:"Carregando lista..."}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[ne.map(de=>i.jsxs("button",{onClick:()=>L(de),className:"flex items-center p-4 border border-slate-200 rounded-lg hover:border-[#63BF7A] hover:bg-[#88F2A2]/10 hover:shadow-md transition-all text-left group bg-white",children:[i.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold mr-4 text-lg border-2 overflow-hidden ${de.sex==="F"?"bg-pink-50 text-pink-600 border-pink-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:de.full_name.charAt(0)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-base font-bold text-slate-800 truncate group-hover:text-[#458C57]",children:de.full_name}),i.jsxs("p",{className:"text-xs text-slate-500 truncate flex items-center mt-1",children:[i.jsx(lc,{size:12,className:"mr-1"}),"Autos: ",de.autos_number||"N/A"]})]}),i.jsx("div",{className:"p-2 bg-slate-50 rounded-full group-hover:bg-[#88F2A2]/30 transition-colors",children:i.jsx(lp,{className:"w-5 h-5 text-slate-400 group-hover:text-[#458C57]"})})]},de.id)),ne.length===0&&i.jsx("div",{className:"col-span-full text-center text-slate-500 py-8 bg-slate-50 rounded-lg border border-dashed border-slate-300",children:"Nenhum acolhido encontrado para os termos pesquisados."})]})]}),f&&i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl h-[90vh] flex flex-col border border-slate-200",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-200 bg-slate-50 rounded-t-xl",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Relatrio Tcnico"}),i.jsx("span",{className:"px-2 py-0.5 bg-[#88F2A2]/20 text-[#458C57] text-xs font-bold rounded border border-[#88F2A2]/40 uppercase",children:"Confidencial"})]}),i.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Referente a: ",i.jsx("strong",{className:"text-slate-900",children:f.full_name})]})]}),i.jsx("button",{onClick:T,className:"text-slate-400 hover:text-slate-600 hover:bg-slate-200 p-2 rounded-full transition-colors",children:i.jsx(Wi,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"p-8 overflow-y-auto flex-1 bg-white",children:_?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-[#458C57]"}),i.jsx("p",{className:"text-slate-500",children:"Buscando histrico..."})]}):i.jsxs("form",{id:"report-form",onSubmit:F,className:"space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 bg-slate-50 p-5 rounded-lg border border-slate-200",children:[i.jsxs("div",{className:"md:col-span-4",children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Data do Relatrio"}),i.jsx("input",{type:"date",name:"report_date",value:v.report_date,onChange:R,className:"w-full border border-slate-300 rounded-md p-2.5 text-slate-900 bg-white focus:ring-2 focus:ring-[#458C57] focus:border-transparent shadow-sm"})]}),i.jsxs("div",{className:"md:col-span-4",children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Status do Documento"}),i.jsxs("select",{name:"status",value:v.status,onChange:R,className:`w-full border rounded-md p-2.5 text-slate-900 bg-white focus:ring-2 focus:ring-[#458C57] focus:border-transparent shadow-sm font-medium ${v.status==="finalized"?"border-green-300 bg-green-50 text-green-900":"border-amber-300 bg-amber-50 text-amber-900"}`,children:[i.jsx("option",{value:"draft",children:" Rascunho (Em edio)"}),i.jsx("option",{value:"finalized",children:" Finalizado (Pronto para envio)"})]})]}),i.jsx("div",{className:"md:col-span-4 flex items-end",children:i.jsx("div",{className:"text-xs text-slate-500 pb-3",children:v.status==="finalized"?i.jsxs("span",{className:"flex items-center text-green-700",children:[i.jsx(op,{size:14,className:"mr-1"})," Documento vlido legalmente"]}):i.jsxs("span",{className:"flex items-center text-amber-600",children:[i.jsx(M0,{size:14,className:"mr-1"})," Edio pendente"]})})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"block text-sm font-bold text-slate-800 mb-2 uppercase tracking-wide",children:"1. Resumo do Caso / Contexto Inicial"}),i.jsx("textarea",{name:"summary",rows:4,value:v.summary||"",onChange:R,className:"w-full border border-slate-300 rounded-lg p-3 text-slate-900 bg-white focus:ring-2 focus:ring-[#458C57] focus:border-transparent shadow-sm",placeholder:"Descreva o contexto de entrada, motivo do acolhimento e condies iniciais..."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-800 mb-2 uppercase tracking-wide",children:"2. Situao de Sade"}),i.jsx("textarea",{name:"health_status",rows:5,value:v.health_status||"",onChange:R,className:"w-full border border-slate-300 rounded-lg p-3 text-slate-900 bg-white focus:ring-2 focus:ring-[#458C57] focus:border-transparent shadow-sm",placeholder:"Vacinao, doenas pr-existentes, tratamentos em curso..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-800 mb-2 uppercase tracking-wide",children:"3. Evoluo no Acolhimento"}),i.jsx("textarea",{name:"evolution",rows:5,value:v.evolution||"",onChange:R,className:"w-full border border-slate-300 rounded-lg p-3 text-slate-900 bg-white focus:ring-2 focus:ring-[#458C57] focus:border-transparent shadow-sm",placeholder:"Adaptao, comportamento, rotina, escolaridade..."})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-800 mb-2 uppercase tracking-wide",children:"4. Situao Familiar e Visitas"}),i.jsx("textarea",{name:"family_situation",rows:4,value:v.family_situation||"",onChange:R,className:"w-full border border-slate-300 rounded-lg p-3 text-slate-900 bg-white focus:ring-2 focus:ring-[#458C57] focus:border-transparent shadow-sm",placeholder:"Frequncia de visitas, qualidade do vnculo, situao dos genitores..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-800 mb-2 uppercase tracking-wide",children:"5. Encaminhamentos Realizados"}),i.jsx("textarea",{name:"referrals",rows:3,value:v.referrals||"",onChange:R,className:"w-full border border-slate-300 rounded-lg p-3 text-slate-900 bg-white focus:ring-2 focus:ring-[#458C57] focus:border-transparent shadow-sm",placeholder:"Encaminhamentos para rede (Sade, Educao, CRAS, CREAS)..."})]}),i.jsxs("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200",children:[i.jsx("label",{className:"block text-sm font-bold text-slate-900 mb-2 uppercase tracking-wide",children:"6. Parecer Tcnico Final / Concluso"}),i.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Sntese tcnica indicando sugestes para o plano de ao (Reintegrao, Manuteno do Acolhimento, etc)."}),i.jsx("textarea",{name:"conclusion",rows:5,value:v.conclusion||"",onChange:R,className:"w-full border border-slate-300 rounded-lg p-3 text-slate-900 bg-white focus:ring-2 focus:ring-[#458C57] focus:border-transparent shadow-sm",placeholder:"Concluso tcnica..."})]})]})]})}),i.jsxs("div",{className:"p-6 border-t border-slate-200 flex justify-end bg-slate-50 rounded-b-xl gap-3",children:[i.jsx("button",{type:"button",onClick:T,className:"px-5 py-2.5 border border-slate-300 rounded-lg text-slate-700 bg-white hover:bg-slate-50 font-semibold shadow-sm transition-colors",children:"Cancelar"}),i.jsx("button",{type:"submit",form:"report-form",disabled:C||_,className:"px-5 py-2.5 bg-[#458C57] text-white rounded-lg hover:bg-[#367044] font-semibold flex items-center shadow-md shadow-[#404040]/10 transition-all transform active:scale-95",children:C?"Salvando...":i.jsxs(i.Fragment,{children:[i.jsx(cc,{className:"w-4 h-4 mr-2"})," Salvar Relatrio"]})})]})]})})]})},w3="modulepreload",_3=function(n){return"/"+n},A2={},Xm=function(e,a,s){let l=Promise.resolve();if(a&&a.length>0){let d=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));l=d(a.map(p=>{if(p=_3(p),p in A2)return;A2[p]=!0;const v=p.endsWith(".css"),j=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${j}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":w3,v||(_.as="script"),_.crossOrigin="",_.href=p,f&&_.setAttribute("nonce",f),document.head.appendChild(_),v)return new Promise((y,C)=>{_.addEventListener("load",y),_.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})};function Da(n){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(n)}var ji=Uint8Array,As=Uint16Array,hp=Int32Array,fp=new ji([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mp=new ji([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),C2=new ji([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Dx=function(n,e){for(var a=new As(31),s=0;s<31;++s)a[s]=e+=1<<n[s-1];for(var l=new hp(a[30]),s=1;s<30;++s)for(var c=a[s];c<a[s+1];++c)l[c]=c-a[s]<<5|s;return{b:a,r:l}},Mx=Dx(fp,2),N3=Mx.b,P0=Mx.r;N3[28]=258,P0[258]=28;var j3=Dx(mp,0),E2=j3.r,I0=new As(32768);for(var tn=0;tn<32768;++tn){var gl=(tn&43690)>>1|(tn&21845)<<1;gl=(gl&52428)>>2|(gl&13107)<<2,gl=(gl&61680)>>4|(gl&3855)<<4,I0[tn]=((gl&65280)>>8|(gl&255)<<8)>>1}var vd=(function(n,e,a){for(var s=n.length,l=0,c=new As(e);l<s;++l)n[l]&&++c[n[l]-1];var d=new As(e);for(l=1;l<e;++l)d[l]=d[l-1]+c[l-1]<<1;var h;if(a){h=new As(1<<e);var f=15-e;for(l=0;l<s;++l)if(n[l])for(var p=l<<4|n[l],v=e-n[l],j=d[n[l]-1]++<<v,_=j|(1<<v)-1;j<=_;++j)h[I0[j]>>f]=p}else for(h=new As(s),l=0;l<s;++l)n[l]&&(h[l]=I0[d[n[l]-1]++]>>15-n[l]);return h}),uc=new ji(288);for(var tn=0;tn<144;++tn)uc[tn]=8;for(var tn=144;tn<256;++tn)uc[tn]=9;for(var tn=256;tn<280;++tn)uc[tn]=7;for(var tn=280;tn<288;++tn)uc[tn]=8;var sf=new ji(32);for(var tn=0;tn<32;++tn)sf[tn]=5;var S3=vd(uc,9,0),A3=vd(sf,5,0),Px=function(n){return(n+7)/8|0},C3=function(n,e,a){return(a==null||a>n.length)&&(a=n.length),new ji(n.subarray(e,a))},Eo=function(n,e,a){a<<=e&7;var s=e/8|0;n[s]|=a,n[s+1]|=a>>8},md=function(n,e,a){a<<=e&7;var s=e/8|0;n[s]|=a,n[s+1]|=a>>8,n[s+2]|=a>>16},Zm=function(n,e){for(var a=[],s=0;s<n.length;++s)n[s]&&a.push({s,f:n[s]});var l=a.length,c=a.slice();if(!l)return{t:Ux,l:0};if(l==1){var d=new ji(a[0].s+1);return d[a[0].s]=1,{t:d,l:1}}a.sort(function(ne,de){return ne.f-de.f}),a.push({s:-1,f:25001});var h=a[0],f=a[1],p=0,v=1,j=2;for(a[0]={s:-1,f:h.f+f.f,l:h,r:f};v!=l-1;)h=a[a[p].f<a[j].f?p++:j++],f=a[p!=v&&a[p].f<a[j].f?p++:j++],a[v++]={s:-1,f:h.f+f.f,l:h,r:f};for(var _=c[0].s,s=1;s<l;++s)c[s].s>_&&(_=c[s].s);var y=new As(_+1),C=U0(a[v-1],y,0);if(C>e){var s=0,k=0,O=C-e,L=1<<O;for(c.sort(function(de,W){return y[W.s]-y[de.s]||de.f-W.f});s<l;++s){var T=c[s].s;if(y[T]>e)k+=L-(1<<C-y[T]),y[T]=e;else break}for(k>>=O;k>0;){var R=c[s].s;y[R]<e?k-=1<<e-y[R]++-1:++s}for(;s>=0&&k;--s){var F=c[s].s;y[F]==e&&(--y[F],++k)}C=e}return{t:new ji(y),l:C}},U0=function(n,e,a){return n.s==-1?Math.max(U0(n.l,e,a+1),U0(n.r,e,a+1)):e[n.s]=a},k2=function(n){for(var e=n.length;e&&!n[--e];);for(var a=new As(++e),s=0,l=n[0],c=1,d=function(f){a[s++]=f},h=1;h<=e;++h)if(n[h]==l&&h!=e)++c;else{if(!l&&c>2){for(;c>138;c-=138)d(32754);c>2&&(d(c>10?c-11<<5|28690:c-3<<5|12305),c=0)}else if(c>3){for(d(l),--c;c>6;c-=6)d(8304);c>2&&(d(c-3<<5|8208),c=0)}for(;c--;)d(l);c=1,l=n[h]}return{c:a.subarray(0,s),n:e}},pd=function(n,e){for(var a=0,s=0;s<e.length;++s)a+=n[s]*e[s];return a},Ix=function(n,e,a){var s=a.length,l=Px(e+2);n[l]=s&255,n[l+1]=s>>8,n[l+2]=n[l]^255,n[l+3]=n[l+1]^255;for(var c=0;c<s;++c)n[l+c+4]=a[c];return(l+4+s)*8},L2=function(n,e,a,s,l,c,d,h,f,p,v){Eo(e,v++,a),++l[256];for(var j=Zm(l,15),_=j.t,y=j.l,C=Zm(c,15),k=C.t,O=C.l,L=k2(_),T=L.c,R=L.n,F=k2(k),ne=F.c,de=F.n,W=new As(19),se=0;se<T.length;++se)++W[T[se]&31];for(var se=0;se<ne.length;++se)++W[ne[se]&31];for(var K=Zm(W,7),we=K.t,P=K.l,$=19;$>4&&!we[C2[$-1]];--$);var oe=p+5<<3,ue=pd(l,uc)+pd(c,sf)+d,Ce=pd(l,_)+pd(c,k)+d+14+3*$+pd(W,we)+2*W[16]+3*W[17]+7*W[18];if(f>=0&&oe<=ue&&oe<=Ce)return Ix(e,v,n.subarray(f,f+p));var re,ge,me,Oe;if(Eo(e,v,1+(Ce<ue)),v+=2,Ce<ue){re=vd(_,y,0),ge=_,me=vd(k,O,0),Oe=k;var xe=vd(we,P,0);Eo(e,v,R-257),Eo(e,v+5,de-1),Eo(e,v+10,$-4),v+=14;for(var se=0;se<$;++se)Eo(e,v+3*se,we[C2[se]]);v+=3*$;for(var H=[T,ne],S=0;S<2;++S)for(var I=H[S],se=0;se<I.length;++se){var q=I[se]&31;Eo(e,v,xe[q]),v+=we[q],q>15&&(Eo(e,v,I[se]>>5&127),v+=I[se]>>12)}}else re=S3,ge=uc,me=A3,Oe=sf;for(var se=0;se<h;++se){var G=s[se];if(G>255){var q=G>>18&31;md(e,v,re[q+257]),v+=ge[q+257],q>7&&(Eo(e,v,G>>23&31),v+=fp[q]);var ie=G&31;md(e,v,me[ie]),v+=Oe[ie],ie>3&&(md(e,v,G>>5&8191),v+=mp[ie])}else md(e,v,re[G]),v+=ge[G]}return md(e,v,re[256]),v+ge[256]},E3=new hp([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ux=new ji(0),k3=function(n,e,a,s,l,c){var d=c.z||n.length,h=new ji(s+d+5*(1+Math.ceil(d/7e3))+l),f=h.subarray(s,h.length-l),p=c.l,v=(c.r||0)&7;if(e){v&&(f[0]=c.r>>3);for(var j=E3[e-1],_=j>>13,y=j&8191,C=(1<<a)-1,k=c.p||new As(32768),O=c.h||new As(C+1),L=Math.ceil(a/3),T=2*L,R=function(ot){return(n[ot]^n[ot+1]<<L^n[ot+2]<<T)&C},F=new hp(25e3),ne=new As(288),de=new As(32),W=0,se=0,K=c.i||0,we=0,P=c.w||0,$=0;K+2<d;++K){var oe=R(K),ue=K&32767,Ce=O[oe];if(k[ue]=Ce,O[oe]=ue,P<=K){var re=d-K;if((W>7e3||we>24576)&&(re>423||!p)){v=L2(n,f,0,F,ne,de,se,we,$,K-$,v),we=W=se=0,$=K;for(var ge=0;ge<286;++ge)ne[ge]=0;for(var ge=0;ge<30;++ge)de[ge]=0}var me=2,Oe=0,xe=y,H=ue-Ce&32767;if(re>2&&oe==R(K-H))for(var S=Math.min(_,re)-1,I=Math.min(32767,K),q=Math.min(258,re);H<=I&&--xe&&ue!=Ce;){if(n[K+me]==n[K+me-H]){for(var G=0;G<q&&n[K+G]==n[K+G-H];++G);if(G>me){if(me=G,Oe=H,G>S)break;for(var ie=Math.min(H,G-2),he=0,ge=0;ge<ie;++ge){var ke=K-H+ge&32767,ce=k[ke],B=ke-ce&32767;B>he&&(he=B,Ce=ke)}}}ue=Ce,Ce=k[ue],H+=ue-Ce&32767}if(Oe){F[we++]=268435456|P0[me]<<18|E2[Oe];var Ae=P0[me]&31,Ze=E2[Oe]&31;se+=fp[Ae]+mp[Ze],++ne[257+Ae],++de[Ze],P=K+me,++W}else F[we++]=n[K],++ne[n[K]]}}for(K=Math.max(K,P);K<d;++K)F[we++]=n[K],++ne[n[K]];v=L2(n,f,p,F,ne,de,se,we,$,K-$,v),p||(c.r=v&7|f[v/8|0]<<3,v-=7,c.h=O,c.p=k,c.i=K,c.w=P)}else{for(var K=c.w||0;K<d+p;K+=65535){var tt=K+65535;tt>=d&&(f[v/8|0]=p,tt=d),v=Ix(f,v+1,n.subarray(K,tt))}c.i=d}return C3(h,0,s+Px(v)+l)},Bx=function(){var n=1,e=0;return{p:function(a){for(var s=n,l=e,c=a.length|0,d=0;d!=c;){for(var h=Math.min(d+2655,c);d<h;++d)l+=s+=a[d];s=(s&65535)+15*(s>>16),l=(l&65535)+15*(l>>16)}n=s,e=l},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},L3=function(n,e,a,s,l){if(!l&&(l={l:1},e.dictionary)){var c=e.dictionary.subarray(-32768),d=new ji(c.length+n.length);d.set(c),d.set(n,c.length),n=d,l.w=c.length}return k3(n,e.level==null?6:e.level,e.mem==null?l.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,a,s,l)},qx=function(n,e,a){for(;a;++e)n[e]=a,a>>>=8},T3=function(n,e){var a=e.level,s=a==0?0:a<6?1:a==9?3:2;if(n[0]=120,n[1]=s<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var l=Bx();l.p(e.dictionary),qx(n,2,l.d())}};function B0(n,e){e||(e={});var a=Bx();a.p(n);var s=L3(n,e,e.dictionary?6:2,4);return T3(s,e),qx(s,s.length-4,a.d()),s}var O3=typeof TextDecoder<"u"&&new TextDecoder,R3=0;try{O3.decode(Ux,{stream:!0}),R3=1}catch{}function D3(n){if(Array.isArray(n))return n}function M3(n,e){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var s,l,c,d,h=[],f=!0,p=!1;try{if(c=(a=a.call(n)).next,e!==0)for(;!(f=(s=c.call(a)).done)&&(h.push(s.value),h.length!==e);f=!0);}catch(v){p=!0,l=v}finally{try{if(!f&&a.return!=null&&(d=a.return(),Object(d)!==d))return}finally{if(p)throw l}}return h}}function T2(n,e){(e==null||e>n.length)&&(e=n.length);for(var a=0,s=Array(e);a<e;a++)s[a]=n[a];return s}function P3(n,e){if(n){if(typeof n=="string")return T2(n,e);var a={}.toString.call(n).slice(8,-1);return a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set"?Array.from(n):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?T2(n,e):void 0}}function I3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O2(n,e){return D3(n)||M3(n,e)||P3(n,e)||I3()}function R2(n,e="utf8"){return new TextDecoder(e).decode(n)}const U3=new TextEncoder;function B3(n){return U3.encode(n)}const q3=1024*8,z3=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Qm={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class pp{constructor(e=q3,a={}){Ra(this,"buffer");Ra(this,"byteLength");Ra(this,"byteOffset");Ra(this,"length");Ra(this,"offset");Ra(this,"lastWrittenByte");Ra(this,"littleEndian");Ra(this,"_data");Ra(this,"_mark");Ra(this,"_marks");let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const l=a.offset?a.offset>>>0:0,c=e.byteLength-l;let d=l;(ArrayBuffer.isView(e)||e instanceof pp)&&(e.byteLength!==e.buffer.byteLength&&(d=e.byteOffset+l),e=e.buffer),s?this.lastWrittenByte=c:this.lastWrittenByte=0,this.buffer=e,this.length=c,this.byteLength=c,this.byteOffset=d,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,d,c),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,l=new Uint8Array(s);l.set(new Uint8Array(this.buffer)),this.buffer=l.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,a){const s=Qm[a].BYTES_PER_ELEMENT*e,l=this.byteOffset+this.offset,c=this.buffer.slice(l,l+s);if(this.littleEndian===z3&&a!=="uint8"&&a!=="int8"){const h=new Uint8Array(this.buffer.slice(l,l+s));h.reverse();const f=new Qm[a](h.buffer);return this.offset+=s,f.reverse(),f}const d=new Qm[a](c);return this.offset+=s,d}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let a="";for(let s=0;s<e;s++)a+=this.readChar();return a}readUtf8(e=1){return R2(this.readBytes(e))}decodeText(e=1,a="utf8"){return R2(this.readBytes(e),a)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let a=0;a<e.length;a++)this._data.setUint8(this.offset++,e[a]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let a=0;a<e.length;a++)this.writeUint8(e.charCodeAt(a));return this}writeUtf8(e){return this.writeBytes(B3(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ku(n){let e=n.length;for(;--e>=0;)n[e]=0}const F3=3,H3=258,zx=29,$3=256,V3=$3+1+zx,Fx=30,G3=512,Y3=new Array((V3+2)*2);ku(Y3);const K3=new Array(Fx*2);ku(K3);const J3=new Array(G3);ku(J3);const W3=new Array(H3-F3+1);ku(W3);const X3=new Array(zx);ku(X3);const Z3=new Array(Fx);ku(Z3);const Q3=(n,e,a,s)=>{let l=n&65535|0,c=n>>>16&65535|0,d=0;for(;a!==0;){d=a>2e3?2e3:a,a-=d;do l=l+e[s++]|0,c=c+l|0;while(--d);l%=65521,c%=65521}return l|c<<16|0};var q0=Q3;const ej=()=>{let n,e=[];for(var a=0;a<256;a++){n=a;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;e[a]=n}return e},tj=new Uint32Array(ej()),aj=(n,e,a,s)=>{const l=tj,c=s+a;n^=-1;for(let d=s;d<c;d++)n=n>>>8^l[(n^e[d])&255];return n^-1};var Yi=aj,z0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Hx={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const nj=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var rj=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const a=e.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(const s in a)nj(a,s)&&(n[s]=a[s])}}return n},sj=n=>{let e=0;for(let s=0,l=n.length;s<l;s++)e+=n[s].length;const a=new Uint8Array(e);for(let s=0,l=0,c=n.length;s<c;s++){let d=n[s];a.set(d,l),l+=d.length}return a},$x={assign:rj,flattenChunks:sj};let Vx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Vx=!1}const Ld=new Uint8Array(256);for(let n=0;n<256;n++)Ld[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Ld[254]=Ld[254]=1;var ij=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,a,s,l,c,d=n.length,h=0;for(l=0;l<d;l++)a=n.charCodeAt(l),(a&64512)===55296&&l+1<d&&(s=n.charCodeAt(l+1),(s&64512)===56320&&(a=65536+(a-55296<<10)+(s-56320),l++)),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),c=0,l=0;c<h;l++)a=n.charCodeAt(l),(a&64512)===55296&&l+1<d&&(s=n.charCodeAt(l+1),(s&64512)===56320&&(a=65536+(a-55296<<10)+(s-56320),l++)),a<128?e[c++]=a:a<2048?(e[c++]=192|a>>>6,e[c++]=128|a&63):a<65536?(e[c++]=224|a>>>12,e[c++]=128|a>>>6&63,e[c++]=128|a&63):(e[c++]=240|a>>>18,e[c++]=128|a>>>12&63,e[c++]=128|a>>>6&63,e[c++]=128|a&63);return e};const oj=(n,e)=>{if(e<65534&&n.subarray&&Vx)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let a="";for(let s=0;s<e;s++)a+=String.fromCharCode(n[s]);return a};var lj=(n,e)=>{const a=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let s,l;const c=new Array(a*2);for(l=0,s=0;s<a;){let d=n[s++];if(d<128){c[l++]=d;continue}let h=Ld[d];if(h>4){c[l++]=65533,s+=h-1;continue}for(d&=h===2?31:h===3?15:7;h>1&&s<a;)d=d<<6|n[s++]&63,h--;if(h>1){c[l++]=65533;continue}d<65536?c[l++]=d:(d-=65536,c[l++]=55296|d>>10&1023,c[l++]=56320|d&1023)}return oj(c,l)},cj=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let a=e-1;for(;a>=0&&(n[a]&192)===128;)a--;return a<0||a===0?e:a+Ld[n[a]]>e?a:e},F0={string2buf:ij,buf2string:lj,utf8border:cj};function uj(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var dj=uj;const Mh=16209,hj=16191;var fj=function(e,a){let s,l,c,d,h,f,p,v,j,_,y,C,k,O,L,T,R,F,ne,de,W,se,K,we;const P=e.state;s=e.next_in,K=e.input,l=s+(e.avail_in-5),c=e.next_out,we=e.output,d=c-(a-e.avail_out),h=c+(e.avail_out-257),f=P.dmax,p=P.wsize,v=P.whave,j=P.wnext,_=P.window,y=P.hold,C=P.bits,k=P.lencode,O=P.distcode,L=(1<<P.lenbits)-1,T=(1<<P.distbits)-1;e:do{C<15&&(y+=K[s++]<<C,C+=8,y+=K[s++]<<C,C+=8),R=k[y&L];t:for(;;){if(F=R>>>24,y>>>=F,C-=F,F=R>>>16&255,F===0)we[c++]=R&65535;else if(F&16){ne=R&65535,F&=15,F&&(C<F&&(y+=K[s++]<<C,C+=8),ne+=y&(1<<F)-1,y>>>=F,C-=F),C<15&&(y+=K[s++]<<C,C+=8,y+=K[s++]<<C,C+=8),R=O[y&T];a:for(;;){if(F=R>>>24,y>>>=F,C-=F,F=R>>>16&255,F&16){if(de=R&65535,F&=15,C<F&&(y+=K[s++]<<C,C+=8,C<F&&(y+=K[s++]<<C,C+=8)),de+=y&(1<<F)-1,de>f){e.msg="invalid distance too far back",P.mode=Mh;break e}if(y>>>=F,C-=F,F=c-d,de>F){if(F=de-F,F>v&&P.sane){e.msg="invalid distance too far back",P.mode=Mh;break e}if(W=0,se=_,j===0){if(W+=p-F,F<ne){ne-=F;do we[c++]=_[W++];while(--F);W=c-de,se=we}}else if(j<F){if(W+=p+j-F,F-=j,F<ne){ne-=F;do we[c++]=_[W++];while(--F);if(W=0,j<ne){F=j,ne-=F;do we[c++]=_[W++];while(--F);W=c-de,se=we}}}else if(W+=j-F,F<ne){ne-=F;do we[c++]=_[W++];while(--F);W=c-de,se=we}for(;ne>2;)we[c++]=se[W++],we[c++]=se[W++],we[c++]=se[W++],ne-=3;ne&&(we[c++]=se[W++],ne>1&&(we[c++]=se[W++]))}else{W=c-de;do we[c++]=we[W++],we[c++]=we[W++],we[c++]=we[W++],ne-=3;while(ne>2);ne&&(we[c++]=we[W++],ne>1&&(we[c++]=we[W++]))}}else if((F&64)===0){R=O[(R&65535)+(y&(1<<F)-1)];continue a}else{e.msg="invalid distance code",P.mode=Mh;break e}break}}else if((F&64)===0){R=k[(R&65535)+(y&(1<<F)-1)];continue t}else if(F&32){P.mode=hj;break e}else{e.msg="invalid literal/length code",P.mode=Mh;break e}break}}while(s<l&&c<h);ne=C>>3,s-=ne,C-=ne<<3,y&=(1<<C)-1,e.next_in=s,e.next_out=c,e.avail_in=s<l?5+(l-s):5-(s-l),e.avail_out=c<h?257+(h-c):257-(c-h),P.hold=y,P.bits=C};const du=15,D2=852,M2=592,P2=0,e0=1,I2=2,mj=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),pj=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),gj=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),bj=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),xj=(n,e,a,s,l,c,d,h)=>{const f=h.bits;let p=0,v=0,j=0,_=0,y=0,C=0,k=0,O=0,L=0,T=0,R,F,ne,de,W,se=null,K;const we=new Uint16Array(du+1),P=new Uint16Array(du+1);let $=null,oe,ue,Ce;for(p=0;p<=du;p++)we[p]=0;for(v=0;v<s;v++)we[e[a+v]]++;for(y=f,_=du;_>=1&&we[_]===0;_--);if(y>_&&(y=_),_===0)return l[c++]=1<<24|64<<16|0,l[c++]=1<<24|64<<16|0,h.bits=1,0;for(j=1;j<_&&we[j]===0;j++);for(y<j&&(y=j),O=1,p=1;p<=du;p++)if(O<<=1,O-=we[p],O<0)return-1;if(O>0&&(n===P2||_!==1))return-1;for(P[1]=0,p=1;p<du;p++)P[p+1]=P[p]+we[p];for(v=0;v<s;v++)e[a+v]!==0&&(d[P[e[a+v]]++]=v);if(n===P2?(se=$=d,K=20):n===e0?(se=mj,$=pj,K=257):(se=gj,$=bj,K=0),T=0,v=0,p=j,W=c,C=y,k=0,ne=-1,L=1<<y,de=L-1,n===e0&&L>D2||n===I2&&L>M2)return 1;for(;;){oe=p-k,d[v]+1<K?(ue=0,Ce=d[v]):d[v]>=K?(ue=$[d[v]-K],Ce=se[d[v]-K]):(ue=96,Ce=0),R=1<<p-k,F=1<<C,j=F;do F-=R,l[W+(T>>k)+F]=oe<<24|ue<<16|Ce|0;while(F!==0);for(R=1<<p-1;T&R;)R>>=1;if(R!==0?(T&=R-1,T+=R):T=0,v++,--we[p]===0){if(p===_)break;p=e[a+d[v]]}if(p>y&&(T&de)!==ne){for(k===0&&(k=y),W+=j,C=p-k,O=1<<C;C+k<_&&(O-=we[C+k],!(O<=0));)C++,O<<=1;if(L+=1<<C,n===e0&&L>D2||n===I2&&L>M2)return 1;ne=T&de,l[ne]=y<<24|C<<16|W-c|0}}return T!==0&&(l[W+T]=p-k<<24|64<<16|0),h.bits=y,0};var yd=xj;const vj=0,Gx=1,Yx=2,{Z_FINISH:U2,Z_BLOCK:yj,Z_TREES:Ph,Z_OK:dc,Z_STREAM_END:wj,Z_NEED_DICT:_j,Z_STREAM_ERROR:$s,Z_DATA_ERROR:Kx,Z_MEM_ERROR:Jx,Z_BUF_ERROR:Nj,Z_DEFLATED:B2}=Hx,gf=16180,q2=16181,z2=16182,F2=16183,H2=16184,$2=16185,V2=16186,G2=16187,Y2=16188,K2=16189,of=16190,ko=16191,t0=16192,J2=16193,a0=16194,W2=16195,X2=16196,Z2=16197,Q2=16198,Ih=16199,Uh=16200,eb=16201,tb=16202,ab=16203,nb=16204,rb=16205,n0=16206,sb=16207,ib=16208,on=16209,Wx=16210,Xx=16211,jj=852,Sj=592,Aj=15,Cj=Aj,ob=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function Ej(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const fc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<gf||e.mode>Xx?1:0},Zx=n=>{if(fc(n))return $s;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=gf,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(jj),e.distcode=e.distdyn=new Int32Array(Sj),e.sane=1,e.back=-1,dc},Qx=n=>{if(fc(n))return $s;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Zx(n)},ev=(n,e)=>{let a;if(fc(n))return $s;const s=n.state;return e<0?(a=0,e=-e):(a=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?$s:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=a,s.wbits=e,Qx(n))},tv=(n,e)=>{if(!n)return $s;const a=new Ej;n.state=a,a.strm=n,a.window=null,a.mode=gf;const s=ev(n,e);return s!==dc&&(n.state=null),s},kj=n=>tv(n,Cj);let lb=!0,r0,s0;const Lj=n=>{if(lb){r0=new Int32Array(512),s0=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(yd(Gx,n.lens,0,288,r0,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;yd(Yx,n.lens,0,32,s0,0,n.work,{bits:5}),lb=!1}n.lencode=r0,n.lenbits=9,n.distcode=s0,n.distbits=5},av=(n,e,a,s)=>{let l;const c=n.state;return c.window===null&&(c.wsize=1<<c.wbits,c.wnext=0,c.whave=0,c.window=new Uint8Array(c.wsize)),s>=c.wsize?(c.window.set(e.subarray(a-c.wsize,a),0),c.wnext=0,c.whave=c.wsize):(l=c.wsize-c.wnext,l>s&&(l=s),c.window.set(e.subarray(a-s,a-s+l),c.wnext),s-=l,s?(c.window.set(e.subarray(a-s,a),0),c.wnext=s,c.whave=c.wsize):(c.wnext+=l,c.wnext===c.wsize&&(c.wnext=0),c.whave<c.wsize&&(c.whave+=l))),0},Tj=(n,e)=>{let a,s,l,c,d,h,f,p,v,j,_,y,C,k,O=0,L,T,R,F,ne,de,W,se;const K=new Uint8Array(4);let we,P;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(fc(n)||!n.output||!n.input&&n.avail_in!==0)return $s;a=n.state,a.mode===ko&&(a.mode=t0),d=n.next_out,l=n.output,f=n.avail_out,c=n.next_in,s=n.input,h=n.avail_in,p=a.hold,v=a.bits,j=h,_=f,se=dc;e:for(;;)switch(a.mode){case gf:if(a.wrap===0){a.mode=t0;break}for(;v<16;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}if(a.wrap&2&&p===35615){a.wbits===0&&(a.wbits=15),a.check=0,K[0]=p&255,K[1]=p>>>8&255,a.check=Yi(a.check,K,2,0),p=0,v=0,a.mode=q2;break}if(a.head&&(a.head.done=!1),!(a.wrap&1)||(((p&255)<<8)+(p>>8))%31){n.msg="incorrect header check",a.mode=on;break}if((p&15)!==B2){n.msg="unknown compression method",a.mode=on;break}if(p>>>=4,v-=4,W=(p&15)+8,a.wbits===0&&(a.wbits=W),W>15||W>a.wbits){n.msg="invalid window size",a.mode=on;break}a.dmax=1<<a.wbits,a.flags=0,n.adler=a.check=1,a.mode=p&512?K2:ko,p=0,v=0;break;case q2:for(;v<16;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}if(a.flags=p,(a.flags&255)!==B2){n.msg="unknown compression method",a.mode=on;break}if(a.flags&57344){n.msg="unknown header flags set",a.mode=on;break}a.head&&(a.head.text=p>>8&1),a.flags&512&&a.wrap&4&&(K[0]=p&255,K[1]=p>>>8&255,a.check=Yi(a.check,K,2,0)),p=0,v=0,a.mode=z2;case z2:for(;v<32;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}a.head&&(a.head.time=p),a.flags&512&&a.wrap&4&&(K[0]=p&255,K[1]=p>>>8&255,K[2]=p>>>16&255,K[3]=p>>>24&255,a.check=Yi(a.check,K,4,0)),p=0,v=0,a.mode=F2;case F2:for(;v<16;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}a.head&&(a.head.xflags=p&255,a.head.os=p>>8),a.flags&512&&a.wrap&4&&(K[0]=p&255,K[1]=p>>>8&255,a.check=Yi(a.check,K,2,0)),p=0,v=0,a.mode=H2;case H2:if(a.flags&1024){for(;v<16;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}a.length=p,a.head&&(a.head.extra_len=p),a.flags&512&&a.wrap&4&&(K[0]=p&255,K[1]=p>>>8&255,a.check=Yi(a.check,K,2,0)),p=0,v=0}else a.head&&(a.head.extra=null);a.mode=$2;case $2:if(a.flags&1024&&(y=a.length,y>h&&(y=h),y&&(a.head&&(W=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(s.subarray(c,c+y),W)),a.flags&512&&a.wrap&4&&(a.check=Yi(a.check,s,y,c)),h-=y,c+=y,a.length-=y),a.length))break e;a.length=0,a.mode=V2;case V2:if(a.flags&2048){if(h===0)break e;y=0;do W=s[c+y++],a.head&&W&&a.length<65536&&(a.head.name+=String.fromCharCode(W));while(W&&y<h);if(a.flags&512&&a.wrap&4&&(a.check=Yi(a.check,s,y,c)),h-=y,c+=y,W)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=G2;case G2:if(a.flags&4096){if(h===0)break e;y=0;do W=s[c+y++],a.head&&W&&a.length<65536&&(a.head.comment+=String.fromCharCode(W));while(W&&y<h);if(a.flags&512&&a.wrap&4&&(a.check=Yi(a.check,s,y,c)),h-=y,c+=y,W)break e}else a.head&&(a.head.comment=null);a.mode=Y2;case Y2:if(a.flags&512){for(;v<16;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}if(a.wrap&4&&p!==(a.check&65535)){n.msg="header crc mismatch",a.mode=on;break}p=0,v=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),n.adler=a.check=0,a.mode=ko;break;case K2:for(;v<32;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}n.adler=a.check=ob(p),p=0,v=0,a.mode=of;case of:if(a.havedict===0)return n.next_out=d,n.avail_out=f,n.next_in=c,n.avail_in=h,a.hold=p,a.bits=v,_j;n.adler=a.check=1,a.mode=ko;case ko:if(e===yj||e===Ph)break e;case t0:if(a.last){p>>>=v&7,v-=v&7,a.mode=n0;break}for(;v<3;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}switch(a.last=p&1,p>>>=1,v-=1,p&3){case 0:a.mode=J2;break;case 1:if(Lj(a),a.mode=Ih,e===Ph){p>>>=2,v-=2;break e}break;case 2:a.mode=X2;break;case 3:n.msg="invalid block type",a.mode=on}p>>>=2,v-=2;break;case J2:for(p>>>=v&7,v-=v&7;v<32;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}if((p&65535)!==(p>>>16^65535)){n.msg="invalid stored block lengths",a.mode=on;break}if(a.length=p&65535,p=0,v=0,a.mode=a0,e===Ph)break e;case a0:a.mode=W2;case W2:if(y=a.length,y){if(y>h&&(y=h),y>f&&(y=f),y===0)break e;l.set(s.subarray(c,c+y),d),h-=y,c+=y,f-=y,d+=y,a.length-=y;break}a.mode=ko;break;case X2:for(;v<14;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}if(a.nlen=(p&31)+257,p>>>=5,v-=5,a.ndist=(p&31)+1,p>>>=5,v-=5,a.ncode=(p&15)+4,p>>>=4,v-=4,a.nlen>286||a.ndist>30){n.msg="too many length or distance symbols",a.mode=on;break}a.have=0,a.mode=Z2;case Z2:for(;a.have<a.ncode;){for(;v<3;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}a.lens[$[a.have++]]=p&7,p>>>=3,v-=3}for(;a.have<19;)a.lens[$[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,we={bits:a.lenbits},se=yd(vj,a.lens,0,19,a.lencode,0,a.work,we),a.lenbits=we.bits,se){n.msg="invalid code lengths set",a.mode=on;break}a.have=0,a.mode=Q2;case Q2:for(;a.have<a.nlen+a.ndist;){for(;O=a.lencode[p&(1<<a.lenbits)-1],L=O>>>24,T=O>>>16&255,R=O&65535,!(L<=v);){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}if(R<16)p>>>=L,v-=L,a.lens[a.have++]=R;else{if(R===16){for(P=L+2;v<P;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}if(p>>>=L,v-=L,a.have===0){n.msg="invalid bit length repeat",a.mode=on;break}W=a.lens[a.have-1],y=3+(p&3),p>>>=2,v-=2}else if(R===17){for(P=L+3;v<P;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}p>>>=L,v-=L,W=0,y=3+(p&7),p>>>=3,v-=3}else{for(P=L+7;v<P;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}p>>>=L,v-=L,W=0,y=11+(p&127),p>>>=7,v-=7}if(a.have+y>a.nlen+a.ndist){n.msg="invalid bit length repeat",a.mode=on;break}for(;y--;)a.lens[a.have++]=W}}if(a.mode===on)break;if(a.lens[256]===0){n.msg="invalid code -- missing end-of-block",a.mode=on;break}if(a.lenbits=9,we={bits:a.lenbits},se=yd(Gx,a.lens,0,a.nlen,a.lencode,0,a.work,we),a.lenbits=we.bits,se){n.msg="invalid literal/lengths set",a.mode=on;break}if(a.distbits=6,a.distcode=a.distdyn,we={bits:a.distbits},se=yd(Yx,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,we),a.distbits=we.bits,se){n.msg="invalid distances set",a.mode=on;break}if(a.mode=Ih,e===Ph)break e;case Ih:a.mode=Uh;case Uh:if(h>=6&&f>=258){n.next_out=d,n.avail_out=f,n.next_in=c,n.avail_in=h,a.hold=p,a.bits=v,fj(n,_),d=n.next_out,l=n.output,f=n.avail_out,c=n.next_in,s=n.input,h=n.avail_in,p=a.hold,v=a.bits,a.mode===ko&&(a.back=-1);break}for(a.back=0;O=a.lencode[p&(1<<a.lenbits)-1],L=O>>>24,T=O>>>16&255,R=O&65535,!(L<=v);){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}if(T&&(T&240)===0){for(F=L,ne=T,de=R;O=a.lencode[de+((p&(1<<F+ne)-1)>>F)],L=O>>>24,T=O>>>16&255,R=O&65535,!(F+L<=v);){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}p>>>=F,v-=F,a.back+=F}if(p>>>=L,v-=L,a.back+=L,a.length=R,T===0){a.mode=rb;break}if(T&32){a.back=-1,a.mode=ko;break}if(T&64){n.msg="invalid literal/length code",a.mode=on;break}a.extra=T&15,a.mode=eb;case eb:if(a.extra){for(P=a.extra;v<P;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}a.length+=p&(1<<a.extra)-1,p>>>=a.extra,v-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=tb;case tb:for(;O=a.distcode[p&(1<<a.distbits)-1],L=O>>>24,T=O>>>16&255,R=O&65535,!(L<=v);){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}if((T&240)===0){for(F=L,ne=T,de=R;O=a.distcode[de+((p&(1<<F+ne)-1)>>F)],L=O>>>24,T=O>>>16&255,R=O&65535,!(F+L<=v);){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}p>>>=F,v-=F,a.back+=F}if(p>>>=L,v-=L,a.back+=L,T&64){n.msg="invalid distance code",a.mode=on;break}a.offset=R,a.extra=T&15,a.mode=ab;case ab:if(a.extra){for(P=a.extra;v<P;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}a.offset+=p&(1<<a.extra)-1,p>>>=a.extra,v-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){n.msg="invalid distance too far back",a.mode=on;break}a.mode=nb;case nb:if(f===0)break e;if(y=_-f,a.offset>y){if(y=a.offset-y,y>a.whave&&a.sane){n.msg="invalid distance too far back",a.mode=on;break}y>a.wnext?(y-=a.wnext,C=a.wsize-y):C=a.wnext-y,y>a.length&&(y=a.length),k=a.window}else k=l,C=d-a.offset,y=a.length;y>f&&(y=f),f-=y,a.length-=y;do l[d++]=k[C++];while(--y);a.length===0&&(a.mode=Uh);break;case rb:if(f===0)break e;l[d++]=a.length,f--,a.mode=Uh;break;case n0:if(a.wrap){for(;v<32;){if(h===0)break e;h--,p|=s[c++]<<v,v+=8}if(_-=f,n.total_out+=_,a.total+=_,a.wrap&4&&_&&(n.adler=a.check=a.flags?Yi(a.check,l,_,d-_):q0(a.check,l,_,d-_)),_=f,a.wrap&4&&(a.flags?p:ob(p))!==a.check){n.msg="incorrect data check",a.mode=on;break}p=0,v=0}a.mode=sb;case sb:if(a.wrap&&a.flags){for(;v<32;){if(h===0)break e;h--,p+=s[c++]<<v,v+=8}if(a.wrap&4&&p!==(a.total&4294967295)){n.msg="incorrect length check",a.mode=on;break}p=0,v=0}a.mode=ib;case ib:se=wj;break e;case on:se=Kx;break e;case Wx:return Jx;case Xx:default:return $s}return n.next_out=d,n.avail_out=f,n.next_in=c,n.avail_in=h,a.hold=p,a.bits=v,(a.wsize||_!==n.avail_out&&a.mode<on&&(a.mode<n0||e!==U2))&&av(n,n.output,n.next_out,_-n.avail_out),j-=n.avail_in,_-=n.avail_out,n.total_in+=j,n.total_out+=_,a.total+=_,a.wrap&4&&_&&(n.adler=a.check=a.flags?Yi(a.check,l,_,n.next_out-_):q0(a.check,l,_,n.next_out-_)),n.data_type=a.bits+(a.last?64:0)+(a.mode===ko?128:0)+(a.mode===Ih||a.mode===a0?256:0),(j===0&&_===0||e===U2)&&se===dc&&(se=Nj),se},Oj=n=>{if(fc(n))return $s;let e=n.state;return e.window&&(e.window=null),n.state=null,dc},Rj=(n,e)=>{if(fc(n))return $s;const a=n.state;return(a.wrap&2)===0?$s:(a.head=e,e.done=!1,dc)},Dj=(n,e)=>{const a=e.length;let s,l,c;return fc(n)||(s=n.state,s.wrap!==0&&s.mode!==of)?$s:s.mode===of&&(l=1,l=q0(l,e,a,0),l!==s.check)?Kx:(c=av(n,e,a,a),c?(s.mode=Wx,Jx):(s.havedict=1,dc))};var Mj=Qx,Pj=ev,Ij=Zx,Uj=kj,Bj=tv,qj=Tj,zj=Oj,Fj=Rj,Hj=Dj,$j="pako inflate (from Nodeca project)",To={inflateReset:Mj,inflateReset2:Pj,inflateResetKeep:Ij,inflateInit:Uj,inflateInit2:Bj,inflate:qj,inflateEnd:zj,inflateGetHeader:Fj,inflateSetDictionary:Hj,inflateInfo:$j};function Vj(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Gj=Vj;const nv=Object.prototype.toString,{Z_NO_FLUSH:Yj,Z_FINISH:Kj,Z_OK:Td,Z_STREAM_END:i0,Z_NEED_DICT:o0,Z_STREAM_ERROR:Jj,Z_DATA_ERROR:cb,Z_MEM_ERROR:Wj}=Hx;function Pd(n){this.options=$x.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new dj,this.strm.avail_out=0;let a=To.inflateInit2(this.strm,e.windowBits);if(a!==Td)throw new Error(z0[a]);if(this.header=new Gj,To.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=F0.string2buf(e.dictionary):nv.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=To.inflateSetDictionary(this.strm,e.dictionary),a!==Td)))throw new Error(z0[a])}Pd.prototype.push=function(n,e){const a=this.strm,s=this.options.chunkSize,l=this.options.dictionary;let c,d,h;if(this.ended)return!1;for(e===~~e?d=e:d=e===!0?Kj:Yj,nv.call(n)==="[object ArrayBuffer]"?a.input=new Uint8Array(n):a.input=n,a.next_in=0,a.avail_in=a.input.length;;){for(a.avail_out===0&&(a.output=new Uint8Array(s),a.next_out=0,a.avail_out=s),c=To.inflate(a,d),c===o0&&l&&(c=To.inflateSetDictionary(a,l),c===Td?c=To.inflate(a,d):c===cb&&(c=o0));a.avail_in>0&&c===i0&&a.state.wrap>0&&n[a.next_in]!==0;)To.inflateReset(a),c=To.inflate(a,d);switch(c){case Jj:case cb:case o0:case Wj:return this.onEnd(c),this.ended=!0,!1}if(h=a.avail_out,a.next_out&&(a.avail_out===0||c===i0))if(this.options.to==="string"){let f=F0.utf8border(a.output,a.next_out),p=a.next_out-f,v=F0.buf2string(a.output,f);a.next_out=p,a.avail_out=s-p,p&&a.output.set(a.output.subarray(f,f+p),0),this.onData(v)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(!(c===Td&&h===0)){if(c===i0)return c=To.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,!0;if(a.avail_in===0)break}}return!0};Pd.prototype.onData=function(n){this.chunks.push(n)};Pd.prototype.onEnd=function(n){n===Td&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$x.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Xj(n,e){const a=new Pd(e);if(a.push(n),a.err)throw a.msg||z0[a.err];return a.result}var Zj=Pd,Qj=Xj,eS={Inflate:Zj,inflate:Qj};const{Inflate:tS,inflate:aS}=eS;var ub=tS,nS=aS;const rv=[];for(let n=0;n<256;n++){let e=n;for(let a=0;a<8;a++)e&1?e=3988292384^e>>>1:e=e>>>1;rv[n]=e}const db=4294967295;function rS(n,e,a){let s=n;for(let l=0;l<a;l++)s=rv[(s^e[l])&255]^s>>>8;return s}function sS(n,e){return(rS(db,n,e)^db)>>>0}function hb(n,e,a){const s=n.readUint32(),l=sS(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(l!==s)throw new Error(`CRC mismatch for chunk ${a}. Expected ${s}, found ${l}`)}function sv(n,e,a){for(let s=0;s<a;s++)e[s]=n[s]}function iv(n,e,a,s){let l=0;for(;l<s;l++)e[l]=n[l];for(;l<a;l++)e[l]=n[l]+e[l-s]&255}function ov(n,e,a,s){let l=0;if(a.length===0)for(;l<s;l++)e[l]=n[l];else for(;l<s;l++)e[l]=n[l]+a[l]&255}function lv(n,e,a,s,l){let c=0;if(a.length===0){for(;c<l;c++)e[c]=n[c];for(;c<s;c++)e[c]=n[c]+(e[c-l]>>1)&255}else{for(;c<l;c++)e[c]=n[c]+(a[c]>>1)&255;for(;c<s;c++)e[c]=n[c]+(e[c-l]+a[c]>>1)&255}}function cv(n,e,a,s,l){let c=0;if(a.length===0){for(;c<l;c++)e[c]=n[c];for(;c<s;c++)e[c]=n[c]+e[c-l]&255}else{for(;c<l;c++)e[c]=n[c]+a[c]&255;for(;c<s;c++)e[c]=n[c]+iS(e[c-l],a[c],a[c-l])&255}}function iS(n,e,a){const s=n+e-a,l=Math.abs(s-n),c=Math.abs(s-e),d=Math.abs(s-a);return l<=c&&l<=d?n:c<=d?e:a}function oS(n,e,a,s,l,c){switch(n){case 0:sv(e,a,l);break;case 1:iv(e,a,l,c);break;case 2:ov(e,a,s,l);break;case 3:lv(e,a,s,l,c);break;case 4:cv(e,a,s,l,c);break;default:throw new Error(`Unsupported filter: ${n}`)}}const lS=new Uint16Array([255]),cS=new Uint8Array(lS.buffer),uS=cS[0]===255;function dS(n){const{data:e,width:a,height:s,channels:l,depth:c}=n,d=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(c/8)*l,f=new Uint8Array(s*a*h);let p=0;for(let v=0;v<7;v++){const j=d[v],_=Math.ceil((a-j.x)/j.xStep),y=Math.ceil((s-j.y)/j.yStep);if(_<=0||y<=0)continue;const C=_*h,k=new Uint8Array(C);for(let O=0;O<y;O++){const L=e[p++],T=e.subarray(p,p+C);p+=C;const R=new Uint8Array(C);oS(L,T,R,k,C,h),k.set(R);for(let F=0;F<_;F++){const ne=j.x+F*j.xStep,de=j.y+O*j.yStep;if(!(ne>=a||de>=s))for(let W=0;W<h;W++)f[(de*a+ne)*h+W]=R[F*h+W]}}}if(c===16){const v=new Uint16Array(f.buffer);if(uS)for(let j=0;j<v.length;j++)v[j]=hS(v[j]);return v}else return f}function hS(n){return(n&255)<<8|n>>8&255}const fS=new Uint16Array([255]),mS=new Uint8Array(fS.buffer),pS=mS[0]===255,gS=new Uint8Array(0);function fb(n){const{data:e,width:a,height:s,channels:l,depth:c}=n,d=Math.ceil(c/8)*l,h=Math.ceil(c/8*l*a),f=new Uint8Array(s*h);let p=gS,v=0,j,_;for(let y=0;y<s;y++){switch(j=e.subarray(v+1,v+1+h),_=f.subarray(y*h,(y+1)*h),e[v]){case 0:sv(j,_,h);break;case 1:iv(j,_,h,d);break;case 2:ov(j,_,p,h);break;case 3:lv(j,_,p,h,d);break;case 4:cv(j,_,p,h,d);break;default:throw new Error(`Unsupported filter: ${e[v]}`)}p=_,v+=h+1}if(c===16){const y=new Uint16Array(f.buffer);if(pS)for(let C=0;C<y.length;C++)y[C]=bS(y[C]);return y}else return f}function bS(n){return(n&255)<<8|n>>8&255}const Yh=Uint8Array.of(137,80,78,71,13,10,26,10);function mb(n){if(!xS(n.readBytes(Yh.length)))throw new Error("wrong PNG signature")}function xS(n){if(n.length<Yh.length)return!1;for(let e=0;e<Yh.length;e++)if(n[e]!==Yh[e])return!1;return!0}const vS="tEXt",yS=0,uv=new TextDecoder("latin1");function wS(n){if(NS(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const _S=/^[\u0000-\u00FF]*$/;function NS(n){if(!_S.test(n))throw new Error("invalid latin1 text")}function jS(n,e,a){const s=dv(e);n[s]=SS(e,a-s.length-1)}function dv(n){for(n.mark();n.readByte()!==yS;);const e=n.offset;n.reset();const a=uv.decode(n.readBytes(e-n.offset-1));return n.skip(1),wS(a),a}function SS(n,e){return uv.decode(n.readBytes(e))}const _s={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},l0={UNKNOWN:-1,DEFLATE:0},pb={UNKNOWN:-1,ADAPTIVE:0},c0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Bh={NONE:0,BACKGROUND:1,PREVIOUS:2},u0={SOURCE:0,OVER:1};class AS extends pp{constructor(a,s={}){super(a);Ra(this,"_checkCrc");Ra(this,"_inflator");Ra(this,"_png");Ra(this,"_apng");Ra(this,"_end");Ra(this,"_hasPalette");Ra(this,"_palette");Ra(this,"_hasTransparency");Ra(this,"_transparency");Ra(this,"_compressionMethod");Ra(this,"_filterMethod");Ra(this,"_interlaceMethod");Ra(this,"_colorType");Ra(this,"_isAnimated");Ra(this,"_numberOfFrames");Ra(this,"_numberOfPlays");Ra(this,"_frames");Ra(this,"_writingDataChunks");const{checkCrc:l=!1}=s;this._checkCrc=l,this._inflator=new ub,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=l0.UNKNOWN,this._filterMethod=pb.UNKNOWN,this._interlaceMethod=c0.UNKNOWN,this._colorType=_s.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(mb(this);!this._end;){const a=this.readUint32(),s=this.readChars(4);this.decodeChunk(a,s)}return this.decodeImage(),this._png}decodeApng(){for(mb(this);!this._end;){const a=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(a,s)}return this.decodeApngImage(),this._apng}decodeChunk(a,s){const l=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(a);break;case"IDAT":this.decodeIDAT(a);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(a);break;case"iCCP":this.decodeiCCP(a);break;case vS:jS(this._png.text,this,a);break;case"pHYs":this.decodepHYs();break;default:this.skip(a);break}if(this.offset-l!==a)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?hb(this,a+4,s):this.skip(4)}decodeApngChunk(a,s){const l=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(a);break;default:this.decodeChunk(a,s),this.offset=l+a;break}if(this.offset-l!==a)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?hb(this,a+4,s):this.skip(4)}decodeIHDR(){const a=this._png;a.width=this.readUint32(),a.height=this.readUint32(),a.depth=CS(this.readUint8());const s=this.readUint8();this._colorType=s;let l;switch(s){case _s.GREYSCALE:l=1;break;case _s.TRUECOLOUR:l=3;break;case _s.INDEXED_COLOUR:l=1;break;case _s.GREYSCALE_ALPHA:l=2;break;case _s.TRUECOLOUR_ALPHA:l=4;break;case _s.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=l,this._compressionMethod=this.readUint8(),this._compressionMethod!==l0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const a={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(a)}decodePLTE(a){if(a%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${a}`);const s=a/3;this._hasPalette=!0;const l=[];this._palette=l;for(let c=0;c<s;c++)l.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(a){this._writingDataChunks=!0;const s=a,l=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,l,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(a)}decodeFDAT(a){this._writingDataChunks=!0;let s=a,l=this.offset+this.byteOffset;if(l+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,l,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(a)}decodetRNS(a){switch(this._colorType){case _s.GREYSCALE:case _s.TRUECOLOUR:{if(a%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${a}`);if(a/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${a/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(a/2);for(let s=0;s<a/2;s++)this._transparency[s]=this.readUint16();break}case _s.INDEXED_COLOUR:{if(a>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${a} vs ${this._palette.length})`);let s=0;for(;s<a;s++){const l=this.readByte();this._palette[s].push(l)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case _s.UNKNOWN:case _s.GREYSCALE_ALPHA:case _s.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(a){const s=dv(this),l=this.readUint8();if(l!==l0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${l}`);const c=this.readBytes(a-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:nS(c)}}decodepHYs(){const a=this.readUint32(),s=this.readUint32(),l=this.readByte();this._png.resolution={x:a,y:s,unit:l}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let a=0;a<this._numberOfFrames;a++){const s={sequenceNumber:this._frames[a].sequenceNumber,delayNumber:this._frames[a].delayNumber,delayDenominator:this._frames[a].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},l=this._frames.at(a);if(l){if(l.data=fb({data:l.data,width:l.width,height:l.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),a===0||l.xOffset===0&&l.yOffset===0&&l.width===this._png.width&&l.height===this._png.height)s.data=l.data;else{const c=this._apng.frames.at(a-1);this.disposeFrame(l,c,s),this.addFrameDataToCanvas(s,l)}this._apng.frames.push(s)}}return this._apng}disposeFrame(a,s,l){switch(a.disposeOp){case Bh.NONE:break;case Bh.BACKGROUND:for(let c=0;c<this._png.height;c++)for(let d=0;d<this._png.width;d++){const h=(c*a.width+d)*this._png.channels;for(let f=0;f<this._png.channels;f++)l.data[h+f]=0}break;case Bh.PREVIOUS:l.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(a,s){const l=1<<this._png.depth,c=(d,h)=>{const f=((d+s.yOffset)*this._png.width+s.xOffset+h)*this._png.channels,p=(d*s.width+h)*this._png.channels;return{index:f,frameIndex:p}};switch(s.blendOp){case u0.SOURCE:for(let d=0;d<s.height;d++)for(let h=0;h<s.width;h++){const{index:f,frameIndex:p}=c(d,h);for(let v=0;v<this._png.channels;v++)a.data[f+v]=s.data[p+v]}break;case u0.OVER:for(let d=0;d<s.height;d++)for(let h=0;h<s.width;h++){const{index:f,frameIndex:p}=c(d,h);for(let v=0;v<this._png.channels;v++){const j=s.data[p+this._png.channels-1]/l,_=v%(this._png.channels-1)===0?1:s.data[p+v],y=Math.floor(j*_+(1-j)*a.data[f+v]);a.data[f+v]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var s;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const a=this._isAnimated?((s=this._frames)==null?void 0:s.at(0)).data:this._inflator.result;if(this._filterMethod!==pb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===c0.NO_INTERLACE)this._png.data=fb({data:a,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===c0.ADAM7)this._png.data=dS({data:a,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const a=this._inflator.result,s=this._frames.at(-1);s?s.data=a:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Bh.NONE,blendOp:u0.SOURCE,data:a}),this._inflator=new ub,this._writingDataChunks=!1}}function CS(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var gb;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(gb||(gb={}));function ES(n,e){return new AS(n,e).decode()}var Gt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function d0(){Gt.console&&typeof Gt.console.log=="function"&&Gt.console.log.apply(Gt.console,arguments)}var $a={log:d0,warn:function(n){Gt.console&&(typeof Gt.console.warn=="function"?Gt.console.warn.apply(Gt.console,arguments):d0.call(null,arguments))},error:function(n){Gt.console&&(typeof Gt.console.error=="function"?Gt.console.error.apply(Gt.console,arguments):d0(n))}};function h0(n,e,a){var s=new XMLHttpRequest;s.open("GET",n),s.responseType="blob",s.onload=function(){ac(s.response,e,a)},s.onerror=function(){$a.error("could not download file")},s.send()}function bb(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function qh(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var ac=Gt.saveAs||((typeof window>"u"?"undefined":Da(window))!=="object"||window!==Gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,a){var s=Gt.URL||Gt.webkitURL,l=document.createElement("a");e=e||n.name||"download",l.download=e,l.rel="noopener",typeof n=="string"?(l.href=n,l.origin!==location.origin?bb(l.href)?h0(n,e,a):qh(l,l.target="_blank"):qh(l)):(l.href=s.createObjectURL(n),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){qh(l)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,a){if(e=e||n.name||"download",typeof n=="string")if(bb(n))h0(n,e,a);else{var s=document.createElement("a");s.href=n,s.target="_blank",setTimeout(function(){qh(s)})}else navigator.msSaveOrOpenBlob((function(l,c){return c===void 0?c={autoBom:!1}:Da(c)!=="object"&&($a.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l})(n,a),e)}:function(n,e,a,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof n=="string")return h0(n,e,a);var l=n.type==="application/octet-stream",c=/constructor/i.test(Gt.HTMLElement)||Gt.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||l&&c)&&(typeof FileReader>"u"?"undefined":Da(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=d?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=v:location=v,s=null},h.readAsDataURL(n)}else{var f=Gt.URL||Gt.webkitURL,p=f.createObjectURL(n);s?s.location=p:location.href=p,s=null,setTimeout(function(){f.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hv(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],s=0;s<a.length;s++){var l=a[s].re,c=a[s].process,d=l.exec(n);d&&(e=c(d),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),p=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),p.length==1&&(p="0"+p),"#"+h+f+p}}var Kh=Gt.atob.bind(Gt),xb=Gt.btoa.bind(Gt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function f0(n,e){var a=n[0],s=n[1],l=n[2],c=n[3];a=Cr(a,s,l,c,e[0],7,-680876936),c=Cr(c,a,s,l,e[1],12,-389564586),l=Cr(l,c,a,s,e[2],17,606105819),s=Cr(s,l,c,a,e[3],22,-1044525330),a=Cr(a,s,l,c,e[4],7,-176418897),c=Cr(c,a,s,l,e[5],12,1200080426),l=Cr(l,c,a,s,e[6],17,-1473231341),s=Cr(s,l,c,a,e[7],22,-45705983),a=Cr(a,s,l,c,e[8],7,1770035416),c=Cr(c,a,s,l,e[9],12,-1958414417),l=Cr(l,c,a,s,e[10],17,-42063),s=Cr(s,l,c,a,e[11],22,-1990404162),a=Cr(a,s,l,c,e[12],7,1804603682),c=Cr(c,a,s,l,e[13],12,-40341101),l=Cr(l,c,a,s,e[14],17,-1502002290),a=Er(a,s=Cr(s,l,c,a,e[15],22,1236535329),l,c,e[1],5,-165796510),c=Er(c,a,s,l,e[6],9,-1069501632),l=Er(l,c,a,s,e[11],14,643717713),s=Er(s,l,c,a,e[0],20,-373897302),a=Er(a,s,l,c,e[5],5,-701558691),c=Er(c,a,s,l,e[10],9,38016083),l=Er(l,c,a,s,e[15],14,-660478335),s=Er(s,l,c,a,e[4],20,-405537848),a=Er(a,s,l,c,e[9],5,568446438),c=Er(c,a,s,l,e[14],9,-1019803690),l=Er(l,c,a,s,e[3],14,-187363961),s=Er(s,l,c,a,e[8],20,1163531501),a=Er(a,s,l,c,e[13],5,-1444681467),c=Er(c,a,s,l,e[2],9,-51403784),l=Er(l,c,a,s,e[7],14,1735328473),a=kr(a,s=Er(s,l,c,a,e[12],20,-1926607734),l,c,e[5],4,-378558),c=kr(c,a,s,l,e[8],11,-2022574463),l=kr(l,c,a,s,e[11],16,1839030562),s=kr(s,l,c,a,e[14],23,-35309556),a=kr(a,s,l,c,e[1],4,-1530992060),c=kr(c,a,s,l,e[4],11,1272893353),l=kr(l,c,a,s,e[7],16,-155497632),s=kr(s,l,c,a,e[10],23,-1094730640),a=kr(a,s,l,c,e[13],4,681279174),c=kr(c,a,s,l,e[0],11,-358537222),l=kr(l,c,a,s,e[3],16,-722521979),s=kr(s,l,c,a,e[6],23,76029189),a=kr(a,s,l,c,e[9],4,-640364487),c=kr(c,a,s,l,e[12],11,-421815835),l=kr(l,c,a,s,e[15],16,530742520),a=Lr(a,s=kr(s,l,c,a,e[2],23,-995338651),l,c,e[0],6,-198630844),c=Lr(c,a,s,l,e[7],10,1126891415),l=Lr(l,c,a,s,e[14],15,-1416354905),s=Lr(s,l,c,a,e[5],21,-57434055),a=Lr(a,s,l,c,e[12],6,1700485571),c=Lr(c,a,s,l,e[3],10,-1894986606),l=Lr(l,c,a,s,e[10],15,-1051523),s=Lr(s,l,c,a,e[1],21,-2054922799),a=Lr(a,s,l,c,e[8],6,1873313359),c=Lr(c,a,s,l,e[15],10,-30611744),l=Lr(l,c,a,s,e[6],15,-1560198380),s=Lr(s,l,c,a,e[13],21,1309151649),a=Lr(a,s,l,c,e[4],6,-145523070),c=Lr(c,a,s,l,e[11],10,-1120210379),l=Lr(l,c,a,s,e[2],15,718787259),s=Lr(s,l,c,a,e[9],21,-343485551),n[0]=yl(a,n[0]),n[1]=yl(s,n[1]),n[2]=yl(l,n[2]),n[3]=yl(c,n[3])}function bf(n,e,a,s,l,c){return e=yl(yl(e,n),yl(s,c)),yl(e<<l|e>>>32-l,a)}function Cr(n,e,a,s,l,c,d){return bf(e&a|~e&s,n,e,l,c,d)}function Er(n,e,a,s,l,c,d){return bf(e&s|a&~s,n,e,l,c,d)}function kr(n,e,a,s,l,c,d){return bf(e^a^s,n,e,l,c,d)}function Lr(n,e,a,s,l,c,d){return bf(a^(e|~s),n,e,l,c,d)}function fv(n){var e,a=n.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)f0(s,kS(n.substring(e-64,e)));n=n.substring(e-64);var l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)l[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(l[e>>2]|=128<<(e%4<<3),e>55)for(f0(s,l),e=0;e<16;e++)l[e]=0;return l[14]=8*a,f0(s,l),s}function kS(n){var e,a=[];for(e=0;e<64;e+=4)a[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return a}var vb="0123456789abcdef".split("");function LS(n){for(var e="",a=0;a<4;a++)e+=vb[n>>8*a+4&15]+vb[n>>8*a&15];return e}function TS(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function H0(n){return fv(n).map(TS).join("")}var OS=(function(n){for(var e=0;e<n.length;e++)n[e]=LS(n[e]);return n.join("")})(fv("hello"))!="5d41402abc4b2a76b9719d911017c592";function yl(n,e){if(OS){var a=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(a>>16)<<16|65535&a}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function $0(n,e){var a,s,l,c;if(n!==a){for(var d=(l=n,c=1+(256/n.length|0),new Array(c+1).join(l)),h=[],f=0;f<256;f++)h[f]=f;var p=0;for(f=0;f<256;f++){var v=h[f];p=(p+v+d.charCodeAt(f))%256,h[f]=h[p],h[p]=v}a=n,s=h}else h=s;var j=e.length,_=0,y=0,C="";for(f=0;f<j;f++)y=(y+(v=h[_=(_+1)%256]))%256,h[_]=h[y],h[y]=v,d=h[(h[_]+h[y])%256],C+=String.fromCharCode(e.charCodeAt(f)^d);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var yb={print:4,modify:8,copy:16,"annot-forms":32};function bu(n,e,a,s){this.v=1,this.r=2;var l=192;n.forEach(function(h){if(yb.perm!==void 0)throw new Error("Invalid permission: "+h);l+=yb[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var c=(e+this.padding).substr(0,32),d=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(c,d),this.P=-(1+(255^l)),this.encryptionKey=H0(c+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=$0(this.encryptionKey,this.padding)}function xu(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",a=n.length,s=0;s<a;s++){var l=n.charCodeAt(s);e+=l<33||l===35||l===37||l===40||l===41||l===47||l===60||l===62||l===91||l===93||l===123||l===125||l>126?"#"+("0"+l.toString(16)).slice(-2):n[s]}return e}function wb(n){if(Da(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(a,s,l){if(l=l||!1,typeof a!="string"||typeof s!="function"||typeof l!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(a)||(e[a]={});var c=Math.random().toString(35);return e[a][c]=[s,!!l],c},this.unsubscribe=function(a){for(var s in e)if(e[s][a])return delete e[s][a],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(a){if(e.hasOwnProperty(a)){var s=Array.prototype.slice.call(arguments,1),l=[];for(var c in e[a]){var d=e[a][c];try{d[0].apply(n,s)}catch(h){Gt.console&&$a.error("jsPDF PubSub Error",h.message,h)}d[1]&&l.push(c)}l.length&&l.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function lf(n){if(!(this instanceof lf))return new lf(n);var e="opacity,stroke-opacity".split(",");for(var a in n)n.hasOwnProperty(a)&&e.indexOf(a)>=0&&(this[a]=n[a]);this.id="",this.objectNumber=-1}function mv(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function sc(n,e,a,s,l){if(!(this instanceof sc))return new sc(n,e,a,s,l);this.type=n==="axial"?2:3,this.coords=e,this.colors=a,mv.call(this,s,l)}function yu(n,e,a,s,l){if(!(this instanceof yu))return new yu(n,e,a,s,l);this.boundingBox=n,this.xStep=e,this.yStep=a,this.stream="",this.cloneIndex=0,mv.call(this,s,l)}function wt(n){var e,a=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],l=arguments[2],c=arguments[3],d=[],h=1,f=16,p="S",v=null;Da(n=n||{})==="object"&&(a=n.orientation,s=n.unit||s,l=n.format||l,c=n.compress||n.compressPdf||c,(v=n.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),p=n.defaultPathOperation||"S"),d=n.filters||(c===!0?["FlateEncode"]:d),s=s||"mm",a=(""+(a||"P")).toLowerCase();var j=n.putOnlyUsedFonts||!1,_={},y={internal:{},__private__:{}};y.__private__.PubSub=wb;var C="1.3",k=y.__private__.getPdfVersion=function(){return C};y.__private__.setPdfVersion=function(w){C=w};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return O};var L=y.__private__.getPageFormat=function(w){return O[w]};l=l||"a4";var T="compat",R="advanced",F=T;function ne(){this.saveGraphicsState(),X(new vt(Dt,0,0,-Dt,0,ei()*Dt).toString()+" cm"),this.setFontSize(this.getFontSize()/Dt),p="n",F=R}function de(){this.restoreGraphicsState(),p="S",F=T}var W=y.__private__.combineFontStyleAndFontWeight=function(w,D){if(w=="bold"&&D=="normal"||w=="bold"&&D==400||w=="normal"&&D=="italic"||w=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(w=D==400||D==="normal"?w==="italic"?"italic":"normal":D!=700&&D!=="bold"||w!=="normal"?(D==700?"bold":D)+""+w:"bold"),w};y.advancedAPI=function(w){var D=F===T;return D&&ne.call(this),typeof w!="function"||(w(this),D&&de.call(this)),this},y.compatAPI=function(w){var D=F===R;return D&&de.call(this),typeof w!="function"||(w(this),D&&ne.call(this)),this},y.isAdvancedAPI=function(){return F===R};var se,K=function(w){if(F!==R)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},we=y.roundToPrecision=y.__private__.roundToPrecision=function(w,D){var te=e||D;if(isNaN(w)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(te).replace(/0+$/,"")};se=y.hpf=y.__private__.hpf=typeof f=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return we(w,f)}:f==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return we(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return we(w,16)};var P=y.f2=y.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return we(w,2)},$=y.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return we(w,3)},oe=y.scale=y.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return F===T?w*Dt:F===R?w:void 0},ue=function(w){return oe((function(D){return F===T?ei()-D:F===R?D:void 0})(w))};y.__private__.setPrecision=y.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var Ce,re="00000000000000000000000000000000",ge=y.__private__.getFileId=function(){return re},me=y.__private__.setFileId=function(w){return re=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(kn=new bu(v.userPermissions,v.userPassword,v.ownerPassword,re)),re};y.setFileId=function(w){return me(w),this},y.getFileId=function(){return ge()};var Oe=y.__private__.convertDateToPDFDate=function(w){var D=w.getTimezoneOffset(),te=D<0?"+":"-",pe=Math.floor(Math.abs(D/60)),je=Math.abs(D%60),Fe=[te,q(pe),"'",q(je),"'"].join("");return["D:",w.getFullYear(),q(w.getMonth()+1),q(w.getDate()),q(w.getHours()),q(w.getMinutes()),q(w.getSeconds()),Fe].join("")},xe=y.__private__.convertPDFDateToDate=function(w){var D=parseInt(w.substr(2,4),10),te=parseInt(w.substr(6,2),10)-1,pe=parseInt(w.substr(8,2),10),je=parseInt(w.substr(10,2),10),Fe=parseInt(w.substr(12,2),10),Je=parseInt(w.substr(14,2),10);return new Date(D,te,pe,je,Fe,Je,0)},H=y.__private__.setCreationDate=function(w){var D;if(w===void 0&&(w=new Date),w instanceof Date)D=Oe(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=w}return Ce=D},S=y.__private__.getCreationDate=function(w){var D=Ce;return w==="jsDate"&&(D=xe(Ce)),D};y.setCreationDate=function(w){return H(w),this},y.getCreationDate=function(w){return S(w)};var I,q=y.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},G=y.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ie=0,he=[],ke=[],ce=0,B=[],Ae=[],Ze=!1,tt=ke;y.__private__.setCustomOutputDestination=function(w){Ze=!0,tt=w};var ot=function(w){Ze||(tt=w)};y.__private__.resetCustomOutputDestination=function(){Ze=!1,tt=ke};var X=y.__private__.out=function(w){return w=w.toString(),ce+=w.length+1,tt.push(w),tt},at=y.__private__.write=function(w){return X(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},qt=y.__private__.getArrayBuffer=function(w){for(var D=w.length,te=new ArrayBuffer(D),pe=new Uint8Array(te);D--;)pe[D]=w.charCodeAt(D);return te},bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return bt};var Z=n.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(w){return Z=F===R?w/Dt:w,this};var ye,Ee=y.__private__.getFontSize=y.getFontSize=function(){return F===T?Z:Z*Dt},We=n.R2L||!1;y.__private__.setR2L=y.setR2L=function(w){return We=w,this},y.__private__.getR2L=y.getR2L=function(){return We};var et,St=y.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))ye=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');ye=w}else ye=parseInt(w,10)};y.__private__.getZoomMode=function(){return ye};var Kt,Ot=y.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');et=w};y.__private__.getPageMode=function(){return et};var $t=y.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Kt=w};y.__private__.getLayoutMode=function(){return Kt},y.__private__.setDisplayMode=y.setDisplayMode=function(w,D,te){return St(w),$t(D),Ot(te),this};var Yt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(w){if(Object.keys(Yt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Yt[w]},y.__private__.getDocumentProperties=function(){return Yt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(w){for(var D in Yt)Yt.hasOwnProperty(D)&&w[D]&&(Yt[D]=w[D]);return this},y.__private__.setDocumentProperty=function(w,D){if(Object.keys(Yt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Yt[w]=D};var ft,Dt,mt,Ga,Jt,At={},Mt={},Wt=[],_t={},Ca={},Nt={},Pt={},Na=null,zt=0,Ke=[],ra=new wb(y),wr=n.hotfixes||[],En={},zr={},_r=[],vt=function w(D,te,pe,je,Fe,Je){if(!(this instanceof w))return new w(D,te,pe,je,Fe,Je);isNaN(D)&&(D=1),isNaN(te)&&(te=0),isNaN(pe)&&(pe=0),isNaN(je)&&(je=1),isNaN(Fe)&&(Fe=0),isNaN(Je)&&(Je=0),this._matrix=[D,te,pe,je,Fe,Je]};Object.defineProperty(vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(se).join(w)},vt.prototype.multiply=function(w){var D=w.sx*this.sx+w.shy*this.shx,te=w.sx*this.shy+w.shy*this.sy,pe=w.shx*this.sx+w.sy*this.shx,je=w.shx*this.shy+w.sy*this.sy,Fe=w.tx*this.sx+w.ty*this.shx+this.tx,Je=w.tx*this.shy+w.ty*this.sy+this.ty;return new vt(D,te,pe,je,Fe,Je)},vt.prototype.decompose=function(){var w=this.sx,D=this.shy,te=this.shx,pe=this.sy,je=this.tx,Fe=this.ty,Je=Math.sqrt(w*w+D*D),ct=(w/=Je)*te+(D/=Je)*pe;te-=w*ct,pe-=D*ct;var pt=Math.sqrt(te*te+pe*pe);return ct/=pt,w*(pe/=pt)<D*(te/=pt)&&(w=-w,D=-D,ct=-ct,Je=-Je),{scale:new vt(Je,0,0,pt,0,0),translate:new vt(1,0,0,1,je,Fe),rotate:new vt(w,D,-D,w,0,0),skew:new vt(1,0,ct,1,0,0)}},vt.prototype.toString=function(w){return this.join(" ")},vt.prototype.inversed=function(){var w=this.sx,D=this.shy,te=this.shx,pe=this.sy,je=this.tx,Fe=this.ty,Je=1/(w*pe-D*te),ct=pe*Je,pt=-D*Je,It=-te*Je,Xt=w*Je;return new vt(ct,pt,It,Xt,-ct*je-It*Fe,-pt*je-Xt*Fe)},vt.prototype.applyToPoint=function(w){var D=w.x*this.sx+w.y*this.shx+this.tx,te=w.x*this.shy+w.y*this.sy+this.ty;return new $r(D,te)},vt.prototype.applyToRectangle=function(w){var D=this.applyToPoint(w),te=this.applyToPoint(new $r(w.x+w.w,w.y+w.h));return new Js(D.x,D.y,te.x-D.x,te.y-D.y)},vt.prototype.clone=function(){var w=this.sx,D=this.shy,te=this.shx,pe=this.sy,je=this.tx,Fe=this.ty;return new vt(w,D,te,pe,je,Fe)},y.Matrix=vt;var Fr=y.matrixMult=function(w,D){return D.multiply(w)},Tr=new vt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Tr;var Qn=function(w,D){if(!Ca[w]){var te=(D instanceof sc?"Sh":"P")+(Object.keys(_t).length+1).toString(10);D.id=te,Ca[w]=te,_t[te]=D,ra.publish("addPattern",D)}};y.ShadingPattern=sc,y.TilingPattern=yu,y.addShadingPattern=function(w,D){return K("addShadingPattern()"),Qn(w,D),this},y.beginTilingPattern=function(w){K("beginTilingPattern()"),no(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},y.endTilingPattern=function(w,D){K("endTilingPattern()"),D.stream=Ae[I].join(`
`),Qn(w,D),ra.publish("endTilingPattern",D),_r.pop().restore()};var er,ka=y.__private__.newObject=function(){var w=Ya();return cn(w,!0),w},Ya=y.__private__.newObjectDeferred=function(){return ie++,he[ie]=function(){return ce},ie},cn=function(w,D){return D=typeof D=="boolean"&&D,he[w]=ce,D&&X(w+" 0 obj"),w},ls=y.__private__.newAdditionalObject=function(){var w={objId:Ya(),content:""};return B.push(w),w},le=Ya(),be=Ya(),Pe=y.__private__.decodeColorString=function(w){var D=w.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length!==5||D[4]!=="k"&&D[4]!=="K"||(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var te=parseFloat(D[0]);D=[te,te,te,"r"]}for(var pe="#",je=0;je<3;je++)pe+=("0"+Math.floor(255*parseFloat(D[je])).toString(16)).slice(-2);return pe},rt=y.__private__.encodeColorString=function(w){var D;typeof w=="string"&&(w={ch1:w});var te=w.ch1,pe=w.ch2,je=w.ch3,Fe=w.ch4,Je=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var ct=new hv(te);if(ct.ok)te=ct.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var pt=parseInt(te.substr(1),16);te=pt>>16&255,pe=pt>>8&255,je=255&pt}if(pe===void 0||Fe===void 0&&te===pe&&pe===je)D=typeof te=="string"?te+" "+Je[0]:w.precision===2?P(te/255)+" "+Je[0]:$(te/255)+" "+Je[0];else if(Fe===void 0||Da(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return["1.","1.","1.",Je[1]].join(" ");D=typeof te=="string"?[te,pe,je,Je[1]].join(" "):w.precision===2?[P(te/255),P(pe/255),P(je/255),Je[1]].join(" "):[$(te/255),$(pe/255),$(je/255),Je[1]].join(" ")}else D=typeof te=="string"?[te,pe,je,Fe,Je[2]].join(" "):w.precision===2?[P(te),P(pe),P(je),P(Fe),Je[2]].join(" "):[$(te),$(pe),$(je),$(Fe),Je[2]].join(" ");return D},xt=y.__private__.getFilters=function(){return d},Ea=y.__private__.putStream=function(w){var D=(w=w||{}).data||"",te=w.filters||xt(),pe=w.alreadyAppliedFilters||[],je=w.addLength1||!1,Fe=D.length,Je=w.objectId,ct=function(Ln){return Ln};if(v!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(ct=kn.encryptor(Je,0));var pt={};te===!0&&(te=["FlateEncode"]);var It=w.additionalKeyValues||[],Xt=(pt=wt.API.processDataByFilters!==void 0?wt.API.processDataByFilters(D,te):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(pt.data.length!==0&&(It.push({key:"Length",value:pt.data.length}),je===!0&&It.push({key:"Length1",value:Fe})),Xt.length!=0)if(Xt.split("/").length-1==1)It.push({key:"Filter",value:Xt});else{It.push({key:"Filter",value:"["+Xt+"]"});for(var ha=0;ha<It.length;ha+=1)if(It[ha].key==="DecodeParms"){for(var Ja=[],un=0;un<pt.reverseChain.split("/").length-1;un+=1)Ja.push("null");Ja.push(It[ha].value),It[ha].value="["+Ja.join(" ")+"]"}}X("<<");for(var Ma=0;Ma<It.length;Ma++)X("/"+It[Ma].key+" "+It[Ma].value);X(">>"),pt.data.length!==0&&(X("stream"),X(ct(pt.data)),X("endstream"))},aa=y.__private__.putPage=function(w){var D=w.number,te=w.data,pe=w.objId,je=w.contentsObjId;cn(pe,!0),X("<</Type /Page"),X("/Parent "+w.rootDictionaryObjId+" 0 R"),X("/Resources "+w.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(se(w.mediaBox.bottomLeftX))+" "+parseFloat(se(w.mediaBox.bottomLeftY))+" "+se(w.mediaBox.topRightX)+" "+se(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&X("/CropBox ["+se(w.cropBox.bottomLeftX)+" "+se(w.cropBox.bottomLeftY)+" "+se(w.cropBox.topRightX)+" "+se(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&X("/BleedBox ["+se(w.bleedBox.bottomLeftX)+" "+se(w.bleedBox.bottomLeftY)+" "+se(w.bleedBox.topRightX)+" "+se(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&X("/TrimBox ["+se(w.trimBox.bottomLeftX)+" "+se(w.trimBox.bottomLeftY)+" "+se(w.trimBox.topRightX)+" "+se(w.trimBox.topRightY)+"]"),w.artBox!==null&&X("/ArtBox ["+se(w.artBox.bottomLeftX)+" "+se(w.artBox.bottomLeftY)+" "+se(w.artBox.topRightX)+" "+se(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&X("/UserUnit "+w.userUnit),ra.publish("putPage",{objId:pe,pageContext:Ke[D],pageNumber:D,page:te}),X("/Contents "+je+" 0 R"),X(">>"),X("endobj");var Fe=te.join(`
`);return F===R&&(Fe+=`
Q`),cn(je,!0),Ea({data:Fe,filters:xt(),objectId:je}),X("endobj"),pe},tr=y.__private__.putPages=function(){var w,D,te=[];for(w=1;w<=zt;w++)Ke[w].objId=Ya(),Ke[w].contentsObjId=Ya();for(w=1;w<=zt;w++)te.push(aa({number:w,data:Ae[w],objId:Ke[w].objId,contentsObjId:Ke[w].contentsObjId,mediaBox:Ke[w].mediaBox,cropBox:Ke[w].cropBox,bleedBox:Ke[w].bleedBox,trimBox:Ke[w].trimBox,artBox:Ke[w].artBox,userUnit:Ke[w].userUnit,rootDictionaryObjId:le,resourceDictionaryObjId:be}));cn(le,!0),X("<</Type /Pages");var pe="/Kids [";for(D=0;D<zt;D++)pe+=te[D]+" 0 R ";X(pe+"]"),X("/Count "+zt),X(">>"),X("endobj"),ra.publish("postPutPages")},gn=function(w){ra.publish("putFont",{font:w,out:X,newObject:ka,putStream:Ea}),w.isAlreadyPutted!==!0&&(w.objectNumber=ka(),X("<<"),X("/Type /Font"),X("/BaseFont /"+xu(w.postScriptName)),X("/Subtype /Type1"),typeof w.encoding=="string"&&X("/Encoding /"+w.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Ft=function(w){w.objectNumber=ka();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[se(w.x),se(w.y),se(w.x+w.width),se(w.y+w.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var te=w.pages[1].join(`
`);Ea({data:te,additionalKeyValues:D,objectId:w.objectNumber}),X("endobj")},Or=function(w,D){D||(D=21);var te=ka(),pe=(function(Je,ct){var pt,It=[],Xt=1/(ct-1);for(pt=0;pt<1;pt+=Xt)It.push(pt);if(It.push(1),Je[0].offset!=0){var ha={offset:0,color:Je[0].color};Je.unshift(ha)}if(Je[Je.length-1].offset!=1){var Ja={offset:1,color:Je[Je.length-1].color};Je.push(Ja)}for(var un="",Ma=0,Ln=0;Ln<It.length;Ln++){for(pt=It[Ln];pt>Je[Ma+1].offset;)Ma++;var xn=Je[Ma].offset,$n=(pt-xn)/(Je[Ma+1].offset-xn),ti=Je[Ma].color,fs=Je[Ma+1].color;un+=G(Math.round((1-$n)*ti[0]+$n*fs[0]).toString(16))+G(Math.round((1-$n)*ti[1]+$n*fs[1]).toString(16))+G(Math.round((1-$n)*ti[2]+$n*fs[2]).toString(16))}return un.trim()})(w.colors,D),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+D+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ea({data:pe,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),X("endobj"),w.objectNumber=ka(),X("<< /ShadingType "+w.type),X("/ColorSpace /DeviceRGB");var Fe="/Coords ["+se(parseFloat(w.coords[0]))+" "+se(parseFloat(w.coords[1]))+" ";w.type===2?Fe+=se(parseFloat(w.coords[2]))+" "+se(parseFloat(w.coords[3])):Fe+=se(parseFloat(w.coords[2]))+" "+se(parseFloat(w.coords[3]))+" "+se(parseFloat(w.coords[4]))+" "+se(parseFloat(w.coords[5])),X(Fe+="]"),w.matrix&&X("/Matrix ["+w.matrix.toString()+"]"),X("/Function "+te+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Qe=function(w,D){var te=Ya(),pe=ka();D.push({resourcesOid:te,objectOid:pe}),w.objectNumber=pe;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+w.boundingBox.map(se).join(" ")+"]"}),je.push({key:"XStep",value:se(w.xStep)}),je.push({key:"YStep",value:se(w.yStep)}),je.push({key:"Resources",value:te+" 0 R"}),w.matrix&&je.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),Ea({data:w.stream,additionalKeyValues:je,objectId:w.objectNumber}),X("endobj")},kt=function(w){for(var D in w.objectNumber=ka(),X("<<"),w)switch(D){case"opacity":X("/ca "+P(w[D]));break;case"stroke-opacity":X("/CA "+P(w[D]))}X(">>"),X("endobj")},ur=function(w){cn(w.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var D in X("/Font <<"),At)At.hasOwnProperty(D)&&(j===!1||j===!0&&_.hasOwnProperty(D))&&X("/"+D+" "+At[D].objectNumber+" 0 R");X(">>")})(),(function(){if(Object.keys(_t).length>0){for(var D in X("/Shading <<"),_t)_t.hasOwnProperty(D)&&_t[D]instanceof sc&&_t[D].objectNumber>=0&&X("/"+D+" "+_t[D].objectNumber+" 0 R");ra.publish("putShadingPatternDict"),X(">>")}})(),(function(D){if(Object.keys(_t).length>0){for(var te in X("/Pattern <<"),_t)_t.hasOwnProperty(te)&&_t[te]instanceof y.TilingPattern&&_t[te].objectNumber>=0&&_t[te].objectNumber<D&&X("/"+te+" "+_t[te].objectNumber+" 0 R");ra.publish("putTilingPatternDict"),X(">>")}})(w.objectOid),(function(){if(Object.keys(Nt).length>0){var D;for(D in X("/ExtGState <<"),Nt)Nt.hasOwnProperty(D)&&Nt[D].objectNumber>=0&&X("/"+D+" "+Nt[D].objectNumber+" 0 R");ra.publish("putGStateDict"),X(">>")}})(),(function(){for(var D in X("/XObject <<"),En)En.hasOwnProperty(D)&&En[D].objectNumber>=0&&X("/"+D+" "+En[D].objectNumber+" 0 R");ra.publish("putXobjectDict"),X(">>")})(),X(">>"),X("endobj")},Ka=function(w){Mt[w.fontName]=Mt[w.fontName]||{},Mt[w.fontName][w.fontStyle]=w.id},Ei=function(w,D,te,pe,je){var Fe={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:w,fontName:D,fontStyle:te,encoding:pe,isStandardFont:je||!1,metadata:{}};return ra.publish("addFont",{font:Fe,instance:this}),At[Fe.id]=Fe,Ka(Fe),Fe.id},Rr=y.__private__.pdfEscape=y.pdfEscape=function(w,D){return(function(te,pe){var je,Fe,Je,ct,pt,It,Xt,ha,Ja;if(Je=(pe=pe||{}).sourceEncoding||"Unicode",pt=pe.outputEncoding,(pe.autoencode||pt)&&At[ft].metadata&&At[ft].metadata[Je]&&At[ft].metadata[Je].encoding&&(ct=At[ft].metadata[Je].encoding,!pt&&At[ft].encoding&&(pt=At[ft].encoding),!pt&&ct.codePages&&(pt=ct.codePages[0]),typeof pt=="string"&&(pt=ct[pt]),pt)){for(Xt=!1,It=[],je=0,Fe=te.length;je<Fe;je++)(ha=pt[te.charCodeAt(je)])?It.push(String.fromCharCode(ha)):It.push(te[je]),It[je].charCodeAt(0)>>8&&(Xt=!0);te=It.join("")}for(je=te.length;Xt===void 0&&je!==0;)te.charCodeAt(je-1)>>8&&(Xt=!0),je--;if(!Xt)return te;for(It=pe.noBOM?[]:[254,255],je=0,Fe=te.length;je<Fe;je++){if((Ja=(ha=te.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push(Ja),It.push(ha-(Ja<<8))}return String.fromCharCode.apply(void 0,It)})(w,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cs=y.__private__.beginPage=function(w){Ae[++zt]=[],Ke[zt]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},Nl(zt),ot(Ae[I])},Gs=function(w,D){var te,pe,je;switch(a=D||a,typeof w=="string"&&(te=L(w.toLowerCase()),Array.isArray(te)&&(pe=te[0],je=te[1])),Array.isArray(w)&&(pe=w[0]*Dt,je=w[1]*Dt),isNaN(pe)&&(pe=l[0],je=l[1]),(pe>14400||je>14400)&&($a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),je=Math.min(14400,je)),l=[pe,je],a.substr(0,1)){case"l":je>pe&&(l=[je,pe]);break;case"p":pe>je&&(l=[je,pe])}cs(l),Lt(eo),X(Pr),Uo!==0&&X(Uo+" J"),In!==0&&X(In+" j"),ra.publish("addPage",{pageNumber:zt})},_l=function(w){w>0&&w<=zt&&(Ae.splice(w,1),Ke.splice(w,1),zt--,I>zt&&(I=zt),this.setPage(I))},Nl=function(w){w>0&&w<=zt&&(I=w)},jl=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ae.length-1},pc=function(w,D,te){var pe,je=void 0;return te=te||{},w=w!==void 0?w:At[ft].fontName,D=D!==void 0?D:At[ft].fontStyle,pe=w.toLowerCase(),Mt[pe]!==void 0&&Mt[pe][D]!==void 0?je=Mt[pe][D]:Mt[w]!==void 0&&Mt[w][D]!==void 0?je=Mt[w][D]:te.disableWarning===!1&&$a.warn("Unable to look up font label for font '"+w+"', '"+D+"'. Refer to getFontList() for available fonts."),je||te.noFallback||(je=Mt.times[D])==null&&(je=Mt.times.normal),je},Dr=y.__private__.putInfo=function(){var w=ka(),D=function(pe){return pe};for(var te in v!==null&&(D=kn.encryptor(w,0)),X("<<"),X("/Producer ("+Rr(D("jsPDF "+wt.version))+")"),Yt)Yt.hasOwnProperty(te)&&Yt[te]&&X("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+Rr(D(Yt[te]))+")");X("/CreationDate ("+Rr(D(Ce))+")"),X(">>"),X("endobj")},Ys=y.__private__.putCatalog=function(w){var D=(w=w||{}).rootDictionaryObjId||le;switch(ka(),X("<<"),X("/Type /Catalog"),X("/Pages "+D+" 0 R"),ye||(ye="fullwidth"),ye){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+ye;te.substr(te.length-1)==="%"&&(ye=parseInt(ye)/100),typeof ye=="number"&&X("/OpenAction [3 0 R /XYZ null null "+P(ye)+"]")}switch(Kt||(Kt="continuous"),Kt){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}et&&X("/PageMode /"+et),ra.publish("putCatalog"),X(">>"),X("endobj")},us=y.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(ie+1)),X("/Root "+ie+" 0 R"),X("/Info "+(ie-1)+" 0 R"),v!==null&&X("/Encrypt "+kn.oid+" 0 R"),X("/ID [ <"+re+"> <"+re+"> ]"),X(">>")},xa=y.__private__.putHeader=function(){X("%PDF-"+C),X("%")},Sl=y.__private__.putXRef=function(){var w="0000000000";X("xref"),X("0 "+(ie+1)),X("0000000000 65535 f ");for(var D=1;D<=ie;D++)typeof he[D]=="function"?X((w+he[D]()).slice(-10)+" 00000 n "):he[D]!==void 0?X((w+he[D]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},Es=y.__private__.buildDocument=function(){var w;ie=0,ce=0,ke=[],he=[],B=[],le=Ya(),be=Ya(),ot(ke),ra.publish("buildDocument"),xa(),tr(),(function(){ra.publish("putAdditionalObjects");for(var te=0;te<B.length;te++){var pe=B[te];cn(pe.objId,!0),X(pe.content),X("endobj")}ra.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var te in At)At.hasOwnProperty(te)&&(j===!1||j===!0&&_.hasOwnProperty(te))&&gn(At[te])})(),(function(){var te;for(te in Nt)Nt.hasOwnProperty(te)&&kt(Nt[te])})(),(function(){for(var te in En)En.hasOwnProperty(te)&&Ft(En[te])})(),(function(te){var pe;for(pe in _t)_t.hasOwnProperty(pe)&&(_t[pe]instanceof sc?Or(_t[pe]):_t[pe]instanceof yu&&Qe(_t[pe],te))})(w),ra.publish("putResources"),w.forEach(ur),ur({resourcesOid:be,objectOid:Number.MAX_SAFE_INTEGER}),ra.publish("postPutResources"),v!==null&&(kn.oid=ka(),X("<<"),X("/Filter /Standard"),X("/V "+kn.v),X("/R "+kn.r),X("/U <"+kn.toHexString(kn.U)+">"),X("/O <"+kn.toHexString(kn.O)+">"),X("/P "+kn.P),X(">>"),X("endobj")),Dr(),Ys();var D=ce;return Sl(),us(),X("startxref"),X(""+D),X("%%EOF"),ot(Ae[I]),ke.join(`
`)},ki=y.__private__.getBlob=function(w){return new Blob([qt(w)],{type:"application/pdf"})},Al=y.output=y.__private__.output=(er=function(w,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",w){case void 0:return Es();case"save":y.save(D.filename);break;case"arraybuffer":return qt(Es());case"blob":return ki(Es());case"bloburi":case"bloburl":if(Gt.URL!==void 0&&typeof Gt.URL.createObjectURL=="function")return Gt.URL&&Gt.URL.createObjectURL(ki(Es()))||void 0;$a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",pe=Es();try{te=xb(pe)}catch{te=xb(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+D.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(je=D.pdfObjectUrl,Fe="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",ct=Gt.open();return ct!==null&&ct.document.write(Je),ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',It=Gt.open();if(It!==null){It.document.write(pt);var Xt=this;It.document.documentElement.querySelector("#pdfViewer").onload=function(){It.document.title=D.filename,It.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Xt.output("bloburl"))}}return It}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ha='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Ja=Gt.open();if(Ja!==null&&(Ja.document.write(ha),Ja.document.title=D.filename),Ja||typeof safari>"u")return Ja;break;case"datauri":case"dataurl":return Gt.document.location.href=this.output("datauristring",D);default:return null}},er.foo=function(){try{return er.apply(this,arguments)}catch(te){var w=te.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var D="Error in function "+w.split(`
`)[0].split("<")[0]+": "+te.message;if(!Gt.console)throw new Error(D);Gt.console.error(D,te),Gt.alert&&alert(D)}},er.foo.bar=er,er.foo),dr=function(w){return Array.isArray(wr)===!0&&wr.indexOf(w)>-1};switch(s){case"pt":Dt=1;break;case"mm":Dt=72/25.4;break;case"cm":Dt=72/2.54;break;case"in":Dt=72;break;case"px":Dt=dr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Dt=12;break;case"ex":Dt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Dt=s}var kn=null;H(),me();var bn=y.__private__.getPageInfo=y.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ke[w].objId,pageNumber:w,pageContext:Ke[w]}},Po=y.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in Ke)if(Ke[D].objId===w)break;return bn(D)},gc=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Ke[I].objId,pageNumber:I,pageContext:Ke[I]}};y.addPage=function(){return Gs.apply(this,arguments),this},y.setPage=function(){return Nl.apply(this,arguments),ot.call(this,Ae[I]),this},y.insertPage=function(w){return this.addPage(),this.movePage(I,w),this},y.movePage=function(w,D){var te,pe;if(w>D){te=Ae[w],pe=Ke[w];for(var je=w;je>D;je--)Ae[je]=Ae[je-1],Ke[je]=Ke[je-1];Ae[D]=te,Ke[D]=pe,this.setPage(D)}else if(w<D){te=Ae[w],pe=Ke[w];for(var Fe=w;Fe<D;Fe++)Ae[Fe]=Ae[Fe+1],Ke[Fe]=Ke[Fe+1];Ae[D]=te,Ke[D]=pe,this.setPage(D)}return this},y.deletePage=function(){return _l.apply(this,arguments),this},y.__private__.text=y.text=function(w,D,te,pe,je){var Fe,Je,ct,pt,It,Xt,ha,Ja,un,Ma=(pe=pe||{}).scope||this;if(typeof w=="number"&&typeof D=="number"&&(typeof te=="string"||Array.isArray(te))){var Ln=te;te=D,D=w,w=Ln}if(arguments[3]instanceof vt==0?(ct=arguments[4],pt=arguments[5],Da(ha=arguments[3])==="object"&&ha!==null||(typeof ct=="string"&&(pt=ct,ct=null),typeof ha=="string"&&(pt=ha,ha=null),typeof ha=="number"&&(ct=ha,ha=null),pe={flags:ha,angle:ct,align:pt})):(K("The transform parameter of text() with a Matrix value"),un=je),isNaN(D)||isNaN(te)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return Ma;var xn,$n="",ti=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:Ks,fs=Ma.internal.scaleFactor;function ai(va){return va=va.split("	").join(Array(pe.TabLen||9).join(" ")),Rr(va,ha)}function Ml(va){for(var fa,Pa=va.concat(),hn=[],Us=Pa.length;Us--;)typeof(fa=Pa.shift())=="string"?hn.push(fa):Array.isArray(va)&&(fa.length===1||fa[1]===void 0&&fa[2]===void 0)?hn.push(fa[0]):hn.push([fa[0],fa[1],fa[2]]);return hn}function qo(va,fa){var Pa;if(typeof va=="string")Pa=fa(va)[0];else if(Array.isArray(va)){for(var hn,Us,bs=va.concat(),oo=[],Ul=bs.length;Ul--;)typeof(hn=bs.shift())=="string"?oo.push(fa(hn)[0]):Array.isArray(hn)&&typeof hn[0]=="string"&&(Us=fa(hn[0],hn[1],hn[2]),oo.push([Us[0],Us[1],Us[2]]));Pa=oo}return Pa}var Ts=!1,ms=!0;if(typeof w=="string")Ts=!0;else if(Array.isArray(w)){var so=w.concat();Je=[];for(var ni,Un=so.length;Un--;)(typeof(ni=so.shift())!="string"||Array.isArray(ni)&&typeof ni[0]!="string")&&(ms=!1);Ts=ms}if(Ts===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var Ti=Z/Ma.internal.scaleFactor,Oi=Ti*(ti-1);switch(pe.baseline){case"bottom":te-=Oi;break;case"top":te+=Ti-Oi;break;case"hanging":te+=Ti-2*Oi;break;case"middle":te+=Ti/2-Oi}if((Xt=pe.maxWidth||0)>0&&(typeof w=="string"?w=Ma.splitTextToSize(w,Xt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(va,fa){return va.concat(Ma.splitTextToSize(fa,Xt))},[]))),Fe={text:w,x:D,y:te,options:pe,mutex:{pdfEscape:Rr,activeFontKey:ft,fonts:At,activeFontSize:Z}},ra.publish("preProcessText",Fe),w=Fe.text,ct=(pe=Fe.options).angle,un instanceof vt==0&&ct&&typeof ct=="number"){ct*=Math.PI/180,pe.rotationDirection===0&&(ct=-ct),F===R&&(ct=-ct);var zo=Math.cos(ct),Os=Math.sin(ct);un=new vt(zo,Os,-Os,zo,0,0)}else ct&&ct instanceof vt&&(un=ct);F!==R||un||(un=Tr),(It=pe.charSpace||Hr)!==void 0&&($n+=se(oe(It))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ja=pe.horizontalScale)!==void 0&&($n+=se(100*Ja)+` Tz
`),pe.lang;var fr=-1,ri=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,Fo=Ma.internal.getCurrentPageInfo().pageContext;switch(ri){case 0:case!1:case"fill":fr=0;break;case 1:case!0:case"stroke":fr=1;break;case 2:case"fillThenStroke":fr=2;break;case 3:case"invisible":fr=3;break;case 4:case"fillAndAddForClipping":fr=4;break;case 5:case"strokeAndAddPathForClipping":fr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fr=6;break;case 7:case"addToPathForClipping":fr=7}var Pl=Fo.usedRenderingMode!==void 0?Fo.usedRenderingMode:-1;fr!==-1?$n+=fr+` Tr
`:Pl!==-1&&($n+=`0 Tr
`),fr!==-1&&(Fo.usedRenderingMode=fr),pt=pe.align||"left";var Ir,ps=Z*ti,si=Ma.internal.pageSize.getWidth(),Il=At[ft];It=pe.charSpace||Hr,Xt=pe.maxWidth||0,ha=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var gs=[],Ri=function(va){return Ma.getStringUnitWidth(va,{font:Il,charSpace:It,fontSize:Z,doKerning:!1})*Z/fs};if(Object.prototype.toString.call(w)==="[object Array]"){var jr;Je=Ml(w),pt!=="left"&&(Ir=Je.map(Ri));var mr,Rs=0;if(pt==="right"){D-=Ir[0],w=[],Un=Je.length;for(var Ds=0;Ds<Un;Ds++)Ds===0?(mr=Mr(D),jr=Hn(te)):(mr=oe(Rs-Ir[Ds]),jr=-ps),w.push([Je[Ds],mr,jr]),Rs=Ir[Ds]}else if(pt==="center"){D-=Ir[0]/2,w=[],Un=Je.length;for(var ii=0;ii<Un;ii++)ii===0?(mr=Mr(D),jr=Hn(te)):(mr=oe((Rs-Ir[ii])/2),jr=-ps),w.push([Je[ii],mr,jr]),Rs=Ir[ii]}else if(pt==="left"){w=[],Un=Je.length;for(var Ho=0;Ho<Un;Ho++)w.push(Je[Ho])}else if(pt==="justify"&&Il.encoding==="Identity-H"){w=[],Un=Je.length,Xt=Xt!==0?Xt:si;for(var $o=0,dn=0;dn<Un;dn++)if(jr=dn===0?Hn(te):-ps,mr=dn===0?Mr(D):$o,dn<Un-1){var Sc=oe((Xt-Ir[dn])/(Je[dn].split(" ").length-1)),Ms=Je[dn].split(" ");w.push([Ms[0]+" ",mr,jr]),$o=0;for(var Ps=1;Ps<Ms.length;Ps++){var Vn=(Ri(Ms[Ps-1]+" "+Ms[Ps])-Ri(Ms[Ps]))*fs+Sc;Ps==Ms.length-1?w.push([Ms[Ps],Vn,0]):w.push([Ms[Ps]+" ",Vn,0]),$o-=Vn}}else w.push([Je[dn],mr,jr]);w.push(["",$o,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],Un=Je.length,Xt=Xt!==0?Xt:si,dn=0;dn<Un;dn++){jr=dn===0?Hn(te):-ps,mr=dn===0?Mr(D):0;var oi=Je[dn].split(" ").length-1,Vo=oi>0?(Xt-Ir[dn])/oi:0;dn<Un-1?gs.push(se(oe(Vo))):gs.push(0),w.push([Je[dn],mr,jr])}}}(typeof pe.R2L=="boolean"?pe.R2L:We)===!0&&(w=qo(w,function(va,fa,Pa){return[va.split("").reverse().join(""),fa,Pa]})),Fe={text:w,x:D,y:te,options:pe,mutex:{pdfEscape:Rr,activeFontKey:ft,fonts:At,activeFontSize:Z}},ra.publish("postProcessText",Fe),w=Fe.text,xn=Fe.mutex.isHex||!1;var Go=At[ft].encoding;Go!=="WinAnsiEncoding"&&Go!=="StandardEncoding"||(w=qo(w,function(va,fa,Pa){return[ai(va),fa,Pa]})),Je=Ml(w),w=[];for(var li,ci,Is,io=Array.isArray(Je[0])?1:0,Ur="",ui=function(va,fa,Pa){var hn="";return Pa instanceof vt?(Pa=typeof pe.angle=="number"?Fr(Pa,new vt(1,0,0,1,va,fa)):Fr(new vt(1,0,0,1,va,fa),Pa),F===R&&(Pa=Fr(new vt(1,0,0,-1,0,0),Pa)),hn=Pa.join(" ")+` Tm
`):hn=se(va)+" "+se(fa)+` Td
`,hn},ar=0;ar<Je.length;ar++){switch(Ur="",io){case 1:Is=(xn?"<":"(")+Je[ar][0]+(xn?">":")"),li=parseFloat(Je[ar][1]),ci=parseFloat(Je[ar][2]);break;case 0:Is=(xn?"<":"(")+Je[ar]+(xn?">":")"),li=Mr(D),ci=Hn(te)}gs!==void 0&&gs[ar]!==void 0&&(Ur=gs[ar]+` Tw
`),ar===0?w.push(Ur+ui(li,ci,un)+Is):io===0?w.push(Ur+Is):io===1&&w.push(Ur+ui(li,ci,un)+Is)}w=io===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var Vr=`BT
/`;return Vr+=ft+" "+Z+` Tf
`,Vr+=se(Z*ti)+` TL
`,Vr+=ks+`
`,Vr+=$n,Vr+=w,X(Vr+="ET"),_[ft]=!0,Ma};var Cl=y.__private__.clip=y.clip=function(w){return X(w==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Cl("evenodd")},y.__private__.discardPath=y.discardPath=function(){return X("n"),this};var hr=y.__private__.isValidStyle=function(w){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(D=!0),D};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(w){return hr(w)&&(p=w),this};var El=y.__private__.getStyle=y.getStyle=function(w){var D=p;switch(w){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=w}return D},kl=y.close=function(){return X("h"),this};y.stroke=function(){return X("S"),this},y.fill=function(w){return ds("f",w),this},y.fillEvenOdd=function(w){return ds("f*",w),this},y.fillStroke=function(w){return ds("B",w),this},y.fillStrokeEvenOdd=function(w){return ds("B*",w),this};var ds=function(w,D){Da(D)==="object"?xc(D,w):X(w)},Qi=function(w){w===null||F===R&&w===void 0||(w=El(w),X(w))};function bc(w,D,te,pe,je){var Fe=new yu(D||this.boundingBox,te||this.xStep,pe||this.yStep,this.gState,je||this.matrix);Fe.stream=this.stream;var Je=w+"$$"+this.cloneIndex+++"$$";return Qn(Je,Fe),Fe}var xc=function(w,D){var te=Ca[w.key],pe=_t[te];if(pe instanceof sc)X("q"),X(Ll(D)),pe.gState&&y.setGState(pe.gState),X(w.matrix.toString()+" cm"),X("/"+te+" sh"),X("Q");else if(pe instanceof yu){var je=new vt(1,0,0,-1,0,ei());w.matrix&&(je=je.multiply(w.matrix||Tr),te=bc.call(pe,w.key,w.boundingBox,w.xStep,w.yStep,je).id),X("q"),X("/Pattern cs"),X("/"+te+" scn"),pe.gState&&y.setGState(pe.gState),X(D),X("Q")}},Ll=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Tl=y.moveTo=function(w,D){return X(se(oe(w))+" "+se(ue(D))+" m"),this},vc=y.lineTo=function(w,D){return X(se(oe(w))+" "+se(ue(D))+" l"),this},Nr=y.curveTo=function(w,D,te,pe,je,Fe){return X([se(oe(w)),se(ue(D)),se(oe(te)),se(ue(pe)),se(oe(je)),se(ue(Fe)),"c"].join(" ")),this};y.__private__.line=y.line=function(w,D,te,pe,je){if(isNaN(w)||isNaN(D)||isNaN(te)||isNaN(pe)||!hr(je))throw new Error("Invalid arguments passed to jsPDF.line");return F===T?this.lines([[te-w,pe-D]],w,D,[1,1],je||"S"):this.lines([[te-w,pe-D]],w,D,[1,1]).stroke()},y.__private__.lines=y.lines=function(w,D,te,pe,je,Fe){var Je,ct,pt,It,Xt,ha,Ja,un,Ma,Ln,xn,$n;if(typeof w=="number"&&($n=te,te=D,D=w,w=$n),pe=pe||[1,1],Fe=Fe||!1,isNaN(D)||isNaN(te)||!Array.isArray(w)||!Array.isArray(pe)||!hr(je)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Tl(D,te),Je=pe[0],ct=pe[1],It=w.length,Ln=D,xn=te,pt=0;pt<It;pt++)(Xt=w[pt]).length===2?(Ln=Xt[0]*Je+Ln,xn=Xt[1]*ct+xn,vc(Ln,xn)):(ha=Xt[0]*Je+Ln,Ja=Xt[1]*ct+xn,un=Xt[2]*Je+Ln,Ma=Xt[3]*ct+xn,Ln=Xt[4]*Je+Ln,xn=Xt[5]*ct+xn,Nr(ha,Ja,un,Ma,Ln,xn));return Fe&&kl(),Qi(je),this},y.path=function(w){for(var D=0;D<w.length;D++){var te=w[D],pe=te.c;switch(te.op){case"m":Tl(pe[0],pe[1]);break;case"l":vc(pe[0],pe[1]);break;case"c":Nr.apply(this,pe);break;case"h":kl()}}return this},y.__private__.rect=y.rect=function(w,D,te,pe,je){if(isNaN(w)||isNaN(D)||isNaN(te)||isNaN(pe)||!hr(je))throw new Error("Invalid arguments passed to jsPDF.rect");return F===T&&(pe=-pe),X([se(oe(w)),se(ue(D)),se(oe(te)),se(oe(pe)),"re"].join(" ")),Qi(je),this},y.__private__.triangle=y.triangle=function(w,D,te,pe,je,Fe,Je){if(isNaN(w)||isNaN(D)||isNaN(te)||isNaN(pe)||isNaN(je)||isNaN(Fe)||!hr(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-w,pe-D],[je-te,Fe-pe],[w-je,D-Fe]],w,D,[1,1],Je,!0),this},y.__private__.roundedRect=y.roundedRect=function(w,D,te,pe,je,Fe,Je){if(isNaN(w)||isNaN(D)||isNaN(te)||isNaN(pe)||isNaN(je)||isNaN(Fe)||!hr(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ct=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*te),Fe=Math.min(Fe,.5*pe),this.lines([[te-2*je,0],[je*ct,0,je,Fe-Fe*ct,je,Fe],[0,pe-2*Fe],[0,Fe*ct,-je*ct,Fe,-je,Fe],[2*je-te,0],[-je*ct,0,-je,-Fe*ct,-je,-Fe],[0,2*Fe-pe],[0,-Fe*ct,je*ct,-Fe,je,-Fe]],w+je,D,[1,1],Je,!0),this},y.__private__.ellipse=y.ellipse=function(w,D,te,pe,je){if(isNaN(w)||isNaN(D)||isNaN(te)||isNaN(pe)||!hr(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*te,Je=4/3*(Math.SQRT2-1)*pe;return Tl(w+te,D),Nr(w+te,D-Je,w+Fe,D-pe,w,D-pe),Nr(w-Fe,D-pe,w-te,D-Je,w-te,D),Nr(w-te,D+Je,w-Fe,D+pe,w,D+pe),Nr(w+Fe,D+pe,w+te,D+Je,w+te,D),Qi(je),this},y.__private__.circle=y.circle=function(w,D,te,pe){if(isNaN(w)||isNaN(D)||isNaN(te)||!hr(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,D,te,te,pe)},y.setFont=function(w,D,te){return te&&(D=W(D,te)),ft=pc(w,D,{disableWarning:!1}),this};var hs=y.__private__.getFont=y.getFont=function(){return At[pc.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var w,D,te={};for(w in Mt)if(Mt.hasOwnProperty(w))for(D in te[w]=[],Mt[w])Mt[w].hasOwnProperty(D)&&te[w].push(D);return te},y.addFont=function(w,D,te,pe,je){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(te=W(te,pe)),Ei.call(this,w,D,te,je=je||"Identity-H")};var Ks,eo=n.lineWidth||.200025,Li=y.__private__.getLineWidth=y.getLineWidth=function(){return eo},Lt=y.__private__.setLineWidth=y.setLineWidth=function(w){return eo=w,X(se(oe(w))+" w"),this};y.__private__.setLineDash=wt.API.setLineDash=wt.API.setLineDashPattern=function(w,D){if(w=w||[],D=D||0,isNaN(D)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(te){return se(oe(te))}).join(" "),D=se(oe(D)),X("["+w+"] "+D+" d"),this};var yc=y.__private__.getLineHeight=y.getLineHeight=function(){return Z*Ks};y.__private__.getLineHeight=y.getLineHeight=function(){return Z*Ks};var Ol=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(Ks=w),this},wc=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Ks};Ol(n.lineHeight);var Mr=y.__private__.getHorizontalCoordinate=function(w){return oe(w)},Hn=y.__private__.getVerticalCoordinate=function(w){return F===R?w:Ke[I].mediaBox.topRightY-Ke[I].mediaBox.bottomLeftY-oe(w)},Rl=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(w){return se(Mr(w))},to=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(w){return se(Hn(w))},Pr=n.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Pe(Pr)},y.__private__.setStrokeColor=y.setDrawColor=function(w,D,te,pe){return Pr=rt({ch1:w,ch2:D,ch3:te,ch4:pe,pdfColorType:"draw",precision:2}),X(Pr),this};var ao=n.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Pe(ao)},y.__private__.setFillColor=y.setFillColor=function(w,D,te,pe){return ao=rt({ch1:w,ch2:D,ch3:te,ch4:pe,pdfColorType:"fill",precision:2}),X(ao),this};var ks=n.textColor||"0 g",_c=y.__private__.getTextColor=y.getTextColor=function(){return Pe(ks)};y.__private__.setTextColor=y.setTextColor=function(w,D,te,pe){return ks=rt({ch1:w,ch2:D,ch3:te,ch4:pe,pdfColorType:"text",precision:3}),this};var Hr=n.charSpace,Io=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Hr||0)};y.__private__.setCharSpace=y.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Hr=w,this};var Uo=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(w){var D=y.CapJoinStyles[w];if(D===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uo=D,X(D+" J"),this};var In=0;y.__private__.setLineJoin=y.setLineJoin=function(w){var D=y.CapJoinStyles[w];if(D===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return In=D,X(D+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(se(oe(w))+" M"),this},y.GState=lf,y.setGState=function(w){(w=typeof w=="string"?Nt[Pt[w]]:Ls(null,w)).equals(Na)||(X("/"+w.id+" gs"),Na=w)};var Ls=function(w,D){if(!w||!Pt[w]){var te=!1;for(var pe in Nt)if(Nt.hasOwnProperty(pe)&&Nt[pe].equals(D)){te=!0;break}if(te)D=Nt[pe];else{var je="GS"+(Object.keys(Nt).length+1).toString(10);Nt[je]=D,D.id=je}return w&&(Pt[w]=D.id),ra.publish("addGState",D),D}};y.addGState=function(w,D){return Ls(w,D),this},y.saveGraphicsState=function(){return X("q"),Wt.push({key:ft,size:Z,color:ks}),this},y.restoreGraphicsState=function(){X("Q");var w=Wt.pop();return ft=w.key,Z=w.size,ks=w.color,Na=null,this},y.setCurrentTransformationMatrix=function(w){return X(w.toString()+" cm"),this},y.comment=function(w){return X("#"+w),this};var $r=function(w,D){var te=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Fe){isNaN(Fe)||(te=parseFloat(Fe))}});var pe=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Fe){isNaN(Fe)||(pe=parseFloat(Fe))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(Fe){je=Fe.toString()}}),this},Js=function(w,D,te,pe){$r.call(this,w,D),this.type="rect";var je=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(Je){isNaN(Je)||(je=parseFloat(Je))}});var Fe=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Je){isNaN(Je)||(Fe=parseFloat(Je))}}),this},Bo=function(){this.page=zt,this.currentPage=I,this.pages=Ae.slice(0),this.pagesContext=Ke.slice(0),this.x=mt,this.y=Ga,this.matrix=Jt,this.width=Xs(I),this.height=Dl(I),this.outputDestination=tt,this.id="",this.objectNumber=-1};Bo.prototype.restore=function(){zt=this.page,I=this.currentPage,Ke=this.pagesContext,Ae=this.pages,mt=this.x,Ga=this.y,Jt=this.matrix,ro(I,this.width),Zs(I,this.height),tt=this.outputDestination};var no=function(w,D,te,pe,je){_r.push(new Bo),zt=I=0,Ae=[],mt=w,Ga=D,Jt=je,cs([te,pe])};for(var Ws in y.beginFormObject=function(w,D,te,pe,je){return no(w,D,te,pe,je),this},y.endFormObject=function(w){return(function(D){if(zr[D])_r.pop().restore();else{var te=new Bo,pe="Xo"+(Object.keys(En).length+1).toString(10);te.id=pe,zr[D]=pe,En[pe]=te,ra.publish("addFormObject",te),_r.pop().restore()}})(w),this},y.doFormObject=function(w,D){var te=En[zr[w]];return X("q"),X(D.toString()+" cm"),X("/"+te.id+" Do"),X("Q"),this},y.getFormObject=function(w){var D=En[zr[w]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},y.save=function(w,D){return w=w||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(ac(ki(Es()),w),typeof ac.unload=="function"&&Gt.setTimeout&&setTimeout(ac.unload,911),this):new Promise(function(te,pe){try{var je=ac(ki(Es()),w);typeof ac.unload=="function"&&Gt.setTimeout&&setTimeout(ac.unload,911),te(je)}catch(Fe){pe(Fe.message)}})},wt.API)wt.API.hasOwnProperty(Ws)&&(Ws==="events"&&wt.API.events.length?(function(w,D){var te,pe,je;for(je=D.length-1;je!==-1;je--)te=D[je][0],pe=D[je][1],w.subscribe.apply(w,[te].concat(typeof pe=="function"?[pe]:pe))})(ra,wt.API.events):y[Ws]=wt.API[Ws]);function Xs(w){return Ke[w].mediaBox.topRightX-Ke[w].mediaBox.bottomLeftX}function ro(w,D){Ke[w].mediaBox.topRightX=D+Ke[w].mediaBox.bottomLeftX}function Dl(w){return Ke[w].mediaBox.topRightY-Ke[w].mediaBox.bottomLeftY}function Zs(w,D){Ke[w].mediaBox.topRightY=D+Ke[w].mediaBox.bottomLeftY}var Qs=y.getPageWidth=function(w){return Xs(w=w||I)/Dt},Nc=y.setPageWidth=function(w,D){ro(w,D*Dt)},ei=y.getPageHeight=function(w){return Dl(w=w||I)/Dt},jc=y.setPageHeight=function(w,D){Zs(w,D*Dt)};return y.internal={pdfEscape:Rr,getStyle:El,getFont:hs,getFontSize:Ee,getCharSpace:Io,getTextColor:_c,getLineHeight:yc,getLineHeightFactor:wc,getLineWidth:Li,write:at,getHorizontalCoordinate:Mr,getVerticalCoordinate:Hn,getCoordinateString:Rl,getVerticalCoordinateString:to,collections:{},newObject:ka,newAdditionalObject:ls,newObjectDeferred:Ya,newObjectDeferredBegin:cn,getFilters:xt,putStream:Ea,events:ra,scaleFactor:Dt,pageSize:{getWidth:function(){return Qs(I)},setWidth:function(w){Nc(I,w)},getHeight:function(){return ei(I)},setHeight:function(w){jc(I,w)}},encryptionOptions:v,encryption:kn,getEncryptor:function(w){return v!==null?kn.encryptor(w,0):function(D){return D}},output:Al,getNumberOfPages:jl,get pages(){return Ae},out:X,f2:P,f3:$,getPageInfo:bn,getPageInfoByObjId:Po,getCurrentPageInfo:gc,getPDFVersion:k,Point:$r,Rectangle:Js,Matrix:vt,hasHotfix:dr},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Qs(I)},set:function(w){Nc(I,w)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return ei(I)},set:function(w){jc(I,w)},enumerable:!0,configurable:!0}),(function(w){for(var D=0,te=bt.length;D<te;D++){var pe=Ei.call(this,w[D][0],w[D][1],w[D][2],bt[D][3],!0);j===!1&&(_[pe]=!0);var je=w[D][0].split("-");Ka({id:pe,fontName:je[0],fontStyle:je[1]||""})}ra.publish("addFonts",{fonts:At,dictionary:Mt})}).call(y,bt),ft="F1",Gs(l,a),ra.publish("initialized"),y}bu.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},bu.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},bu.prototype.hexToBytes=function(n){for(var e=[],a=0;a<n.length;a+=2)e.push(String.fromCharCode(parseInt(n.substr(a,2),16)));return e.join("")},bu.prototype.processOwnerPassword=function(n,e){return $0(H0(e).substr(0,5),n)},bu.prototype.encryptor=function(n,e){var a=H0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return $0(a,s)}},lf.prototype.equals=function(n){var e,a="id,objectNumber,equals";if(!n||Da(n)!==Da(this))return!1;var s=0;for(e in this)if(!(a.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;s++}for(e in n)n.hasOwnProperty(e)&&a.indexOf(e)<0&&s--;return s===0},wt.API={events:[]},wt.version="4.0.0";var Sn=wt.API,gp=1,mc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hu=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ea=function(n){return n.toFixed(2)},bl=function(n){return n.toFixed(5)};Sn.__acroform__={};var os=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},_b=function(n){return n*gp},Ki=function(n){var e=new gv,a=ht.internal.getHeight(n)||0,s=ht.internal.getWidth(n)||0;return e.BBox=[0,0,Number(ea(s)),Number(ea(a))],e},RS=Sn.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},DS=Sn.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},MS=Sn.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Dn=Sn.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return MS(n,e-1)},Mn=Sn.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return RS(n,e-1)},Pn=Sn.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return DS(n,e-1)},PS=Sn.__acroform__.calculateCoordinates=function(n,e){var a=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,l=n[0],c=n[1],d=n[2],h=n[3],f={};return f.lowerLeft_X=a(l)||0,f.lowerLeft_Y=s(c+h)||0,f.upperRight_X=a(l+d)||0,f.upperRight_Y=s(c)||0,[Number(ea(f.lowerLeft_X)),Number(ea(f.lowerLeft_Y)),Number(ea(f.upperRight_X)),Number(ea(f.upperRight_Y))]},IS=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],a=n._V||n.DV,s=V0(n,a),l=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+l+" "+ea(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var c=Ki(n);return c.scope=n.scope,c.stream=e.join(`
`),c}},V0=function(n,e){var a=n.fontSize===0?n.maxFontSize:n.fontSize,s={text:"",fontSize:""},l=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");l=n.multiline?l.map(function(P){return P.split(`
`)}):l.map(function(P){return[P]});var c=a,d=ht.internal.getHeight(n)||0;d=d<0?-d:d;var h=ht.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(P,$,oe){if(P+1<l.length){var ue=$+" "+l[P+1][0];return zh(ue,n,oe).width<=h-4}return!1};c++;e:for(;c>0;){e="",c--;var p,v,j=zh("3",n,c).height,_=n.multiline?d-c:(d-j)/2,y=_+=2,C=0,k=0,O=0;if(c<=0){e=`(...) Tj
`,e+="% Width of Text: "+zh(e,n,c=12).width+", FieldWidth:"+h+`
`;break}for(var L="",T=0,R=0;R<l.length;R++)if(l.hasOwnProperty(R)){var F=!1;if(l[R].length!==1&&O!==l[R].length-1){if((j+2)*(T+2)+2>d)continue e;L+=l[R][O],F=!0,k=R,R--}else{L=(L+=l[R][O]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var ne=parseInt(R),de=f(ne,L,c),W=R>=l.length-1;if(de&&!W){L+=" ",O=0;continue}if(de||W){if(W)k=ne;else if(n.multiline&&(j+2)*(T+2)+2>d)continue e}else{if(!n.multiline||(j+2)*(T+2)+2>d)continue e;k=ne}}for(var se="",K=C;K<=k;K++){var we=l[K];if(n.multiline){if(K===k){se+=we[O]+" ",O=(O+1)%we.length;continue}if(K===C){se+=we[we.length-1]+" ";continue}}se+=we[0]+" "}switch(se=se.substr(se.length-1)==" "?se.substr(0,se.length-1):se,v=zh(se,n,c).width,n.textAlign){case"right":p=h-v-2;break;case"center":p=(h-v)/2;break;default:p=2}e+=ea(p)+" "+ea(y)+` Td
`,e+="("+mc(se)+`) Tj
`,e+=-ea(p)+` 0 Td
`,y=-(c+2),v=0,C=F?k:k+1,T++,L=""}break}return s.text=e,s.fontSize=c,s},zh=function(n,e,a){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),l=e.scope.getStringUnitWidth(n,{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:l}},US={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},BS=function(n,e){var a={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(s){return s.type===a.type&&s.object===a.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(a)},qS=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Ai.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(US)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gp=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new bv,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(a){a.internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var l in s)if(s.hasOwnProperty(l)){var c=s[l];c.objId=void 0,c.hasAnnotation&&BS(c,a)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(a){if(a.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(a){(function(s,l){var c=!s;for(var d in s||(l.internal.newObjectDeferredBegin(l.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),l.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||l.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(d)){var h=s[d],f=[],p=h.Rect;if(h.Rect&&(h.Rect=PS(h.Rect,l)),l.internal.newObjectDeferredBegin(h.objId,!0),h.DA=ht.createDefaultAppearanceStream(h),Da(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=p,h.hasAppearanceStream&&!h.appearanceStreamContent){var v=IS(h);f.push({key:"AP",value:"<</N "+v+">>"}),l.internal.acroformPlugin.xForms.push(v)}if(h.appearanceStreamContent){var j="";for(var _ in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(_)){var y=h.appearanceStreamContent[_];if(j+="/"+_+" ",j+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var d in y)if(y.hasOwnProperty(d)){var C=y[d];typeof C=="function"&&(C=C.call(l,h)),j+="/"+d+" "+C+" ",l.internal.acroformPlugin.xForms.indexOf(C)>=0||l.internal.acroformPlugin.xForms.push(C)}}else typeof(C=y)=="function"&&(C=C.call(l,h)),j+="/"+d+" "+C,l.internal.acroformPlugin.xForms.indexOf(C)>=0||l.internal.acroformPlugin.xForms.push(C);j+=">>"}f.push({key:"AP",value:`<<
`+j+">>"})}l.internal.putStream({additionalKeyValues:f,objectId:h.objId}),l.internal.out("endobj")}c&&(function(k,O){for(var L in k)if(k.hasOwnProperty(L)){var T=L,R=k[L];O.internal.newObjectDeferredBegin(R.objId,!0),Da(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete k[T]}})(l.internal.acroformPlugin.xForms,l)})(a,n)}),n.internal.acroformPlugin.isInitialized=!0}},pv=Sn.__acroform__.arrayToPdfArray=function(n,e,a){var s=function(d){return d};if(Array.isArray(n)){for(var l="[",c=0;c<n.length;c++)switch(c!==0&&(l+=" "),Da(n[c])){case"boolean":case"number":case"object":l+=n[c].toString();break;case"string":n[c].substr(0,1)!=="/"?(e!==void 0&&a&&(s=a.internal.getEncryptor(e)),l+="("+mc(s(n[c].toString()))+")"):l+=n[c].toString()}return l+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},m0=function(n,e,a){var s=function(l){return l};return e!==void 0&&a&&(s=a.internal.getEncryptor(e)),(n=n||"").toString(),"("+mc(s(n))+")"},Ji=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ji.prototype.toString=function(){return this.objId+" 0 R"},Ji.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ji.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(c){return c!="content"&&c!="appearanceStreamContent"&&c!="scope"&&c!="objId"&&c.substring(0,1)!="_"});for(var a in e)if(Object.getOwnPropertyDescriptor(this,e[a]).configurable===!1){var s=e[a],l=this[s];l&&(Array.isArray(l)?n.push({key:s,value:pv(l,this.objId,this.scope)}):l instanceof Ji?(l.scope=this.scope,n.push({key:s,value:l.objId+" 0 R"})):typeof l!="function"&&n.push({key:s,value:l}))}return n};var gv=function(){Ji.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){n=a.trim()},get:function(){return n||null}})};os(gv,Ji);var bv=function(){Ji.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var a=function(s){return s};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+mc(a(n))+")"}},set:function(a){n=a}})};os(bv,Ji);var Ai=function n(){Ji.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');e=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Dn(e,3)},set:function(L){L?this.F=Mn(e,3):this.F=Pn(e,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');a=L}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(L){s=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(L){s[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(L){s[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(L){s[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(L){s[3]=L}});var l="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return l},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":l=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var c=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!c||c.length<1){if(this instanceof cf)return;c="FieldObject"+n.FieldNum++}var L=function(T){return T};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+mc(L(c))+")"},set:function(L){c=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return c},set:function(L){c=L}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(L){d=L}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(L){h=L}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(L){f=L}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/gp:p},set:function(L){p=L}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(L){v=L}});var j="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!j||this instanceof cf||this instanceof oc))return m0(j,this.objId,this.scope)},set:function(L){L=L.toString(),j=L}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof lr==0?m0(_,this.objId,this.scope):_},set:function(L){L=L.toString(),_=this instanceof lr==0?L.substr(0,1)==="("?hu(L.substr(1,L.length-2)):hu(L):L}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof lr==1?hu(_.substr(1,_.length-1)):_},set:function(L){L=L.toString(),_=this instanceof lr==1?"/"+L:L}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof lr==0?m0(y,this.objId,this.scope):y},set:function(L){L=L.toString(),y=this instanceof lr==0?L.substr(0,1)==="("?hu(L.substr(1,L.length-2)):hu(L):L}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof lr==1?hu(y.substr(1,y.length-1)):y},set:function(L){L=L.toString(),y=this instanceof lr==1?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(L){L=!!L,k=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(L){C=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,1)},set:function(L){L?this.Ff=Mn(this.Ff,1):this.Ff=Pn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,2)},set:function(L){L?this.Ff=Mn(this.Ff,2):this.Ff=Pn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,3)},set:function(L){L?this.Ff=Mn(this.Ff,3):this.Ff=Pn(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');O=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(O){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:O=2;break;case"center":case 1:O=1;break;default:O=0}}})};os(Ai,Ji);var _u=function(){Ai.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(a){n=a}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pv(e,this.objId,this.scope)},set:function(a){var s,l;l=[],typeof(s=a)=="string"&&(l=(function(c,d,h){h||(h=1);for(var f,p=[];f=d.exec(c);)p.push(f[h]);return p})(s,/\((.*?)\)/g)),e=l}}),this.getOptions=function(){return e},this.setOptions=function(a){e=a,this.sort&&e.sort()},this.addOption=function(a){a=(a=a||"").toString(),e.push(a),this.sort&&e.sort()},this.removeOption=function(a,s){for(s=s||!1,a=(a=a||"").toString();e.indexOf(a)!==-1&&(e.splice(e.indexOf(a),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,18)},set:function(a){a?this.Ff=Mn(this.Ff,18):this.Ff=Pn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,19)},set:function(a){this.combo===!0&&(a?this.Ff=Mn(this.Ff,19):this.Ff=Pn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,20)},set:function(a){a?(this.Ff=Mn(this.Ff,20),e.sort()):this.Ff=Pn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,22)},set:function(a){a?this.Ff=Mn(this.Ff,22):this.Ff=Pn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(a){a?this.Ff=Mn(this.Ff,23):this.Ff=Pn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,27)},set:function(a){a?this.Ff=Mn(this.Ff,27):this.Ff=Pn(this.Ff,27)}}),this.hasAppearanceStream=!1};os(_u,Ai);var Nu=function(){_u.call(this),this.fontName="helvetica",this.combo=!1};os(Nu,_u);var ju=function(){Nu.call(this),this.combo=!0};os(ju,Nu);var Jh=function(){ju.call(this),this.edit=!0};os(Jh,ju);var lr=function(){Ai.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,15)},set:function(a){a?this.Ff=Mn(this.Ff,15):this.Ff=Pn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,16)},set:function(a){a?this.Ff=Mn(this.Ff,16):this.Ff=Pn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,17)},set:function(a){a?this.Ff=Mn(this.Ff,17):this.Ff=Pn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(a){a?this.Ff=Mn(this.Ff,26):this.Ff=Pn(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,l=[];for(s in l.push("<<"),e)l.push("/"+s+" ("+mc(a(e[s]))+")");return l.push(">>"),l.join(`
`)}},set:function(a){Da(a)==="object"&&(e=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(a){typeof a=="string"&&(e.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}})};os(lr,Ai);var Wh=function(){lr.call(this),this.pushButton=!0};os(Wh,lr);var Su=function(){lr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};os(Su,lr);var cf=function(){var n,e;Ai.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(l){n=l}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(l){e=l}});var a,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var l=function(h){return h};this.scope&&(l=this.scope.internal.getEncryptor(this.objId));var c,d=[];for(c in d.push("<<"),s)d.push("/"+c+" ("+mc(l(s[c]))+")");return d.push(">>"),d.join(`
`)},set:function(l){Da(l)==="object"&&(s=l)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(l){typeof l=="string"&&(s.CA=l)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(l){a="/"+l}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};os(cf,Ai),Su.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var a=this.Kids[e];a.appearanceStreamContent=n.createAppearanceStream(a.optionName),a.caption=n.getCA()}},Su.prototype.createOption=function(n){var e=new cf;return e.Parent=this,e.optionName=n,this.Kids.push(e),zS.call(this.scope,e),e};var Xh=function(){lr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ht.CheckBox.createAppearanceStream()};os(Xh,lr);var oc=function(){Ai.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,13)},set:function(e){e?this.Ff=Mn(this.Ff,13):this.Ff=Pn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,21)},set:function(e){e?this.Ff=Mn(this.Ff,21):this.Ff=Pn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(e){e?this.Ff=Mn(this.Ff,23):this.Ff=Pn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,24)},set:function(e){e?this.Ff=Mn(this.Ff,24):this.Ff=Pn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,25)},set:function(e){e?this.Ff=Mn(this.Ff,25):this.Ff=Pn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(e){e?this.Ff=Mn(this.Ff,26):this.Ff=Pn(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};os(oc,Ai);var Zh=function(){oc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,14)},set:function(n){n?this.Ff=Mn(this.Ff,14):this.Ff=Pn(this.Ff,14)}}),this.password=!0};os(Zh,oc);var ht={CheckBox:{createAppearanceStream:function(){return{N:{On:ht.CheckBox.YesNormal},D:{On:ht.CheckBox.YesPushDown,Off:ht.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ki(n);e.scope=n.scope;var a=[],s=n.scope.internal.getFont(n.fontName,n.fontStyle).id,l=n.scope.__private__.encodeColorString(n.color),c=V0(n,n.caption);return a.push("0.749023 g"),a.push("0 0 "+ea(ht.internal.getWidth(n))+" "+ea(ht.internal.getHeight(n))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+s+" "+ea(c.fontSize)+" Tf "+l),a.push("BT"),a.push(c.text),a.push("ET"),a.push("Q"),a.push("EMC"),e.stream=a.join(`
`),e},YesNormal:function(n){var e=Ki(n);e.scope=n.scope;var a=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),l=[],c=ht.internal.getHeight(n),d=ht.internal.getWidth(n),h=V0(n,n.caption);return l.push("1 g"),l.push("0 0 "+ea(d)+" "+ea(c)+" re"),l.push("f"),l.push("q"),l.push("0 0 1 rg"),l.push("0 0 "+ea(d-1)+" "+ea(c-1)+" re"),l.push("W"),l.push("n"),l.push("0 g"),l.push("BT"),l.push("/"+a+" "+ea(h.fontSize)+" Tf "+s),l.push(h.text),l.push("ET"),l.push("Q"),e.stream=l.join(`
`),e},OffPushDown:function(n){var e=Ki(n);e.scope=n.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+ea(ht.internal.getWidth(n))+" "+ea(ht.internal.getHeight(n))+" re"),a.push("f"),e.stream=a.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:ht.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=ht.RadioButton.Circle.YesNormal,e.D[n]=ht.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ki(n);e.scope=n.scope;var a=[],s=ht.internal.getWidth(n)<=ht.internal.getHeight(n)?ht.internal.getWidth(n)/4:ht.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var l=ht.internal.Bezier_C,c=Number((s*l).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+bl(ht.internal.getWidth(n)/2)+" "+bl(ht.internal.getHeight(n)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+c+" "+c+" "+s+" 0 "+s+" c"),a.push("-"+c+" "+s+" -"+s+" "+c+" -"+s+" 0 c"),a.push("-"+s+" -"+c+" -"+c+" -"+s+" 0 -"+s+" c"),a.push(c+" -"+s+" "+s+" -"+c+" "+s+" 0 c"),a.push("f"),a.push("Q"),e.stream=a.join(`
`),e},YesPushDown:function(n){var e=Ki(n);e.scope=n.scope;var a=[],s=ht.internal.getWidth(n)<=ht.internal.getHeight(n)?ht.internal.getWidth(n)/4:ht.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var l=Number((2*s).toFixed(5)),c=Number((l*ht.internal.Bezier_C).toFixed(5)),d=Number((s*ht.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+bl(ht.internal.getWidth(n)/2)+" "+bl(ht.internal.getHeight(n)/2)+" cm"),a.push(l+" 0 m"),a.push(l+" "+c+" "+c+" "+l+" 0 "+l+" c"),a.push("-"+c+" "+l+" -"+l+" "+c+" -"+l+" 0 c"),a.push("-"+l+" -"+c+" -"+c+" -"+l+" 0 -"+l+" c"),a.push(c+" -"+l+" "+l+" -"+c+" "+l+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+bl(ht.internal.getWidth(n)/2)+" "+bl(ht.internal.getHeight(n)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+d+" "+d+" "+s+" 0 "+s+" c"),a.push("-"+d+" "+s+" -"+s+" "+d+" -"+s+" 0 c"),a.push("-"+s+" -"+d+" -"+d+" -"+s+" 0 -"+s+" c"),a.push(d+" -"+s+" "+s+" -"+d+" "+s+" 0 c"),a.push("f"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=Ki(n);e.scope=n.scope;var a=[],s=ht.internal.getWidth(n)<=ht.internal.getHeight(n)?ht.internal.getWidth(n)/4:ht.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var l=Number((2*s).toFixed(5)),c=Number((l*ht.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+bl(ht.internal.getWidth(n)/2)+" "+bl(ht.internal.getHeight(n)/2)+" cm"),a.push(l+" 0 m"),a.push(l+" "+c+" "+c+" "+l+" 0 "+l+" c"),a.push("-"+c+" "+l+" -"+l+" "+c+" -"+l+" 0 c"),a.push("-"+l+" -"+c+" -"+c+" -"+l+" 0 -"+l+" c"),a.push(c+" -"+l+" "+l+" -"+c+" "+l+" 0 c"),a.push("f"),a.push("Q"),e.stream=a.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:ht.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=ht.RadioButton.Cross.YesNormal,e.D[n]=ht.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ki(n);e.scope=n.scope;var a=[],s=ht.internal.calculateCross(n);return a.push("q"),a.push("1 1 "+ea(ht.internal.getWidth(n)-2)+" "+ea(ht.internal.getHeight(n)-2)+" re"),a.push("W"),a.push("n"),a.push(ea(s.x1.x)+" "+ea(s.x1.y)+" m"),a.push(ea(s.x2.x)+" "+ea(s.x2.y)+" l"),a.push(ea(s.x4.x)+" "+ea(s.x4.y)+" m"),a.push(ea(s.x3.x)+" "+ea(s.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},YesPushDown:function(n){var e=Ki(n);e.scope=n.scope;var a=ht.internal.calculateCross(n),s=[];return s.push("0.749023 g"),s.push("0 0 "+ea(ht.internal.getWidth(n))+" "+ea(ht.internal.getHeight(n))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+ea(ht.internal.getWidth(n)-2)+" "+ea(ht.internal.getHeight(n)-2)+" re"),s.push("W"),s.push("n"),s.push(ea(a.x1.x)+" "+ea(a.x1.y)+" m"),s.push(ea(a.x2.x)+" "+ea(a.x2.y)+" l"),s.push(ea(a.x4.x)+" "+ea(a.x4.y)+" m"),s.push(ea(a.x3.x)+" "+ea(a.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Ki(n);e.scope=n.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+ea(ht.internal.getWidth(n))+" "+ea(ht.internal.getHeight(n))+" re"),a.push("f"),e.stream=a.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+a}};ht.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=ht.internal.getWidth(n),a=ht.internal.getHeight(n),s=Math.min(e,a);return{x1:{x:(e-s)/2,y:(a-s)/2+s},x2:{x:(e-s)/2+s,y:(a-s)/2},x3:{x:(e-s)/2,y:(a-s)/2},x4:{x:(e-s)/2+s,y:(a-s)/2+s}}}},ht.internal.getWidth=function(n){var e=0;return Da(n)==="object"&&(e=_b(n.Rect[2])),e},ht.internal.getHeight=function(n){var e=0;return Da(n)==="object"&&(e=_b(n.Rect[3])),e};var zS=Sn.addField=function(n){if(qS(this,n),!(n instanceof Ai))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Sn.AcroFormChoiceField=_u,Sn.AcroFormListBox=Nu,Sn.AcroFormComboBox=ju,Sn.AcroFormEditBox=Jh,Sn.AcroFormButton=lr,Sn.AcroFormPushButton=Wh,Sn.AcroFormRadioButton=Su,Sn.AcroFormCheckBox=Xh,Sn.AcroFormTextField=oc,Sn.AcroFormPasswordField=Zh,Sn.AcroFormAppearance=ht,Sn.AcroForm={ChoiceField:_u,ListBox:Nu,ComboBox:ju,EditBox:Jh,Button:lr,PushButton:Wh,RadioButton:Su,CheckBox:Xh,TextField:oc,PasswordField:Zh,Appearance:ht},wt.AcroForm={ChoiceField:_u,ListBox:Nu,ComboBox:ju,EditBox:Jh,Button:lr,PushButton:Wh,RadioButton:Su,CheckBox:Xh,TextField:oc,PasswordField:Zh,Appearance:ht};wt.AcroForm;function xv(n){return n.reduce(function(e,a,s){return e[a]=s,e},{})}(function(n){var e="addImage_";n.__addimage__={};var a="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},l=n.__addimage__.getImageFileTypeByImageData=function(P,$){var oe,ue,Ce,re,ge,me=a;if(($=$||a)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(de(P))for(ge in s)for(Ce=s[ge],oe=0;oe<Ce.length;oe+=1){for(re=!0,ue=0;ue<Ce[oe].length;ue+=1)if(Ce[oe][ue]!==void 0&&Ce[oe][ue]!==P[ue]){re=!1;break}if(re===!0){me=ge;break}}else for(ge in s)for(Ce=s[ge],oe=0;oe<Ce.length;oe+=1){for(re=!0,ue=0;ue<Ce[oe].length;ue+=1)if(Ce[oe][ue]!==void 0&&Ce[oe][ue]!==P.charCodeAt(ue)){re=!1;break}if(re===!0){me=ge;break}}return me===a&&$!==a&&(me=$),me},c=function P($){for(var oe=this.internal.write,ue=this.internal.putStream,Ce=(0,this.internal.getFilters)();Ce.indexOf("FlateEncode")!==-1;)Ce.splice(Ce.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:$.width}),re.push({key:"Height",value:$.height}),$.colorSpace===L.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===L.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)&&$.transparency.length>0){for(var ge="",me=0,Oe=$.transparency.length;me<Oe;me++)ge+=$.transparency[me]+" "+$.transparency[me]+" ";re.push({key:"Mask",value:"["+ge+"]"})}$.sMask!==void 0&&re.push({key:"SMask",value:$.objectId+1+" 0 R"});var xe=$.filter!==void 0?["/"+$.filter]:void 0;if(ue({data:$.data,additionalKeyValues:re,alreadyAppliedFilters:xe,objectId:$.objectId}),oe("endobj"),"sMask"in $&&$.sMask!==void 0){var H,S=(H=$.sMaskBitsPerComponent)!==null&&H!==void 0?H:$.bitsPerComponent,I={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:S,data:$.sMask};"filter"in $&&(I.decodeParameters="/Predictor ".concat($.predictor," /Colors 1 /BitsPerComponent ").concat(S," /Columns ").concat($.width),I.filter=$.filter),P.call(this,I)}if($.colorSpace===L.INDEXED){var q=this.internal.newObject();ue({data:se(new Uint8Array($.palette)),objectId:q}),oe("endobj")}},d=function(){var P=this.internal.collections[e+"images"];for(var $ in P)c.call(this,P[$])},h=function(){var P,$=this.internal.collections[e+"images"],oe=this.internal.write;for(var ue in $)oe("/I"+(P=$[ue]).index,P.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",d),this.internal.events.subscribe("putXobjectDict",h))},p=function(){var P=this.internal.collections[e+"images"];return f.call(this),P},v=function(){return Object.keys(this.internal.collections[e+"images"]).length},j=function(P){return typeof n["process"+P.toUpperCase()]=="function"},_=function(P){return Da(P)==="object"&&P.nodeType===1},y=function(P,$){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var oe=""+P.getAttribute("src");if(oe.indexOf("data:image/")===0)return Kh(unescape(oe).split("base64,").pop());var ue=n.loadFile(oe,!0);if(ue!==void 0)return ue}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var Ce;switch($){case"PNG":Ce="image/png";break;case"WEBP":Ce="image/webp";break;default:Ce="image/jpeg"}return Kh(P.toDataURL(Ce,1).split("base64,").pop())}},C=function(P){var $=this.internal.collections[e+"images"];if($){for(var oe in $)if(P===$[oe].alias)return $[oe]}},k=function(P,$,oe){return P||$||(P=-96,$=-96),P<0&&(P=-1*oe.width*72/P/this.internal.scaleFactor),$<0&&($=-1*oe.height*72/$/this.internal.scaleFactor),P===0&&(P=$*oe.width/oe.height),$===0&&($=P*oe.height/oe.width),[P,$]},O=function(P,$,oe,ue,Ce,re){var ge=k.call(this,oe,ue,Ce),me=this.internal.getCoordinateString,Oe=this.internal.getVerticalCoordinateString,xe=p.call(this);if(oe=ge[0],ue=ge[1],xe[Ce.index]=Ce,re){re*=Math.PI/180;var H=Math.cos(re),S=Math.sin(re),I=function(G){return G.toFixed(4)},q=[I(H),I(S),I(-1*S),I(H),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,me(P),Oe($+ue),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([me(oe),"0","0",me(ue),"0","0","cm"].join(" "))):this.internal.write([me(oe),"0","0",me(ue),me(P),Oe($+ue),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ce.index+" Do"),this.internal.write("Q")},L=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=n.__addimage__.sHashCode=function(P){var $,oe,ue=0;if(typeof P=="string")for(oe=P.length,$=0;$<oe;$++)ue=(ue<<5)-ue+P.charCodeAt($),ue|=0;else if(de(P))for(oe=P.byteLength/2,$=0;$<oe;$++)ue=(ue<<5)-ue+P[$],ue|=0;return ue},F=n.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var $=!0;return P.length===0&&($=!1),P.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&($=!1),$},ne=n.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var $=P.indexOf(",");return $<0?null:P.substring(0,$).trim().endsWith("base64")?P.substring($+1):null};n.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var de=n.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},W=n.__addimage__.binaryStringToUint8Array=function(P){for(var $=P.length,oe=new Uint8Array($),ue=0;ue<$;ue++)oe[ue]=P.charCodeAt(ue);return oe},se=n.__addimage__.arrayBufferToBinaryString=function(P){for(var $="",oe=de(P)?P:new Uint8Array(P),ue=0;ue<oe.length;ue+=8192)$+=String.fromCharCode.apply(null,oe.subarray(ue,ue+8192));return $};n.addImage=function(){var P,$,oe,ue,Ce,re,ge,me,Oe;if(typeof arguments[1]=="number"?($=a,oe=arguments[1],ue=arguments[2],Ce=arguments[3],re=arguments[4],ge=arguments[5],me=arguments[6],Oe=arguments[7]):($=arguments[1],oe=arguments[2],ue=arguments[3],Ce=arguments[4],re=arguments[5],ge=arguments[6],me=arguments[7],Oe=arguments[8]),Da(P=arguments[0])==="object"&&!_(P)&&"imageData"in P){var xe=P;P=xe.imageData,$=xe.format||$||a,oe=xe.x||oe||0,ue=xe.y||ue||0,Ce=xe.w||xe.width||Ce,re=xe.h||xe.height||re,ge=xe.alias||ge,me=xe.compression||me,Oe=xe.rotation||xe.angle||Oe}var H=this.internal.getFilters();if(me===void 0&&H.indexOf("FlateEncode")!==-1&&(me="SLOW"),isNaN(oe)||isNaN(ue))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var S=K.call(this,P,$,ge,me);return O.call(this,oe,ue,Ce,re,S,Oe),this};var K=function(P,$,oe,ue){var Ce,re,ge;if(typeof P=="string"&&l(P)===a){P=unescape(P);var me=we(P,!1);(me!==""||(me=n.loadFile(P,!0))!==void 0)&&(P=me)}if(_(P)&&(P=y(P,$)),$=l(P,$),!j($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((ge=oe)==null||ge.length===0)&&(oe=(function(Oe){return typeof Oe=="string"||de(Oe)?R(Oe):de(Oe.data)?R(Oe.data):null})(P)),(Ce=C.call(this,oe))||(P instanceof Uint8Array||$==="RGBA"||(re=P,P=W(P)),Ce=this["process"+$.toUpperCase()](P,v.call(this),oe,(function(Oe){return Oe&&typeof Oe=="string"&&(Oe=Oe.toUpperCase()),Oe in n.image_compression?Oe:T.NONE})(ue),re)),!Ce)throw new Error("An unknown error occurred whilst processing the image.");return Ce},we=n.__addimage__.convertBase64ToBinaryString=function(P,$){$=typeof $!="boolean"||$;var oe,ue="";if(typeof P=="string"){var Ce;oe=(Ce=ne(P))!==null&&Ce!==void 0?Ce:P;try{ue=Kh(oe)}catch(re){if($)throw F(oe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ue};n.getImageProperties=function(P){var $,oe,ue="";if(_(P)&&(P=y(P)),typeof P=="string"&&l(P)===a&&((ue=we(P,!1))===""&&(ue=n.loadFile(P)||""),P=ue),oe=l(P),!j(oe))throw new Error("addImage does not support files of type '"+oe+"', please ensure that a plugin for '"+oe+"' support is added.");if(P instanceof Uint8Array||(P=W(P)),!($=this["process"+oe.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=oe,$}})(wt.API),(function(n){var e=function(a){if(a!==void 0&&a!="")return!0};wt.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(a){for(var s,l,c,d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(a.objId),p=a.pageContext.annotations,v=!1,j=0;j<p.length&&!v;j++)switch((s=p[j]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var _=0;_<p.length;_++){s=p[_];var y=this.internal.pdfEscape,C=this.internal.getEncryptor(a.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(k.objId),T=s.title||"Note";c="<</Type /Annot /Subtype /Text "+(l="/Rect ["+d(s.bounds.x)+" "+h(s.bounds.y+s.bounds.h)+" "+d(s.bounds.x+s.bounds.w)+" "+h(s.bounds.y)+"] ")+"/Contents ("+y(L(s.contents))+")",c+=" /Popup "+O.objId+" 0 R",c+=" /P "+f.objId+" 0 R",c+=" /T ("+y(L(T))+") >>",k.content=c;var R=k.objId+" 0 R";c="<</Type /Annot /Subtype /Popup "+(l="/Rect ["+d(s.bounds.x+30)+" "+h(s.bounds.y+s.bounds.h)+" "+d(s.bounds.x+s.bounds.w+30)+" "+h(s.bounds.y)+"] ")+" /Parent "+R,s.open&&(c+=" /Open true"),c+=" >>",O.content=c,this.internal.write(k.objId,"0 R",O.objId,"0 R");break;case"freetext":l="/Rect ["+d(s.bounds.x)+" "+h(s.bounds.y)+" "+d(s.bounds.x+s.bounds.w)+" "+h(s.bounds.y+s.bounds.h)+"] ";var F=s.color||"#000000";c="<</Type /Annot /Subtype /FreeText "+l+"/Contents ("+y(C(s.contents))+")",c+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",c+=" /Border [0 0 0]",c+=" >>",this.internal.write(c);break;case"link":if(s.options.name){var ne=this.annotations._nameMap[s.options.name];s.options.pageNumber=ne.page,s.options.top=ne.y}else s.options.top||(s.options.top=0);if(l="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",c="",s.options.url)c="<</Type /Annot /Subtype /Link "+l+"/Border [0 0 0] /A <</S /URI /URI ("+y(C(s.options.url))+") >>";else if(s.options.pageNumber)switch(c="<</Type /Annot /Subtype /Link "+l+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":c+=" /Fit]";break;case"FitH":c+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,c+=" /FitV "+s.options.left+"]";break;default:var de=h(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),c+=" /XYZ "+s.options.left+" "+de+" "+s.options.zoom+"]"}c!=""&&(c+=" >>",this.internal.write(c))}}this.internal.write("]")}}]),n.createAnnotation=function(a){var s=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":s.pageContext.annotations.push(a)}},n.link=function(a,s,l,c,d){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(a),y:p(s),w:f(a+l),h:p(s+c)},options:d,type:"link"})},n.textWithLink=function(a,s,l,c){var d,h,f=this.getTextWidth(a),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(c.maxWidth!==void 0){h=c.maxWidth;var v=this.splitTextToSize(a,h).length;d=Math.ceil(p*v)}else h=f,d=p;return this.text(a,s,l,c),l+=.2*p,c.align==="center"&&(s-=f/2),c.align==="right"&&(s-=f),this.link(s,l-p,h,d,c),f},n.getTextWidth=function(a){var s=this.internal.getFontSize();return this.getStringUnitWidth(a)*s/this.internal.scaleFactor}})(wt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},l=[1570,1571,1573,1575];n.__arabicParser__={};var c=n.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},d=n.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},h=n.__arabicParser__.isArabicEndLetter=function(k){return d(k)&&c(k)&&e[k.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(k){return d(k)&&l.indexOf(k.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return d(k)&&c(k)&&e[k.charCodeAt(0)].length>=1};var p=n.__arabicParser__.arabicLetterHasFinalForm=function(k){return d(k)&&c(k)&&e[k.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(k){return d(k)&&c(k)&&e[k.charCodeAt(0)].length>=3};var v=n.__arabicParser__.arabicLetterHasMedialForm=function(k){return d(k)&&c(k)&&e[k.charCodeAt(0)].length==4},j=n.__arabicParser__.resolveLigatures=function(k){var O=0,L=a,T="",R=0;for(O=0;O<k.length;O+=1)L[k.charCodeAt(O)]!==void 0?(R++,typeof(L=L[k.charCodeAt(O)])=="number"&&(T+=String.fromCharCode(L),L=a,R=0),O===k.length-1&&(L=a,T+=k.charAt(O-(R-1)),O-=R-1,R=0)):(L=a,T+=k.charAt(O-R),O-=R,R=0);return T};n.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&s[k.charCodeAt(0)]!==void 0};var _=n.__arabicParser__.getCorrectForm=function(k,O,L){return d(k)?c(k)===!1?-1:!p(k)||!d(O)&&!d(L)||!d(L)&&h(O)||h(k)&&!d(O)||h(k)&&f(O)||h(k)&&h(O)?0:v(k)&&d(O)&&!h(O)&&d(L)&&p(L)?3:h(k)||!d(L)?1:2:-1},y=function(k){var O=0,L=0,T=0,R="",F="",ne="",de=(k=k||"").split("\\s+"),W=[];for(O=0;O<de.length;O+=1){for(W.push(""),L=0;L<de[O].length;L+=1)R=de[O][L],F=de[O][L-1],ne=de[O][L+1],d(R)?(T=_(R,F,ne),W[O]+=T!==-1?String.fromCharCode(e[R.charCodeAt(0)][T]):R):W[O]+=R;W[O]=j(W[O])}return W.join(" ")},C=n.__arabicParser__.processArabic=n.processArabic=function(){var k,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(O)){var T=0;for(L=[],T=0;T<O.length;T+=1)Array.isArray(O[T])?L.push([y(O[T][0]),O[T][1],O[T][2]]):L.push([y(O[T])]);k=L}else k=y(O);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};n.events.push(["preProcessText",C])})(wt.API),wt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(h){a=h}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var l=300;Object.defineProperty(this,"height",{get:function(){return l},set:function(h){l=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=l+1)}});var c=[];Object.defineProperty(this,"childNodes",{get:function(){return c},set:function(h){c=h}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(h){d=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(a,s){var l;if((a=a||"2d")!=="2d")return null;for(l in s)this.pdf.context2d.hasOwnProperty(l)&&(this.pdf.context2d[l]=s[l]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(wt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},a=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),l.call(this))},l=function(){this.internal.__cell__.lastCell=new c,this.internal.__cell__.pages=1},c=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(k){f=k}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(k){v=k}});var j=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return j},set:function(k){j=k}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(k){_=k}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(k){y=k}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(k){C=k}}),this};c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},c.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return s.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,p){s.call(this);var v=(p=p||{}).fontSize||this.getFontSize(),j=p.font||this.getFont(),_=p.scaleFactor||this.internal.scaleFactor,y=0,C=0,k=0,O=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var L=p.maxWidth;L>0?typeof f=="string"?f=this.splitTextToSize(f,L):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(R,F){return R.concat(O.splitTextToSize(F,L))},[])):f=Array.isArray(f)?f:[f];for(var T=0;T<f.length;T++)y<(k=this.getStringUnitWidth(f[T],{font:j})*v)&&(y=k);return y!==0&&(C=f.length),{w:y/=_,h:Math.max((C*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/_,0)}},n.cellAddPage=function(){s.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new c(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=n.cell=function(){var f;f=arguments[0]instanceof c?arguments[0]:new c(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var p=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,j=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===f.lineNumber?(f.x=(p.x||0)+(p.width||0),f.y=p.y||0):p.y+p.height+f.height+j.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=j.top,y&&_&&(this.printHeaderRow(f.lineNumber,!0),f.y+=_[0].height)):f.y=p.y+p.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,a===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};n.table=function(f,p,v,j,_){if(s.call(this),!v)throw new Error("No data for PDF table.");var y,C,k,O,L=[],T=[],R=[],F={},ne={},de=[],W=[],se=(_=_||{}).autoSize||!1,K=_.printHeaders!==!1,we=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,P=_.margins||Object.assign({width:this.getPageWidth()},e),$=typeof _.padding=="number"?_.padding:3,oe=_.headerBackgroundColor||"#c8c8c8",ue=_.headerTextColor||"#000";if(l.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=we,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=oe,this.internal.__cell__.headerTextColor=ue,this.setFontSize(we),j==null)T=L=Object.keys(v[0]),R=L.map(function(){return"left"});else if(Array.isArray(j)&&Da(j[0])==="object")for(L=j.map(function(xe){return xe.name}),T=j.map(function(xe){return xe.prompt||xe.name||""}),R=j.map(function(xe){return xe.align||"left"}),y=0;y<j.length;y+=1)ne[j[y].name]=.7499990551181103*j[y].width;else Array.isArray(j)&&typeof j[0]=="string"&&(T=L=j,R=L.map(function(){return"left"}));if(se||Array.isArray(j)&&typeof j[0]=="string")for(y=0;y<L.length;y+=1){for(F[O=L[y]]=v.map(function(xe){return xe[O]}),this.setFont(void 0,"bold"),de.push(this.getTextDimensions(T[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=F[O],this.setFont(void 0,"normal"),k=0;k<C.length;k+=1)de.push(this.getTextDimensions(C[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ne[O]=Math.max.apply(null,de)+$+$,de=[]}if(K){var Ce={};for(y=0;y<L.length;y+=1)Ce[L[y]]={},Ce[L[y]].text=T[y],Ce[L[y]].align=R[y];var re=h.call(this,Ce,ne);W=L.map(function(xe){return new c(f,p,ne[xe],re,Ce[xe].text,void 0,Ce[xe].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var ge=j.reduce(function(xe,H){return xe[H.name]=H.align,xe},{});for(y=0;y<v.length;y+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:y,data:v[y]},this);var me=h.call(this,v[y],ne);for(k=0;k<L.length;k+=1){var Oe=v[y][L[k]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:y,col:k,data:Oe},this),d.call(this,new c(f,p,ne[L[k]],me,Oe,y+2,ge[L[k]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=p,this};var h=function(f,p){var v=this.internal.__cell__.padding,j=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(f).map(function(y){var C=f[y];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,p[y]-v-v)},this).map(function(y){return this.getLineHeightFactor()*y.length*j/_+v+v},this).reduce(function(y,C){return Math.max(y,C)},0)};n.setTableHeaderRow=function(f){s.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,p){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(a=!0,typeof this.internal.__cell__.headerFunction=="function"){var j=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new c(j[0],j[1],j[2],j[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){v=this.internal.__cell__.tableHeaderRow[y].clone(),p&&(v.y=this.internal.__cell__.margins.top||0,_.push(v)),v.lineNumber=f;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,v),this.setTextColor(C)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),a=!1}})(wt.API);var vv={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},yv=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],G0=xv(yv),wv=[100,200,300,400,500,600,700,800,900],FS=xv(wv);function p0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),a=(function(c){return vv[c=c||"normal"]?c:"normal"})(n.style),s=(function(c){return c?typeof c=="number"?c>=100&&c<=900&&c%100==0?c:400:/^\d00$/.test(c)?parseInt(c):c==="bold"?700:400:400})(n.weight),l=(function(c){return typeof G0[c=c||"normal"]=="number"?c:"normal"})(n.stretch);return{family:e,style:a,weight:s,stretch:l,src:n.src||[],ref:n.ref||{name:e,style:[l,a,s].join(" ")}}}function Nb(n,e,a,s){var l;for(l=a;l>=0&&l<e.length;l+=s)if(n[e[l]])return n[e[l]];for(l=a;l>=0&&l<e.length;l-=s)if(n[e[l]])return n[e[l]]}var HS={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},jb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Sb(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Ab(n){return n.trimLeft()}function $S(n,e){for(var a=0;a<n.length;){if(n.charAt(a)===e)return[n.substring(0,a),n.substring(a+1)];a+=1}return null}function VS(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Fh,Cb,Eb,fu,Hh,kb,Lb,Tb,g0=["times"];function Ob(n,e,a,s,l){var c=4,d=Db;switch(l){case wt.API.image_compression.FAST:c=1,d=Rb;break;case wt.API.image_compression.MEDIUM:c=6,d=Mb;break;case wt.API.image_compression.SLOW:c=9,d=Pb}n=(function(f,p,v,j){for(var _,y=f.length/p,C=new Uint8Array(f.length+y),k=[GS,Rb,Db,Mb,Pb],O=0;O<y;O+=1){var L=O*p,T=f.subarray(L,L+p);if(j)C.set(j(T,v,_),L+O);else{for(var R=k.length,F=[],ne=0;ne<R;ne+=1)F[ne]=k[ne](T,v,_);var de=KS(F.concat());C.set(F[de],L+O)}_=T}return C})(n,e,Math.ceil(a*s/8),d);var h=B0(n,{level:c});return wt.API.__addimage__.arrayBufferToBinaryString(h)}function GS(n){var e=Array.apply([],n);return e.unshift(0),e}function Rb(n,e){var a=n.length,s=[];s[0]=1;for(var l=0;l<a;l+=1){var c=n[l-e]||0;s[l+1]=n[l]-c+256&255}return s}function Db(n,e,a){var s=n.length,l=[];l[0]=2;for(var c=0;c<s;c+=1){var d=a&&a[c]||0;l[c+1]=n[c]-d+256&255}return l}function Mb(n,e,a){var s=n.length,l=[];l[0]=3;for(var c=0;c<s;c+=1){var d=n[c-e]||0,h=a&&a[c]||0;l[c+1]=n[c]+256-(d+h>>>1)&255}return l}function Pb(n,e,a){var s=n.length,l=[];l[0]=4;for(var c=0;c<s;c+=1){var d=YS(n[c-e]||0,a&&a[c]||0,a&&a[c-e]||0);l[c+1]=n[c]-d+256&255}return l}function YS(n,e,a){if(n===e&&e===a)return n;var s=Math.abs(e-a),l=Math.abs(n-a),c=Math.abs(n+e-a-a);return s<=l&&s<=c?n:l<=c?e:a}function KS(n){var e=n.map(function(a){return a.reduce(function(s,l){return s+Math.abs(l)},0)});return e.indexOf(Math.min.apply(null,e))}function b0(n,e,a){var s=e*a,l=Math.floor(s/8),c=16-(s-8*l+a),d=(1<<a)-1;return _v(n,l)>>c&d}function Ib(n,e,a,s){var l=a*s,c=Math.floor(l/8),d=16-(l-8*c+s),h=(1<<s)-1,f=(e&h)<<d;(function(p,v,j){if(v+1<p.byteLength)p.setUint16(v,j,!1);else{var _=j>>8&255;p.setUint8(v,_)}})(n,c,_v(n,c)&~(h<<d)&65535|f)}function _v(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function JS(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=n[e++]|n[e++]<<8,s=n[e++]|n[e++]<<8,l=n[e++],c=l>>7,d=1<<1+(7&l);n[e++],n[e++];var h=null,f=null;c&&(h=e,f=d,e+=3*d);var p=!0,v=[],j=0,_=null,y=0,C=null;for(this.width=a,this.height=s;p&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,C=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=n[e++];j=n[e++]|n[e++]<<8,_=n[e++],1&k||(_=null),y=k>>2&7,e++;break;case 254:for(;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var O=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,T=n[e++]|n[e++]<<8,R=n[e++]|n[e++]<<8,F=n[e++],ne=F>>6&1,de=1<<1+(7&F),W=h,se=f,K=!1;F>>7&&(K=!0,W=e,se=de,e+=3*de);var we=e;for(e++;;){var P;if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}v.push({x:O,y:L,width:T,height:R,has_local_palette:K,palette_offset:W,palette_size:se,data_offset:we,data_length:e-we,transparent_index:_,interlaced:!!ne,delay:j,disposal:y});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return C},this.frameInfo=function($){if($<0||$>=v.length)throw new Error("Frame index out of range.");return v[$]},this.decodeAndBlitFrameBGRA=function($,oe){var ue=this.frameInfo($),Ce=ue.width*ue.height,re=new Uint8Array(Ce);Ub(n,ue.data_offset,re,Ce);var ge=ue.palette_offset,me=ue.transparent_index;me===null&&(me=256);var Oe=ue.width,xe=a-Oe,H=Oe,S=4*(ue.y*a+ue.x),I=4*((ue.y+ue.height)*a+ue.x),q=S,G=4*xe;ue.interlaced===!0&&(G+=4*a*7);for(var ie=8,he=0,ke=re.length;he<ke;++he){var ce=re[he];if(H===0&&(H=Oe,(q+=G)>=I&&(G=4*xe+4*a*(ie-1),q=S+(Oe+xe)*(ie<<1),ie>>=1)),ce===me)q+=4;else{var B=n[ge+3*ce],Ae=n[ge+3*ce+1],Ze=n[ge+3*ce+2];oe[q++]=Ze,oe[q++]=Ae,oe[q++]=B,oe[q++]=255}--H}},this.decodeAndBlitFrameRGBA=function($,oe){var ue=this.frameInfo($),Ce=ue.width*ue.height,re=new Uint8Array(Ce);Ub(n,ue.data_offset,re,Ce);var ge=ue.palette_offset,me=ue.transparent_index;me===null&&(me=256);var Oe=ue.width,xe=a-Oe,H=Oe,S=4*(ue.y*a+ue.x),I=4*((ue.y+ue.height)*a+ue.x),q=S,G=4*xe;ue.interlaced===!0&&(G+=4*a*7);for(var ie=8,he=0,ke=re.length;he<ke;++he){var ce=re[he];if(H===0&&(H=Oe,(q+=G)>=I&&(G=4*xe+4*a*(ie-1),q=S+(Oe+xe)*(ie<<1),ie>>=1)),ce===me)q+=4;else{var B=n[ge+3*ce],Ae=n[ge+3*ce+1],Ze=n[ge+3*ce+2];oe[q++]=B,oe[q++]=Ae,oe[q++]=Ze,oe[q++]=255}--H}}}function Ub(n,e,a,s){for(var l=n[e++],c=1<<l,d=c+1,h=d+1,f=l+1,p=(1<<f)-1,v=0,j=0,_=0,y=n[e++],C=new Int32Array(4096),k=null;;){for(;v<16&&y!==0;)j|=n[e++]<<v,v+=8,y===1?y=n[e++]:--y;if(v<f)break;var O=j&p;if(j>>=f,v-=f,O!==c){if(O===d)break;for(var L=O<h?O:k,T=0,R=L;R>c;)R=C[R]>>8,++T;var F=R;if(_+T+(L!==O?1:0)>s)return void $a.log("Warning, gif stream longer than expected.");a[_++]=F;var ne=_+=T;for(L!==O&&(a[_++]=F),R=L;T--;)R=C[R],a[--ne]=255&R,R>>=8;k!==null&&h<4096&&(C[h++]=k<<8|F,h>=p+1&&f<12&&(++f,p=p<<1|1)),k=O}else h=d+1,p=(1<<(f=l+1))-1,k=null}return _!==s&&$a.log("Warning, gif stream shorter than expected."),a}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function x0(n){var e,a,s,l,c,d=Math.floor,h=new Array(64),f=new Array(64),p=new Array(64),v=new Array(64),j=new Array(65535),_=new Array(65535),y=new Array(64),C=new Array(64),k=[],O=0,L=7,T=new Array(64),R=new Array(64),F=new Array(64),ne=new Array(256),de=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],se=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],we=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],oe=[0,1,2,3,4,5,6,7,8,9,10,11],ue=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(S,I){for(var q=0,G=0,ie=new Array,he=1;he<=16;he++){for(var ke=1;ke<=S[he];ke++)ie[I[G]]=[],ie[I[G]][0]=q,ie[I[G]][1]=he,G++,q++;q*=2}return ie}function ge(S){for(var I=S[0],q=S[1]-1;q>=0;)I&1<<q&&(O|=1<<L),q--,--L<0&&(O==255?(me(255),me(0)):me(O),L=7,O=0)}function me(S){k.push(S)}function Oe(S){me(S>>8&255),me(255&S)}function xe(S,I,q,G,ie){for(var he,ke=ie[0],ce=ie[240],B=(function(Z,ye){var Ee,We,et,St,Kt,Ot,$t,Yt,ft,Dt,mt=0;for(ft=0;ft<8;++ft){Ee=Z[mt],We=Z[mt+1],et=Z[mt+2],St=Z[mt+3],Kt=Z[mt+4],Ot=Z[mt+5],$t=Z[mt+6];var Ga=Ee+(Yt=Z[mt+7]),Jt=Ee-Yt,At=We+$t,Mt=We-$t,Wt=et+Ot,_t=et-Ot,Ca=St+Kt,Nt=St-Kt,Pt=Ga+Ca,Na=Ga-Ca,zt=At+Wt,Ke=At-Wt;Z[mt]=Pt+zt,Z[mt+4]=Pt-zt;var ra=.707106781*(Ke+Na);Z[mt+2]=Na+ra,Z[mt+6]=Na-ra;var wr=.382683433*((Pt=Nt+_t)-(Ke=Mt+Jt)),En=.5411961*Pt+wr,zr=1.306562965*Ke+wr,_r=.707106781*(zt=_t+Mt),vt=Jt+_r,Fr=Jt-_r;Z[mt+5]=Fr+En,Z[mt+3]=Fr-En,Z[mt+1]=vt+zr,Z[mt+7]=vt-zr,mt+=8}for(mt=0,ft=0;ft<8;++ft){Ee=Z[mt],We=Z[mt+8],et=Z[mt+16],St=Z[mt+24],Kt=Z[mt+32],Ot=Z[mt+40],$t=Z[mt+48];var Tr=Ee+(Yt=Z[mt+56]),Qn=Ee-Yt,er=We+$t,ka=We-$t,Ya=et+Ot,cn=et-Ot,ls=St+Kt,le=St-Kt,be=Tr+ls,Pe=Tr-ls,rt=er+Ya,xt=er-Ya;Z[mt]=be+rt,Z[mt+32]=be-rt;var Ea=.707106781*(xt+Pe);Z[mt+16]=Pe+Ea,Z[mt+48]=Pe-Ea;var aa=.382683433*((be=le+cn)-(xt=ka+Qn)),tr=.5411961*be+aa,gn=1.306562965*xt+aa,Ft=.707106781*(rt=cn+ka),Or=Qn+Ft,Qe=Qn-Ft;Z[mt+40]=Qe+tr,Z[mt+24]=Qe-tr,Z[mt+8]=Or+gn,Z[mt+56]=Or-gn,mt++}for(ft=0;ft<64;++ft)Dt=Z[ft]*ye[ft],y[ft]=Dt>0?Dt+.5|0:Dt-.5|0;return y})(S,I),Ae=0;Ae<64;++Ae)C[W[Ae]]=B[Ae];var Ze=C[0]-q;q=C[0],Ze==0?ge(G[0]):(ge(G[_[he=32767+Ze]]),ge(j[he]));for(var tt=63;tt>0&&C[tt]==0;)tt--;if(tt==0)return ge(ke),q;for(var ot,X=1;X<=tt;){for(var at=X;C[X]==0&&X<=tt;)++X;var qt=X-at;if(qt>=16){ot=qt>>4;for(var bt=1;bt<=ot;++bt)ge(ce);qt&=15}he=32767+C[X],ge(ie[(qt<<4)+_[he]]),ge(j[he]),X++}return tt!=63&&ge(ke),q}function H(S){S=Math.min(Math.max(S,1),100),c!=S&&((function(I){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var ie=d((q[G]*I+50)/100);ie=Math.min(Math.max(ie,1),255),h[W[G]]=ie}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var ce=d((he[ke]*I+50)/100);ce=Math.min(Math.max(ce,1),255),f[W[ke]]=ce}for(var B=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,Ze=0;Ze<8;Ze++)for(var tt=0;tt<8;tt++)p[Ae]=1/(h[W[Ae]]*B[Ze]*B[tt]*8),v[Ae]=1/(f[W[Ae]]*B[Ze]*B[tt]*8),Ae++})(S<50?Math.floor(5e3/S):Math.floor(200-2*S)),c=S)}this.encode=function(S,I){I&&H(I),k=new Array,O=0,L=7,Oe(65496),Oe(65504),Oe(16),me(74),me(70),me(73),me(70),me(0),me(1),me(1),me(0),Oe(1),Oe(1),me(0),me(0),(function(){Oe(65499),Oe(132),me(0);for(var We=0;We<64;We++)me(h[We]);me(1);for(var et=0;et<64;et++)me(f[et])})(),(function(We,et){Oe(65472),Oe(17),me(8),Oe(et),Oe(We),me(3),me(1),me(17),me(0),me(2),me(17),me(1),me(3),me(17),me(1)})(S.width,S.height),(function(){Oe(65476),Oe(418),me(0);for(var We=0;We<16;We++)me(se[We+1]);for(var et=0;et<=11;et++)me(K[et]);me(16);for(var St=0;St<16;St++)me(we[St+1]);for(var Kt=0;Kt<=161;Kt++)me(P[Kt]);me(1);for(var Ot=0;Ot<16;Ot++)me($[Ot+1]);for(var $t=0;$t<=11;$t++)me(oe[$t]);me(17);for(var Yt=0;Yt<16;Yt++)me(ue[Yt+1]);for(var ft=0;ft<=161;ft++)me(Ce[ft])})(),Oe(65498),Oe(12),me(3),me(1),me(0),me(2),me(17),me(3),me(17),me(0),me(63),me(0);var q=0,G=0,ie=0;O=0,L=7,this.encode.displayName="_encode_";for(var he,ke,ce,B,Ae,Ze,tt,ot,X,at=S.data,qt=S.width,bt=S.height,Z=4*qt,ye=0;ye<bt;){for(he=0;he<Z;){for(Ae=Z*ye+he,tt=-1,ot=0,X=0;X<64;X++)Ze=Ae+(ot=X>>3)*Z+(tt=4*(7&X)),ye+ot>=bt&&(Ze-=Z*(ye+1+ot-bt)),he+tt>=Z&&(Ze-=he+tt-Z+4),ke=at[Ze++],ce=at[Ze++],B=at[Ze++],T[X]=(de[ke]+de[ce+256|0]+de[B+512|0]>>16)-128,R[X]=(de[ke+768|0]+de[ce+1024|0]+de[B+1280|0]>>16)-128,F[X]=(de[ke+1280|0]+de[ce+1536|0]+de[B+1792|0]>>16)-128;q=xe(T,p,q,e,s),G=xe(R,v,G,a,l),ie=xe(F,v,ie,a,l),he+=32}ye+=8}if(L>=0){var Ee=[];Ee[1]=L+1,Ee[0]=(1<<L+1)-1,ge(Ee)}return Oe(65497),new Uint8Array(k)},n=n||50,(function(){for(var S=String.fromCharCode,I=0;I<256;I++)ne[I]=S(I)})(),e=re(se,K),a=re($,oe),s=re(we,P),l=re(ue,Ce),(function(){for(var S=1,I=2,q=1;q<=15;q++){for(var G=S;G<I;G++)_[32767+G]=q,j[32767+G]=[],j[32767+G][1]=q,j[32767+G][0]=G;for(var ie=-(I-1);ie<=-S;ie++)_[32767+ie]=q,j[32767+ie]=[],j[32767+ie][1]=q,j[32767+ie][0]=I-1+ie;S<<=1,I<<=1}})(),(function(){for(var S=0;S<256;S++)de[S]=19595*S,de[S+256|0]=38470*S,de[S+512|0]=7471*S+32768,de[S+768|0]=-11059*S,de[S+1024|0]=-21709*S,de[S+1280|0]=32768*S+8421375,de[S+1536|0]=-27439*S,de[S+1792|0]=-5329*S})(),H(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vi(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Bb(n){function e(K){if(!K)throw Error("assert :P")}function a(K,we,P){for(var $=0;4>$;$++)if(K[we+$]!=P.charCodeAt($))return!0;return!1}function s(K,we,P,$,oe){for(var ue=0;ue<oe;ue++)K[we+ue]=P[$+ue]}function l(K,we,P,$){for(var oe=0;oe<$;oe++)K[we+oe]=P}function c(K){return new Int32Array(K)}function d(K,we){for(var P=[],$=0;$<K;$++)P.push(new we);return P}function h(K,we){var P=[];return(function $(oe,ue,Ce){for(var re=Ce[ue],ge=0;ge<re&&(oe.push(Ce.length>ue+1?[]:new we),!(Ce.length<ue+1));ge++)$(oe[ge],ue+1,Ce)})(P,0,K),P}var f=function(){var K=this;function we(m,b){for(var N=1<<b-1>>>0;m&N;)N>>>=1;return N?(m&N-1)+N:m}function P(m,b,N,A,M){e(!(A%N));do m[b+(A-=N)]=M;while(0<A)}function $(m,b,N,A,M){if(e(2328>=M),512>=M)var U=c(512);else if((U=c(M))==null)return 0;return(function(z,Y,J,ee,ve,Re){var Q,Ne,Le=Y,qe=1<<J,Te=c(16),Be=c(16);for(e(ve!=0),e(ee!=null),e(z!=null),e(0<J),Ne=0;Ne<ve;++Ne){if(15<ee[Ne])return 0;++Te[ee[Ne]]}if(Te[0]==ve)return 0;for(Be[1]=0,Q=1;15>Q;++Q){if(Te[Q]>1<<Q)return 0;Be[Q+1]=Be[Q]+Te[Q]}for(Ne=0;Ne<ve;++Ne)Q=ee[Ne],0<ee[Ne]&&(Re[Be[Q]++]=Ne);if(Be[15]==1)return(ee=new oe).g=0,ee.value=Re[0],P(z,Le,1,qe,ee),qe;var He,Xe=-1,Ye=qe-1,dt=0,st=1,Vt=1,lt=1<<J;for(Ne=0,Q=1,ve=2;Q<=J;++Q,ve<<=1){if(st+=Vt<<=1,0>(Vt-=Te[Q]))return 0;for(;0<Te[Q];--Te[Q])(ee=new oe).g=Q,ee.value=Re[Ne++],P(z,Le+dt,ve,lt,ee),dt=we(dt,Q)}for(Q=J+1,ve=2;15>=Q;++Q,ve<<=1){if(st+=Vt<<=1,0>(Vt-=Te[Q]))return 0;for(;0<Te[Q];--Te[Q]){if(ee=new oe,(dt&Ye)!=Xe){for(Le+=lt,He=1<<(Xe=Q)-J;15>Xe&&!(0>=(He-=Te[Xe]));)++Xe,He<<=1;qe+=lt=1<<(He=Xe-J),z[Y+(Xe=dt&Ye)].g=He+J,z[Y+Xe].value=Le-Y-Xe}ee.g=Q-J,ee.value=Re[Ne++],P(z,Le+(dt>>J),ve,lt,ee),dt=we(dt,Q)}}return st!=2*Be[15]-1?0:qe})(m,b,N,A,M,U)}function oe(){this.value=this.g=0}function ue(){this.value=this.g=0}function Ce(){this.G=d(5,oe),this.H=c(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(Ri,ue)}function re(m,b,N,A){e(m!=null),e(b!=null),e(2147483648>A),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=N,m.Jd=b,m.Yc=N+A,m.Zc=4<=A?N+A-4+1:N,ke(m)}function ge(m,b){for(var N=0;0<b--;)N|=B(m,128)<<b;return N}function me(m,b){var N=ge(m,b);return ce(m)?-N:N}function Oe(m,b,N,A){var M,U=0;for(e(m!=null),e(b!=null),e(4294967288>A),m.Sb=A,m.Ra=0,m.u=0,m.h=0,4<A&&(A=4),M=0;M<A;++M)U+=b[N+M]<<8*M;m.Ra=U,m.bb=A,m.oa=b,m.pa=N}function xe(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Rs-8>>>0,++m.bb,m.u-=8;G(m)&&(m.h=1,m.u=0)}function H(m,b){if(e(0<=b),!m.h&&b<=mr){var N=q(m)&jr[b];return m.u+=b,xe(m),N}return m.h=1,m.u=0}function S(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(m){return m.Ra>>>(m.u&Rs-1)>>>0}function G(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Rs}function ie(m,b){m.u=b,m.h=G(m)}function he(m){m.u>=Ds&&(e(m.u>=Ds),xe(m))}function ke(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ce(m){return ge(m,1)}function B(m,b){var N=m.Ca;0>m.b&&ke(m);var A=m.b,M=N*b>>>8,U=(m.I>>>A>M)+0;for(U?(N-=M,m.I-=M+1<<A>>>0):N=M+1,A=N,M=0;256<=A;)M+=8,A>>=8;return A=7^M+ii[A],m.b-=A,m.Ca=(N<<A)-1,U}function Ae(m,b,N){m[b+0]=N>>24&255,m[b+1]=N>>16&255,m[b+2]=N>>8&255,m[b+3]=255&N}function Ze(m,b){return m[b+0]|m[b+1]<<8}function tt(m,b){return Ze(m,b)|m[b+2]<<16}function ot(m,b){return Ze(m,b)|Ze(m,b+2)<<16}function X(m,b){var N=1<<b;return e(m!=null),e(0<b),m.X=c(N),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function at(m,b){e(m!=null),e(b!=null),e(m.Xa==b.Xa),s(b.X,0,m.X,0,1<<b.Xa)}function qt(){this.X=[],this.Xa=this.Mb=0}function bt(m,b,N,A){e(N!=null),e(A!=null);var M=N[0],U=A[0];return M==0&&(M=(m*U+b/2)/b),U==0&&(U=(b*M+m/2)/m),0>=M||0>=U?0:(N[0]=M,A[0]=U,1)}function Z(m,b){return m+(1<<b)-1>>>b}function ye(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function Ee(m,b){K[b]=function(N,A,M,U,z,Y,J){var ee;for(ee=0;ee<z;++ee){var ve=K[m](Y[J+ee-1],M,U+ee);Y[J+ee]=ye(N[A+ee],ve)}}}function We(){this.ud=this.hd=this.jd=0}function et(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function St(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Kt(m,b){return St(m+(m-b+.5>>1))}function Ot(m,b,N){return Math.abs(b-N)-Math.abs(m-N)}function $t(m,b,N,A,M,U,z){for(A=U[z-1],N=0;N<M;++N)U[z+N]=A=ye(m[b+N],A)}function Yt(m,b,N,A,M){var U;for(U=0;U<N;++U){var z=m[b+U],Y=z>>8&255,J=16711935&(J=(J=16711935&z)+((Y<<16)+Y));A[M+U]=(4278255360&z)+J>>>0}}function ft(m,b){b.jd=255&m,b.hd=m>>8&255,b.ud=m>>16&255}function Dt(m,b,N,A,M,U){var z;for(z=0;z<A;++z){var Y=b[N+z],J=Y>>>8,ee=Y,ve=255&(ve=(ve=Y>>>16)+((m.jd<<24>>24)*(J<<24>>24)>>>5));ee=255&(ee=(ee+=(m.hd<<24>>24)*(J<<24>>24)>>>5)+((m.ud<<24>>24)*(ve<<24>>24)>>>5)),M[U+z]=(4278255360&Y)+(ve<<16)+ee}}function mt(m,b,N,A,M){K[b]=function(U,z,Y,J,ee,ve,Re,Q,Ne){for(J=Re;J<Q;++J)for(Re=0;Re<Ne;++Re)ee[ve++]=M(Y[A(U[z++])])},K[m]=function(U,z,Y,J,ee,ve,Re){var Q=8>>U.b,Ne=U.Ea,Le=U.K[0],qe=U.w;if(8>Q)for(U=(1<<U.b)-1,qe=(1<<Q)-1;z<Y;++z){var Te,Be=0;for(Te=0;Te<Ne;++Te)Te&U||(Be=A(J[ee++])),ve[Re++]=M(Le[Be&qe]),Be>>=Q}else K["VP8LMapColor"+N](J,ee,Le,qe,ve,Re,z,Y,Ne)}}function Ga(m,b,N,A,M){for(N=b+N;b<N;){var U=m[b++];A[M++]=U>>16&255,A[M++]=U>>8&255,A[M++]=255&U}}function Jt(m,b,N,A,M){for(N=b+N;b<N;){var U=m[b++];A[M++]=U>>16&255,A[M++]=U>>8&255,A[M++]=255&U,A[M++]=U>>24&255}}function At(m,b,N,A,M){for(N=b+N;b<N;){var U=(z=m[b++])>>16&240|z>>12&15,z=240&z|z>>28&15;A[M++]=U,A[M++]=z}}function Mt(m,b,N,A,M){for(N=b+N;b<N;){var U=(z=m[b++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;A[M++]=U,A[M++]=z}}function Wt(m,b,N,A,M){for(N=b+N;b<N;){var U=m[b++];A[M++]=255&U,A[M++]=U>>8&255,A[M++]=U>>16&255}}function _t(m,b,N,A,M,U){if(U==0)for(N=b+N;b<N;)Ae(A,((U=m[b++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),M+=32;else s(A,M,m,b,N)}function Ca(m,b){K[b][0]=K[m+"0"],K[b][1]=K[m+"1"],K[b][2]=K[m+"2"],K[b][3]=K[m+"3"],K[b][4]=K[m+"4"],K[b][5]=K[m+"5"],K[b][6]=K[m+"6"],K[b][7]=K[m+"7"],K[b][8]=K[m+"8"],K[b][9]=K[m+"9"],K[b][10]=K[m+"10"],K[b][11]=K[m+"11"],K[b][12]=K[m+"12"],K[b][13]=K[m+"13"],K[b][14]=K[m+"0"],K[b][15]=K[m+"0"]}function Nt(m){return m==$l||m==Lc||m==Ko||m==Tc}function Pt(){this.eb=[],this.size=this.A=this.fb=0}function Na(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function zt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pt,this.f.kb=new Na,this.sd=null}function Ke(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ra(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function wr(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function En(m,b){var N=m.T,A=b.ba.f.RGBA,M=A.eb,U=A.fb+m.ka*A.A,z=Kn[b.ba.S],Y=m.y,J=m.O,ee=m.f,ve=m.N,Re=m.ea,Q=m.W,Ne=b.cc,Le=b.dc,qe=b.Mc,Te=b.Nc,Be=m.ka,He=m.ka+m.T,Xe=m.U,Ye=Xe+1>>1;for(Be==0?z(Y,J,null,null,ee,ve,Re,Q,ee,ve,Re,Q,M,U,null,null,Xe):(z(b.ec,b.fc,Y,J,Ne,Le,qe,Te,ee,ve,Re,Q,M,U-A.A,M,U,Xe),++N);Be+2<He;Be+=2)Ne=ee,Le=ve,qe=Re,Te=Q,ve+=m.Rc,Q+=m.Rc,U+=2*A.A,z(Y,(J+=2*m.fa)-m.fa,Y,J,Ne,Le,qe,Te,ee,ve,Re,Q,M,U-A.A,M,U,Xe);return J+=m.fa,m.j+He<m.o?(s(b.ec,b.fc,Y,J,Xe),s(b.cc,b.dc,ee,ve,Ye),s(b.Mc,b.Nc,Re,Q,Ye),N--):1&He||z(Y,J,null,null,ee,ve,Re,Q,ee,ve,Re,Q,M,U+A.A,null,null,Xe),N}function zr(m,b,N){var A=m.F,M=[m.J];if(A!=null){var U=m.U,z=b.ba.S,Y=z==Hl||z==Ko;b=b.ba.f.RGBA;var J=[0],ee=m.ka;J[0]=m.T,m.Kb&&(ee==0?--J[0]:(--ee,M[0]-=m.width),m.j+m.ka+m.T==m.o&&(J[0]=m.o-m.j-ee));var ve=b.eb;ee=b.fb+ee*b.A,m=Bl(A,M[0],m.width,U,J,ve,ee+(Y?0:3),b.A),e(N==J),m&&Nt(z)&&lo(ve,ee,Y,U,J,b.A)}return 0}function _r(m){var b=m.ma,N=b.ba.S,A=11>N,M=N==rr||N==Yr||N==Hl||N==Yo||N==12||Nt(N);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!si(b.Oa,m,M?11:12))return 0;if(M&&Nt(N)&&Ml(),m.da)alert("todo:use_scaling");else{if(A){if(b.Ib=wr,m.Kb){if(N=m.U+1>>1,b.memory=c(m.U+2*N),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+N,b.Ib=En,Ml()}}else alert("todo:EmitYUV");M&&(b.Jb=zr,A&&fs())}if(A&&!qi){for(m=0;256>m;++m)Jn[m]=89858*(m-128)+Xo>>Qr,xf[m]=-22014*(m-128)+Xo,Fd[m]=-45773*(m-128),Pc[m]=113618*(m-128)+Xo>>Qr;for(m=fo;m<Bi;++m)b=76283*(m-16)+Xo>>Qr,vf[m-fo]=Dr(b,255),yf[m-fo]=Dr(b+8>>4,15);qi=1}return 1}function vt(m){var b=m.ma,N=m.U,A=m.T;return e(!(1&m.ka)),0>=N||0>=A?0:(N=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,N),b.Dc+=N,1)}function Fr(m){m.ma.memory=null}function Tr(m,b,N,A){return H(m,8)!=47?0:(b[0]=H(m,14)+1,N[0]=H(m,14)+1,A[0]=H(m,1),H(m,3)!=0?0:!m.h)}function Qn(m,b){if(4>m)return m+1;var N=m-2>>1;return(2+(1&m)<<N)+H(b,N)+1}function er(m,b){return 120<b?b-120:1<=(N=((N=Jr[b-1])>>4)*m+(8-(15&N)))?N:1;var N}function ka(m,b,N){var A=q(N),M=m[b+=255&A].g-8;return 0<M&&(ie(N,N.u+8),A=q(N),b+=m[b].value,b+=A&(1<<M)-1),ie(N,N.u+m[b].g),m[b].value}function Ya(m,b,N){return N.g+=m.g,N.value+=m.value<<b>>>0,e(8>=N.g),m.g}function cn(m,b,N){var A=m.xc;return e((b=A==0?0:m.vc[m.md*(N>>A)+(b>>A)])<m.Wb),m.Ya[b]}function ls(m,b,N,A){var M=m.ab,U=m.c*b,z=m.C;b=z+b;var Y=N,J=A;for(A=m.Ta,N=m.Ua;0<M--;){var ee=m.gc[M],ve=z,Re=b,Q=Y,Ne=J,Le=(J=A,Y=N,ee.Ea);switch(e(ve<Re),e(Re<=ee.nc),ee.hc){case 2:dn(Q,Ne,(Re-ve)*Le,J,Y);break;case 0:var qe=ve,Te=Re,Be=J,He=Y,Xe=(lt=ee).Ea;qe==0&&(Ho(Q,Ne,null,null,1,Be,He),$t(Q,Ne+1,0,0,Xe-1,Be,He+1),Ne+=Xe,He+=Xe,++qe);for(var Ye=1<<lt.b,dt=Ye-1,st=Z(Xe,lt.b),Vt=lt.K,lt=lt.w+(qe>>lt.b)*st;qe<Te;){var ia=Vt,Fa=lt,Zt=1;for($o(Q,Ne,Be,He-Xe,1,Be,He);Zt<Xe;){var it=(Zt&~dt)+Ye;it>Xe&&(it=Xe),(0,oi[ia[Fa++]>>8&15])(Q,Ne+ +Zt,Be,He+Zt-Xe,it-Zt,Be,He+Zt),Zt=it}Ne+=Xe,He+=Xe,++qe&dt||(lt+=st)}Re!=ee.nc&&s(J,Y-Le,J,Y+(Re-ve-1)*Le,Le);break;case 1:for(Le=Q,Te=Ne,Xe=(Q=ee.Ea)-(He=Q&~(Be=(Ne=1<<ee.b)-1)),qe=Z(Q,ee.b),Ye=ee.K,ee=ee.w+(ve>>ee.b)*qe;ve<Re;){for(dt=Ye,st=ee,Vt=new We,lt=Te+He,ia=Te+Q;Te<lt;)ft(dt[st++],Vt),Vo(Vt,Le,Te,Ne,J,Y),Te+=Ne,Y+=Ne;Te<ia&&(ft(dt[st++],Vt),Vo(Vt,Le,Te,Xe,J,Y),Te+=Xe,Y+=Xe),++ve&Be||(ee+=qe)}break;case 3:if(Q==J&&Ne==Y&&0<ee.b){for(Te=J,Q=Le=Y+(Re-ve)*Le-(He=(Re-ve)*Z(ee.Ea,ee.b)),Ne=J,Be=Y,qe=[],He=(Xe=He)-1;0<=He;--He)qe[He]=Ne[Be+He];for(He=Xe-1;0<=He;--He)Te[Q+He]=qe[He];Sc(ee,ve,Re,J,Le,J,Y)}else Sc(ee,ve,Re,Q,Ne,J,Y)}Y=A,J=N}J!=N&&s(A,N,Y,J,U)}function le(m,b){var N=m.V,A=m.Ba+m.c*m.C,M=b-m.C;if(e(b<=m.l.o),e(16>=M),0<M){var U=m.l,z=m.Ta,Y=m.Ua,J=U.width;if(ls(m,M,N,A),M=Y=[Y],e((N=m.C)<(A=b)),e(U.v<U.va),A>U.o&&(A=U.o),N<U.j){var ee=U.j-N;N=U.j,M[0]+=ee*J}if(N>=A?N=0:(M[0]+=4*U.v,U.ka=N-U.j,U.U=U.va-U.v,U.T=A-N,N=1),N){if(Y=Y[0],11>(N=m.ca).S){var ve=N.f.RGBA,Re=(A=N.S,M=U.U,U=U.T,ee=ve.eb,ve.A),Q=U;for(ve=ve.fb+m.Ma*ve.A;0<Q--;){var Ne=z,Le=Y,qe=M,Te=ee,Be=ve;switch(A){case Ec:Go(Ne,Le,qe,Te,Be);break;case rr:li(Ne,Le,qe,Te,Be);break;case $l:li(Ne,Le,qe,Te,Be),lo(Te,Be,0,qe,1,0);break;case kc:io(Ne,Le,qe,Te,Be);break;case Yr:_t(Ne,Le,qe,Te,Be,1);break;case Lc:_t(Ne,Le,qe,Te,Be,1),lo(Te,Be,0,qe,1,0);break;case Hl:_t(Ne,Le,qe,Te,Be,0);break;case Ko:_t(Ne,Le,qe,Te,Be,0),lo(Te,Be,1,qe,1,0);break;case Yo:ci(Ne,Le,qe,Te,Be);break;case Tc:ci(Ne,Le,qe,Te,Be),Gr(Te,Be,qe,1,0);break;case Di:Is(Ne,Le,qe,Te,Be);break;default:e(0)}Y+=J,ve+=Re}m.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=N.height)}}m.C=b,e(m.C<=m.i)}function be(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var N=m.Ya[b].G,A=m.Ya[b].H;if(0<N[1][A[1]+0].g||0<N[2][A[2]+0].g||0<N[3][A[3]+0].g)return 0}return 1}function Pe(m,b,N,A,M,U){if(m.Z!=0){var z=m.qd,Y=m.rd;for(e(hi[m.Z]!=null);b<N;++b)hi[m.Z](z,Y,A,M,A,M,U),z=A,Y=M,M+=U;m.qd=z,m.rd=Y}}function rt(m,b){var N=m.l.ma,A=N.Z==0||N.Z==1?m.l.j:m.C;if(A=m.C<A?A:m.C,e(b<=m.l.o),b>A){var M=m.l.width,U=N.ca,z=N.tb+M*A,Y=m.V,J=m.Ba+m.c*A,ee=m.gc;e(m.ab==1),e(ee[0].hc==3),Ps(ee[0],A,b,Y,J,U,z),Pe(N,A,b,U,z,M)}m.C=m.Ma=b}function xt(m,b,N,A,M,U,z){var Y=m.$/A,J=m.$%A,ee=m.m,ve=m.s,Re=N+m.$,Q=Re;M=N+A*M;var Ne=N+A*U,Le=280+ve.ua,qe=m.Pb?Y:16777216,Te=0<ve.ua?ve.Wa:null,Be=ve.wc,He=Re<Ne?cn(ve,J,Y):null;e(m.C<U),e(Ne<=M);var Xe=!1;e:for(;;){for(;Xe||Re<Ne;){var Ye=0;if(Y>=qe){var dt=Re-N;e((qe=m).Pb),qe.wd=qe.m,qe.xd=dt,0<qe.s.ua&&at(qe.s.Wa,qe.s.vb),qe=Y+Mi}if(J&Be||(He=cn(ve,J,Y)),e(He!=null),He.Qb&&(b[Re]=He.qb,Xe=!0),!Xe)if(he(ee),He.jc){Ye=ee,dt=b;var st=Re,Vt=He.pd[q(Ye)&Ri-1];e(He.jc),256>Vt.g?(ie(Ye,Ye.u+Vt.g),dt[st]=Vt.value,Ye=0):(ie(Ye,Ye.u+Vt.g-256),e(256<=Vt.value),Ye=Vt.value),Ye==0&&(Xe=!0)}else Ye=ka(He.G[0],He.H[0],ee);if(ee.h)break;if(Xe||256>Ye){if(!Xe)if(He.nd)b[Re]=(He.qb|Ye<<8)>>>0;else{if(he(ee),Xe=ka(He.G[1],He.H[1],ee),he(ee),dt=ka(He.G[2],He.H[2],ee),st=ka(He.G[3],He.H[3],ee),ee.h)break;b[Re]=(st<<24|Xe<<16|Ye<<8|dt)>>>0}if(Xe=!1,++Re,++J>=A&&(J=0,++Y,z!=null&&Y<=U&&!(Y%16)&&z(m,Y),Te!=null))for(;Q<Re;)Ye=b[Q++],Te.X[(506832829*Ye&4294967295)>>>Te.Mb]=Ye}else if(280>Ye){if(Ye=Qn(Ye-256,ee),dt=ka(He.G[4],He.H[4],ee),he(ee),dt=er(A,dt=Qn(dt,ee)),ee.h)break;if(Re-N<dt||M-Re<Ye)break e;for(st=0;st<Ye;++st)b[Re+st]=b[Re+st-dt];for(Re+=Ye,J+=Ye;J>=A;)J-=A,++Y,z!=null&&Y<=U&&!(Y%16)&&z(m,Y);if(e(Re<=M),J&Be&&(He=cn(ve,J,Y)),Te!=null)for(;Q<Re;)Ye=b[Q++],Te.X[(506832829*Ye&4294967295)>>>Te.Mb]=Ye}else{if(!(Ye<Le))break e;for(Xe=Ye-280,e(Te!=null);Q<Re;)Ye=b[Q++],Te.X[(506832829*Ye&4294967295)>>>Te.Mb]=Ye;Ye=Re,e(!(Xe>>>(dt=Te).Xa)),b[Ye]=dt.X[Xe],Xe=!0}Xe||e(ee.h==G(ee))}if(m.Pb&&ee.h&&Re<M)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&at(m.s.vb,m.s.Wa);else{if(ee.h)break e;z!=null&&z(m,Y>U?U:Y),m.a=0,m.$=Re-N}return 1}return m.a=3,0}function Ea(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,e(m!=null)}function aa(){var m=new It;return m==null?null:(m.a=0,m.xb=Du,Ca("Predictor","VP8LPredictors"),Ca("Predictor","VP8LPredictors_C"),Ca("PredictorAdd","VP8LPredictorsAdd"),Ca("PredictorAdd","VP8LPredictorsAdd_C"),dn=Yt,Vo=Dt,Go=Ga,li=Jt,ci=At,Is=Mt,io=Wt,K.VP8LMapColor32b=Ms,K.VP8LMapColor8b=Vn,m)}function tr(m,b,N,A,M){var U=1,z=[m],Y=[b],J=A.m,ee=A.s,ve=null,Re=0;e:for(;;){if(N)for(;U&&H(J,1);){var Q=z,Ne=Y,Le=A,qe=1,Te=Le.m,Be=Le.gc[Le.ab],He=H(Te,2);if(Le.Oc&1<<He)U=0;else{switch(Le.Oc|=1<<He,Be.hc=He,Be.Ea=Q[0],Be.nc=Ne[0],Be.K=[null],++Le.ab,e(4>=Le.ab),He){case 0:case 1:Be.b=H(Te,3)+2,qe=tr(Z(Be.Ea,Be.b),Z(Be.nc,Be.b),0,Le,Be.K),Be.K=Be.K[0];break;case 3:var Xe,Ye=H(Te,8)+1,dt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(Q[0]=Z(Be.Ea,dt),Be.b=dt,Xe=qe=tr(Ye,1,0,Le,Be.K)){var st,Vt=Ye,lt=Be,ia=1<<(8>>lt.b),Fa=c(ia);if(Fa==null)Xe=0;else{var Zt=lt.K[0],it=lt.w;for(Fa[0]=lt.K[0][0],st=1;st<1*Vt;++st)Fa[st]=ye(Zt[it+st],Fa[st-1]);for(;st<4*ia;++st)Fa[st]=0;lt.K[0]=null,lt.K[0]=Fa,Xe=1}}qe=Xe;break;case 2:break;default:e(0)}U=qe}}if(z=z[0],Y=Y[0],U&&H(J,1)&&!(U=1<=(Re=H(J,4))&&11>=Re)){A.a=3;break e}var nt;if(nt=U)t:{var Wa,Tt,ta,ja=A,Tn=z,Wn=Y,Ia=Re,vn=N,sr=ja.m,yn=ja.s,sa=[null],pa=1,Xa=0,ya=Wr[Ia];a:for(;;){if(vn&&H(sr,1)){var On=H(sr,3)+2,Za=Z(Tn,On),ga=Z(Wn,On),mn=Za*ga;if(!tr(Za,ga,0,ja,sa))break a;for(sa=sa[0],yn.xc=On,Wa=0;Wa<mn;++Wa){var Sa=sa[Wa]>>8&65535;sa[Wa]=Sa,Sa>=pa&&(pa=Sa+1)}}if(sr.h)break a;for(Tt=0;5>Tt;++Tt){var wn=uo[Tt];!Tt&&0<Ia&&(wn+=1<<Ia),Xa<wn&&(Xa=wn)}var _n=d(pa*ya,oe),La=pa,ma=d(La,Ce);if(ma==null)var ir=null;else e(65536>=La),ir=ma;var nn=c(Xa);if(ir==null||nn==null||_n==null){ja.a=1;break a}var jt=_n;for(Wa=ta=0;Wa<pa;++Wa){var Ct=ir[Wa],ba=Ct.G,Sr=Ct.H,es=0,gr=1,Nn=0;for(Tt=0;5>Tt;++Tt){wn=uo[Tt],ba[Tt]=jt,Sr[Tt]=ta,!Tt&&0<Ia&&(wn+=1<<Ia);r:{var zi,Fi=wn,Uc=ja,Ua=nn,Pu=jt,Iu=ta,Bc=0,fi=Uc.m,wf=H(fi,1);if(l(Ua,0,0,Fi),wf){var Uu=H(fi,1)+1,Bu=H(fi,1),qc=H(fi,Bu==0?1:8);Ua[qc]=1,Uu==2&&(Ua[qc=H(fi,8)]=1);var Bn=1}else{var rn=c(19),Kl=H(fi,4)+4;if(19<Kl){Uc.a=3;var Hi=0;break r}for(zi=0;zi<Kl;++zi)rn[Vl[zi]]=H(fi,3);var Qo=void 0,mo=void 0,qs=Uc,zc=rn,el=Fi,Fc=Ua,Hc=0,mi=qs.m,qu=8,zu=d(128,oe);n:for(;$(zu,0,7,zc,19);){if(H(mi,1)){var Hd=2+2*H(mi,3);if((Qo=2+H(mi,Hd))>el)break n}else Qo=el;for(mo=0;mo<el&&Qo--;){he(mi);var Fu=zu[0+(127&q(mi))];ie(mi,mi.u+Fu.g);var $i=Fu.value;if(16>$i)Fc[mo++]=$i,$i!=0&&(qu=$i);else{var $d=$i==16,Vd=$i-16,Gd=Jo[Vd],Hu=H(mi,Kr[Vd])+Gd;if(mo+Hu>el)break n;for(var Yd=$d?qu:0;0<Hu--;)Fc[mo++]=Yd}}Hc=1;break n}Hc||(qs.a=3),Bn=Hc}(Bn=Bn&&!fi.h)&&(Bc=$(Pu,Iu,8,Ua,Fi)),Bn&&Bc!=0?Hi=Bc:(Uc.a=3,Hi=0)}if(Hi==0)break a;if(gr&&Oc[Tt]==1&&(gr=jt[ta].g==0),es+=jt[ta].g,ta+=Hi,3>=Tt){var po,$c=nn[0];for(po=1;po<wn;++po)nn[po]>$c&&($c=nn[po]);Nn+=$c}}if(Ct.nd=gr,Ct.Qb=0,gr&&(Ct.qb=(ba[3][Sr[3]+0].value<<24|ba[1][Sr[1]+0].value<<16|ba[2][Sr[2]+0].value)>>>0,es==0&&256>ba[0][Sr[0]+0].value&&(Ct.Qb=1,Ct.qb+=ba[0][Sr[0]+0].value<<8)),Ct.jc=!Ct.Qb&&6>Nn,Ct.jc){var Jl,zs=Ct;for(Jl=0;Jl<Ri;++Jl){var pi=Jl,gi=zs.pd[pi],Vc=zs.G[0][zs.H[0]+pi];256<=Vc.value?(gi.g=Vc.g+256,gi.value=Vc.value):(gi.g=0,gi.value=0,pi>>=Ya(Vc,8,gi),pi>>=Ya(zs.G[1][zs.H[1]+pi],16,gi),pi>>=Ya(zs.G[2][zs.H[2]+pi],0,gi),Ya(zs.G[3][zs.H[3]+pi],24,gi))}}}yn.vc=sa,yn.Wb=pa,yn.Ya=ir,yn.yc=_n,nt=1;break t}nt=0}if(!(U=nt)){A.a=3;break e}if(0<Re){if(ee.ua=1<<Re,!X(ee.Wa,Re)){A.a=1,U=0;break e}}else ee.ua=0;var Gc=A,go=z,Kd=Y,tl=Gc.s,al=tl.xc;if(Gc.c=go,Gc.i=Kd,tl.md=Z(go,al),tl.wc=al==0?-1:(1<<al)-1,N){A.xb=Pi;break e}if((ve=c(z*Y))==null){A.a=1,U=0;break e}U=(U=xt(A,ve,0,z,Y,Y,null))&&!J.h;break e}return U?(M!=null?M[0]=ve:(e(ve==null),e(N)),A.$=0,N||Ea(ee)):Ea(ee),U}function gn(m,b){var N=m.c*m.i,A=N+b+16*b;return e(m.c<=b),m.V=c(A),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+N+b,1)}function Ft(m,b){var N=m.C,A=b-N,M=m.V,U=m.Ba+m.c*N;for(e(b<=m.l.o);0<A;){var z=16<A?16:A,Y=m.l.ma,J=m.l.width,ee=J*z,ve=Y.ca,Re=Y.tb+J*N,Q=m.Ta,Ne=m.Ua;ls(m,z,M,U),Br(Q,Ne,ve,Re,ee),Pe(Y,N,N+z,ve,Re,J),A-=z,M+=z*m.c,N+=z}e(N==b),m.C=m.Ma=b}function Or(){this.ub=this.yd=this.td=this.Rb=0}function Qe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function kt(){this.Fb=this.Bb=this.Cb=0,this.Zb=c(4),this.Lb=c(4)}function ur(){this.Yb=(function(){var m=[];return(function b(N,A,M){for(var U=M[A],z=0;z<U&&(N.push(M.length>A+1?[]:0),!(M.length<A+1));z++)b(N[z],A+1,M)})(m,0,[3,11]),m})()}function Ka(){this.jb=c(3),this.Wc=h([4,8],ur),this.Xc=h([4,17],ur)}function Ei(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new c(4),this.od=new c(4)}function Rr(){this.ld=this.La=this.dd=this.tc=0}function cs(){this.Na=this.la=0}function Gs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function _l(){this.ad=c(384),this.Za=0,this.Ob=c(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Nl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Rr),this.Y=0,this.ya=Array(new _l),this.aa=0,this.l=new Ys}function jl(){this.y=c(16),this.f=c(8),this.ea=c(8)}function pc(){this.cb=this.a=0,this.sc="",this.m=new S,this.Od=new Or,this.Kc=new Qe,this.ed=new Ei,this.Qa=new kt,this.Ic=this.$c=this.Aa=0,this.D=new Nl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,S),this.ia=0,this.pb=d(4,Gs),this.Pa=new Ka,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new jl),this.Hd=0,this.rb=Array(new cs),this.sb=0,this.wa=Array(new Rr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new _l),this.L=this.aa=0,this.gd=h([4,2],Rr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Dr(m,b){return 0>m?0:m>b?b:m}function Ys(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function us(){var m=new pc;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,qr||(qr=ki)),m}function xa(m,b,N){return m.a==0&&(m.a=b,m.sc=N,m.cb=0),0}function Sl(m,b,N){return 3<=N&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function Es(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return xa(m,2,"null VP8Io passed to VP8GetHeaders()");var N=b.data,A=b.w,M=b.ha;if(4>M)return xa(m,7,"Truncated header.");var U=N[A+0]|N[A+1]<<8|N[A+2]<<16,z=m.Od;if(z.Rb=!(1&U),z.td=U>>1&7,z.yd=U>>4&1,z.ub=U>>5,3<z.td)return xa(m,3,"Incorrect keyframe parameters.");if(!z.yd)return xa(m,4,"Frame not displayable.");A+=3,M-=3;var Y=m.Kc;if(z.Rb){if(7>M)return xa(m,7,"cannot parse picture header");if(!Sl(N,A,M))return xa(m,3,"Bad code word");Y.c=16383&(N[A+4]<<8|N[A+3]),Y.Td=N[A+4]>>6,Y.i=16383&(N[A+6]<<8|N[A+5]),Y.Ud=N[A+6]>>6,A+=7,M-=7,m.za=Y.c+15>>4,m.Ub=Y.i+15>>4,b.width=Y.c,b.height=Y.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,l((U=m.Pa).jb,0,255,U.jb.length),e((U=m.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,l(U.Zb,0,0,U.Zb.length),l(U.Lb,0,0,U.Lb)}if(z.ub>M)return xa(m,7,"bad partition length");re(U=m.m,N,A,z.ub),A+=z.ub,M-=z.ub,z.Rb&&(Y.Ld=ce(U),Y.Kd=ce(U)),Y=m.Qa;var J,ee=m.Pa;if(e(U!=null),e(Y!=null),Y.Cb=ce(U),Y.Cb){if(Y.Bb=ce(U),ce(U)){for(Y.Fb=ce(U),J=0;4>J;++J)Y.Zb[J]=ce(U)?me(U,7):0;for(J=0;4>J;++J)Y.Lb[J]=ce(U)?me(U,6):0}if(Y.Bb)for(J=0;3>J;++J)ee.jb[J]=ce(U)?ge(U,8):255}else Y.Bb=0;if(U.Ka)return xa(m,3,"cannot parse segment header");if((Y=m.ed).zd=ce(U),Y.Tb=ge(U,6),Y.wb=ge(U,3),Y.Pc=ce(U),Y.Pc&&ce(U)){for(ee=0;4>ee;++ee)ce(U)&&(Y.vd[ee]=me(U,6));for(ee=0;4>ee;++ee)ce(U)&&(Y.od[ee]=me(U,6))}if(m.L=Y.Tb==0?0:Y.zd?1:2,U.Ka)return xa(m,3,"cannot parse filter header");var ve=M;if(M=J=A,A=J+ve,Y=ve,m.Xb=(1<<ge(m.m,2))-1,ve<3*(ee=m.Xb))N=7;else{for(J+=3*ee,Y-=3*ee,ve=0;ve<ee;++ve){var Re=N[M+0]|N[M+1]<<8|N[M+2]<<16;Re>Y&&(Re=Y),re(m.Jc[+ve],N,J,Re),J+=Re,Y-=Re,M+=3}re(m.Jc[+ee],N,J,Y),N=J<A?0:5}if(N!=0)return xa(m,N,"cannot parse partitions");for(N=ge(J=m.m,7),M=ce(J)?me(J,4):0,A=ce(J)?me(J,4):0,Y=ce(J)?me(J,4):0,ee=ce(J)?me(J,4):0,J=ce(J)?me(J,4):0,ve=m.Qa,Re=0;4>Re;++Re){if(ve.Cb){var Q=ve.Zb[Re];ve.Fb||(Q+=N)}else{if(0<Re){m.pb[Re]=m.pb[0];continue}Q=N}var Ne=m.pb[Re];Ne.Sc[0]=Xr[Dr(Q+M,127)],Ne.Sc[1]=Zr[Dr(Q+0,127)],Ne.Eb[0]=2*Xr[Dr(Q+A,127)],Ne.Eb[1]=101581*Zr[Dr(Q+Y,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=Xr[Dr(Q+ee,117)],Ne.Qc[1]=Zr[Dr(Q+J,127)],Ne.lc=Q+J}if(!z.Rb)return xa(m,4,"Not a key frame.");for(ce(U),z=m.Pa,N=0;4>N;++N){for(M=0;8>M;++M)for(A=0;3>A;++A)for(Y=0;11>Y;++Y)ee=B(U,za[N][M][A][Y])?ge(U,8):zd[N][M][A][Y],z.Wc[N][M].Yb[A][Y]=ee;for(M=0;17>M;++M)z.Xc[N][M]=z.Wc[N][oa[M]]}return m.kc=ce(U),m.kc&&(m.Bd=ge(U,8)),m.cb=1}function ki(m,b,N,A,M,U,z){var Y=b[M].Yb[N];for(N=0;16>M;++M){if(!B(m,Y[N+0]))return M;for(;!B(m,Y[N+1]);)if(Y=b[++M].Yb[0],N=0,M==16)return 16;var J=b[M+1].Yb;if(B(m,Y[N+2])){var ee=m,ve=0;if(B(ee,(Q=Y)[(Re=N)+3]))if(B(ee,Q[Re+6])){for(Y=0,Re=2*(ve=B(ee,Q[Re+8]))+(Q=B(ee,Q[Re+9+ve])),ve=0,Q=qd[Re];Q[Y];++Y)ve+=ve+B(ee,Q[Y]);ve+=3+(8<<Re)}else B(ee,Q[Re+7])?(ve=7+2*B(ee,165),ve+=B(ee,145)):ve=5+B(ee,159);else ve=B(ee,Q[Re+4])?3+B(ee,Q[Re+5]):2;Y=J[2]}else ve=1,Y=J[1];J=z+Ru[M],0>(ee=m).b&&ke(ee);var Re,Q=ee.b,Ne=(Re=ee.Ca>>1)-(ee.I>>Q)>>31;--ee.b,ee.Ca+=Ne,ee.Ca|=1,ee.I-=(Re+1&Ne)<<Q,U[J]=((ve^Ne)-Ne)*A[(0<M)+0]}return 16}function Al(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,l(m.zc,0,0,m.zc.length),m.ja=0}function dr(m,b,N,A,M){M=m[b+N+32*A]+(M>>3),m[b+N+32*A]=-256&M?0>M?0:255:M}function kn(m,b,N,A,M,U){dr(m,b,0,N,A+M),dr(m,b,1,N,A+U),dr(m,b,2,N,A-U),dr(m,b,3,N,A-M)}function bn(m){return(20091*m>>16)+m}function Po(m,b,N,A){var M,U=0,z=c(16);for(M=0;4>M;++M){var Y=m[b+0]+m[b+8],J=m[b+0]-m[b+8],ee=(35468*m[b+4]>>16)-bn(m[b+12]),ve=bn(m[b+4])+(35468*m[b+12]>>16);z[U+0]=Y+ve,z[U+1]=J+ee,z[U+2]=J-ee,z[U+3]=Y-ve,U+=4,b++}for(M=U=0;4>M;++M)Y=(m=z[U+0]+4)+z[U+8],J=m-z[U+8],ee=(35468*z[U+4]>>16)-bn(z[U+12]),dr(N,A,0,0,Y+(ve=bn(z[U+4])+(35468*z[U+12]>>16))),dr(N,A,1,0,J+ee),dr(N,A,2,0,J-ee),dr(N,A,3,0,Y-ve),U++,A+=32}function gc(m,b,N,A){var M=m[b+0]+4,U=35468*m[b+4]>>16,z=bn(m[b+4]),Y=35468*m[b+1]>>16;kn(N,A,0,M+z,m=bn(m[b+1]),Y),kn(N,A,1,M+U,m,Y),kn(N,A,2,M-U,m,Y),kn(N,A,3,M-z,m,Y)}function Cl(m,b,N,A,M){Po(m,b,N,A),M&&Po(m,b+16,N,A+4)}function hr(m,b,N,A){ui(m,b+0,N,A,1),ui(m,b+32,N,A+128,1)}function El(m,b,N,A){var M;for(m=m[b+0]+4,M=0;4>M;++M)for(b=0;4>b;++b)dr(N,A,b,M,m)}function kl(m,b,N,A){m[b+0]&&va(m,b+0,N,A),m[b+16]&&va(m,b+16,N,A+4),m[b+32]&&va(m,b+32,N,A+128),m[b+48]&&va(m,b+48,N,A+128+4)}function ds(m,b,N,A){var M,U=c(16);for(M=0;4>M;++M){var z=m[b+0+M]+m[b+12+M],Y=m[b+4+M]+m[b+8+M],J=m[b+4+M]-m[b+8+M],ee=m[b+0+M]-m[b+12+M];U[0+M]=z+Y,U[8+M]=z-Y,U[4+M]=ee+J,U[12+M]=ee-J}for(M=0;4>M;++M)z=(m=U[0+4*M]+3)+U[3+4*M],Y=U[1+4*M]+U[2+4*M],J=U[1+4*M]-U[2+4*M],ee=m-U[3+4*M],N[A+0]=z+Y>>3,N[A+16]=ee+J>>3,N[A+32]=z-Y>>3,N[A+48]=ee-J>>3,A+=64}function Qi(m,b,N){var A,M=b-32,U=nr,z=255-m[M-1];for(A=0;A<N;++A){var Y,J=U,ee=z+m[b-1];for(Y=0;Y<N;++Y)m[b+Y]=J[ee+m[M+Y]];b+=32}}function bc(m,b){Qi(m,b,4)}function xc(m,b){Qi(m,b,8)}function Ll(m,b){Qi(m,b,16)}function Tl(m,b){var N;for(N=0;16>N;++N)s(m,b+32*N,m,b-32,16)}function vc(m,b){var N;for(N=16;0<N;--N)l(m,b,m[b-1],16),b+=32}function Nr(m,b,N){var A;for(A=0;16>A;++A)l(b,N+32*A,m,16)}function hs(m,b){var N,A=16;for(N=0;16>N;++N)A+=m[b-1+32*N]+m[b+N-32];Nr(A>>5,m,b)}function Ks(m,b){var N,A=8;for(N=0;16>N;++N)A+=m[b-1+32*N];Nr(A>>4,m,b)}function eo(m,b){var N,A=8;for(N=0;16>N;++N)A+=m[b+N-32];Nr(A>>4,m,b)}function Li(m,b){Nr(128,m,b)}function Lt(m,b,N){return m+2*b+N+2>>2}function yc(m,b){var N,A=b-32;for(A=new Uint8Array([Lt(m[A-1],m[A+0],m[A+1]),Lt(m[A+0],m[A+1],m[A+2]),Lt(m[A+1],m[A+2],m[A+3]),Lt(m[A+2],m[A+3],m[A+4])]),N=0;4>N;++N)s(m,b+32*N,A,0,A.length)}function Ol(m,b){var N=m[b-1],A=m[b-1+32],M=m[b-1+64],U=m[b-1+96];Ae(m,b+0,16843009*Lt(m[b-1-32],N,A)),Ae(m,b+32,16843009*Lt(N,A,M)),Ae(m,b+64,16843009*Lt(A,M,U)),Ae(m,b+96,16843009*Lt(M,U,U))}function wc(m,b){var N,A=4;for(N=0;4>N;++N)A+=m[b+N-32]+m[b-1+32*N];for(A>>=3,N=0;4>N;++N)l(m,b+32*N,A,4)}function Mr(m,b){var N=m[b-1+0],A=m[b-1+32],M=m[b-1+64],U=m[b-1-32],z=m[b+0-32],Y=m[b+1-32],J=m[b+2-32],ee=m[b+3-32];m[b+0+96]=Lt(A,M,m[b-1+96]),m[b+1+96]=m[b+0+64]=Lt(N,A,M),m[b+2+96]=m[b+1+64]=m[b+0+32]=Lt(U,N,A),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=Lt(z,U,N),m[b+3+64]=m[b+2+32]=m[b+1+0]=Lt(Y,z,U),m[b+3+32]=m[b+2+0]=Lt(J,Y,z),m[b+3+0]=Lt(ee,J,Y)}function Hn(m,b){var N=m[b+1-32],A=m[b+2-32],M=m[b+3-32],U=m[b+4-32],z=m[b+5-32],Y=m[b+6-32],J=m[b+7-32];m[b+0+0]=Lt(m[b+0-32],N,A),m[b+1+0]=m[b+0+32]=Lt(N,A,M),m[b+2+0]=m[b+1+32]=m[b+0+64]=Lt(A,M,U),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=Lt(M,U,z),m[b+3+32]=m[b+2+64]=m[b+1+96]=Lt(U,z,Y),m[b+3+64]=m[b+2+96]=Lt(z,Y,J),m[b+3+96]=Lt(Y,J,J)}function Rl(m,b){var N=m[b-1+0],A=m[b-1+32],M=m[b-1+64],U=m[b-1-32],z=m[b+0-32],Y=m[b+1-32],J=m[b+2-32],ee=m[b+3-32];m[b+0+0]=m[b+1+64]=U+z+1>>1,m[b+1+0]=m[b+2+64]=z+Y+1>>1,m[b+2+0]=m[b+3+64]=Y+J+1>>1,m[b+3+0]=J+ee+1>>1,m[b+0+96]=Lt(M,A,N),m[b+0+64]=Lt(A,N,U),m[b+0+32]=m[b+1+96]=Lt(N,U,z),m[b+1+32]=m[b+2+96]=Lt(U,z,Y),m[b+2+32]=m[b+3+96]=Lt(z,Y,J),m[b+3+32]=Lt(Y,J,ee)}function to(m,b){var N=m[b+0-32],A=m[b+1-32],M=m[b+2-32],U=m[b+3-32],z=m[b+4-32],Y=m[b+5-32],J=m[b+6-32],ee=m[b+7-32];m[b+0+0]=N+A+1>>1,m[b+1+0]=m[b+0+64]=A+M+1>>1,m[b+2+0]=m[b+1+64]=M+U+1>>1,m[b+3+0]=m[b+2+64]=U+z+1>>1,m[b+0+32]=Lt(N,A,M),m[b+1+32]=m[b+0+96]=Lt(A,M,U),m[b+2+32]=m[b+1+96]=Lt(M,U,z),m[b+3+32]=m[b+2+96]=Lt(U,z,Y),m[b+3+64]=Lt(z,Y,J),m[b+3+96]=Lt(Y,J,ee)}function Pr(m,b){var N=m[b-1+0],A=m[b-1+32],M=m[b-1+64],U=m[b-1+96];m[b+0+0]=N+A+1>>1,m[b+2+0]=m[b+0+32]=A+M+1>>1,m[b+2+32]=m[b+0+64]=M+U+1>>1,m[b+1+0]=Lt(N,A,M),m[b+3+0]=m[b+1+32]=Lt(A,M,U),m[b+3+32]=m[b+1+64]=Lt(M,U,U),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=U}function ao(m,b){var N=m[b-1+0],A=m[b-1+32],M=m[b-1+64],U=m[b-1+96],z=m[b-1-32],Y=m[b+0-32],J=m[b+1-32],ee=m[b+2-32];m[b+0+0]=m[b+2+32]=N+z+1>>1,m[b+0+32]=m[b+2+64]=A+N+1>>1,m[b+0+64]=m[b+2+96]=M+A+1>>1,m[b+0+96]=U+M+1>>1,m[b+3+0]=Lt(Y,J,ee),m[b+2+0]=Lt(z,Y,J),m[b+1+0]=m[b+3+32]=Lt(N,z,Y),m[b+1+32]=m[b+3+64]=Lt(A,N,z),m[b+1+64]=m[b+3+96]=Lt(M,A,N),m[b+1+96]=Lt(U,M,A)}function ks(m,b){var N;for(N=0;8>N;++N)s(m,b+32*N,m,b-32,8)}function _c(m,b){var N;for(N=0;8>N;++N)l(m,b,m[b-1],8),b+=32}function Hr(m,b,N){var A;for(A=0;8>A;++A)l(b,N+32*A,m,8)}function Io(m,b){var N,A=8;for(N=0;8>N;++N)A+=m[b+N-32]+m[b-1+32*N];Hr(A>>4,m,b)}function Uo(m,b){var N,A=4;for(N=0;8>N;++N)A+=m[b+N-32];Hr(A>>3,m,b)}function In(m,b){var N,A=4;for(N=0;8>N;++N)A+=m[b-1+32*N];Hr(A>>3,m,b)}function Ls(m,b){Hr(128,m,b)}function $r(m,b,N){var A=m[b-N],M=m[b+0],U=3*(M-A)+di[1020+m[b-2*N]-m[b+N]],z=Fl[112+(U+4>>3)];m[b-N]=nr[255+A+Fl[112+(U+3>>3)]],m[b+0]=nr[255+M-z]}function Js(m,b,N,A){var M=m[b+0],U=m[b+N];return Gn[255+m[b-2*N]-m[b-N]]>A||Gn[255+U-M]>A}function Bo(m,b,N,A){return 4*Gn[255+m[b-N]-m[b+0]]+Gn[255+m[b-2*N]-m[b+N]]<=A}function no(m,b,N,A,M){var U=m[b-3*N],z=m[b-2*N],Y=m[b-N],J=m[b+0],ee=m[b+N],ve=m[b+2*N],Re=m[b+3*N];return 4*Gn[255+Y-J]+Gn[255+z-ee]>A?0:Gn[255+m[b-4*N]-U]<=M&&Gn[255+U-z]<=M&&Gn[255+z-Y]<=M&&Gn[255+Re-ve]<=M&&Gn[255+ve-ee]<=M&&Gn[255+ee-J]<=M}function Ws(m,b,N,A){var M=2*A+1;for(A=0;16>A;++A)Bo(m,b+A,N,M)&&$r(m,b+A,N)}function Xs(m,b,N,A){var M=2*A+1;for(A=0;16>A;++A)Bo(m,b+A*N,1,M)&&$r(m,b+A*N,1)}function ro(m,b,N,A){var M;for(M=3;0<M;--M)Ws(m,b+=4*N,N,A)}function Dl(m,b,N,A){var M;for(M=3;0<M;--M)Xs(m,b+=4,N,A)}function Zs(m,b,N,A,M,U,z,Y){for(U=2*U+1;0<M--;){if(no(m,b,N,U,z))if(Js(m,b,N,Y))$r(m,b,N);else{var J=m,ee=b,ve=N,Re=J[ee-2*ve],Q=J[ee-ve],Ne=J[ee+0],Le=J[ee+ve],qe=J[ee+2*ve],Te=27*(He=di[1020+3*(Ne-Q)+di[1020+Re-Le]])+63>>7,Be=18*He+63>>7,He=9*He+63>>7;J[ee-3*ve]=nr[255+J[ee-3*ve]+He],J[ee-2*ve]=nr[255+Re+Be],J[ee-ve]=nr[255+Q+Te],J[ee+0]=nr[255+Ne-Te],J[ee+ve]=nr[255+Le-Be],J[ee+2*ve]=nr[255+qe-He]}b+=A}}function Qs(m,b,N,A,M,U,z,Y){for(U=2*U+1;0<M--;){if(no(m,b,N,U,z))if(Js(m,b,N,Y))$r(m,b,N);else{var J=m,ee=b,ve=N,Re=J[ee-ve],Q=J[ee+0],Ne=J[ee+ve],Le=Fl[112+(4+(qe=3*(Q-Re))>>3)],qe=Fl[112+(qe+3>>3)],Te=Le+1>>1;J[ee-2*ve]=nr[255+J[ee-2*ve]+Te],J[ee-ve]=nr[255+Re+qe],J[ee+0]=nr[255+Q-Le],J[ee+ve]=nr[255+Ne-Te]}b+=A}}function Nc(m,b,N,A,M,U){Zs(m,b,N,1,16,A,M,U)}function ei(m,b,N,A,M,U){Zs(m,b,1,N,16,A,M,U)}function jc(m,b,N,A,M,U){var z;for(z=3;0<z;--z)Qs(m,b+=4*N,N,1,16,A,M,U)}function w(m,b,N,A,M,U){var z;for(z=3;0<z;--z)Qs(m,b+=4,1,N,16,A,M,U)}function D(m,b,N,A,M,U,z,Y){Zs(m,b,M,1,8,U,z,Y),Zs(N,A,M,1,8,U,z,Y)}function te(m,b,N,A,M,U,z,Y){Zs(m,b,1,M,8,U,z,Y),Zs(N,A,1,M,8,U,z,Y)}function pe(m,b,N,A,M,U,z,Y){Qs(m,b+4*M,M,1,8,U,z,Y),Qs(N,A+4*M,M,1,8,U,z,Y)}function je(m,b,N,A,M,U,z,Y){Qs(m,b+4,1,M,8,U,z,Y),Qs(N,A+4,1,M,8,U,z,Y)}function Fe(){this.ba=new zt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ra,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Je(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ct(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pt(){this.ua=0,this.Wa=new qt,this.vb=new qt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ce,this.yc=new oe}function It(){this.xb=this.a=0,this.l=new Ys,this.ca=new zt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pt,this.ab=0,this.gc=d(4,ct),this.Oc=0}function Xt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ys,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ha(m,b,N,A,M,U,z){for(m=m==null?0:m[b+0],b=0;b<z;++b)M[U+b]=m+N[A+b]&255,m=M[U+b]}function Ja(m,b,N,A,M,U,z){var Y;if(m==null)ha(null,null,N,A,M,U,z);else for(Y=0;Y<z;++Y)M[U+Y]=m[b+Y]+N[A+Y]&255}function un(m,b,N,A,M,U,z){if(m==null)ha(null,null,N,A,M,U,z);else{var Y,J=m[b+0],ee=J,ve=J;for(Y=0;Y<z;++Y)ee=ve+(J=m[b+Y])-ee,ve=N[A+Y]+(-256&ee?0>ee?0:255:ee)&255,ee=J,M[U+Y]=ve}}function Ma(m,b,N,A){var M=b.width,U=b.o;if(e(m!=null&&b!=null),0>N||0>=A||N+A>U)return null;if(!m.Cc){if(m.ga==null){var z;if(m.ga=new Xt,(z=m.ga==null)||(z=b.width*b.o,e(m.Gb.length==0),m.Gb=c(z),m.Uc=0,m.Gb==null?z=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,z=1),z=!z),!z){z=m.ga;var Y=m.Fa,J=m.P,ee=m.qc,ve=m.mb,Re=m.nb,Q=J+1,Ne=ee-1,Le=z.l;if(e(Y!=null&&ve!=null&&b!=null),hi[0]=null,hi[1]=ha,hi[2]=Ja,hi[3]=un,z.ca=ve,z.tb=Re,z.c=b.width,z.i=b.height,e(0<z.c&&0<z.i),1>=ee)b=0;else if(z.$a=3&Y[J+0],z.Z=Y[J+0]>>2&3,z.Lc=Y[J+0]>>4&3,J=Y[J+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||J)b=0;else if(Le.put=vt,Le.ac=_r,Le.bc=Fr,Le.ma=z,Le.width=b.width,Le.height=b.height,Le.Da=b.Da,Le.v=b.v,Le.va=b.va,Le.j=b.j,Le.o=b.o,z.$a)e:{e(z.$a==1),b=aa();t:for(;;){if(b==null){b=0;break e}if(e(z!=null),z.mc=b,b.c=z.c,b.i=z.i,b.l=z.l,b.l.ma=z,b.l.width=z.c,b.l.height=z.i,b.a=0,Oe(b.m,Y,Q,Ne),!tr(z.c,z.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&be(b.s)?(z.ic=1,Y=b.c*b.i,b.Ta=null,b.Ua=0,b.V=c(Y),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(z.ic=0,b=gn(b,z.c)),!b))break t;b=1;break e}z.mc=null,b=0}else b=Ne>=z.c*z.i;z=!b}if(z)return null;m.ga.Lc!=1?m.Ga=0:A=U-N}e(m.ga!=null),e(N+A<=U);e:{if(b=(Y=m.ga).c,U=Y.l.o,Y.$a==0){if(Q=m.rc,Ne=m.Vc,Le=m.Fa,J=m.P+1+N*b,ee=m.mb,ve=m.nb+N*b,e(J<=m.P+m.qc),Y.Z!=0)for(e(hi[Y.Z]!=null),z=0;z<A;++z)hi[Y.Z](Q,Ne,Le,J,ee,ve,b),Q=ee,Ne=ve,ve+=b,J+=b;else for(z=0;z<A;++z)s(ee,ve,Le,J,b),Q=ee,Ne=ve,ve+=b,J+=b;m.rc=Q,m.Vc=Ne}else{if(e(Y.mc!=null),b=N+A,e((z=Y.mc)!=null),e(b<=z.i),z.C>=b)b=1;else if(Y.ic||fs(),Y.ic){Y=z.V,Q=z.Ba,Ne=z.c;var qe=z.i,Te=(Le=1,J=z.$/Ne,ee=z.$%Ne,ve=z.m,Re=z.s,z.$),Be=Ne*qe,He=Ne*b,Xe=Re.wc,Ye=Te<He?cn(Re,ee,J):null;e(Te<=Be),e(b<=qe),e(be(Re));t:for(;;){for(;!ve.h&&Te<He;){if(ee&Xe||(Ye=cn(Re,ee,J)),e(Ye!=null),he(ve),256>(qe=ka(Ye.G[0],Ye.H[0],ve)))Y[Q+Te]=qe,++Te,++ee>=Ne&&(ee=0,++J<=b&&!(J%16)&&rt(z,J));else{if(!(280>qe)){Le=0;break t}qe=Qn(qe-256,ve);var dt,st=ka(Ye.G[4],Ye.H[4],ve);if(he(ve),!(Te>=(st=er(Ne,st=Qn(st,ve)))&&Be-Te>=qe)){Le=0;break t}for(dt=0;dt<qe;++dt)Y[Q+Te+dt]=Y[Q+Te+dt-st];for(Te+=qe,ee+=qe;ee>=Ne;)ee-=Ne,++J<=b&&!(J%16)&&rt(z,J);Te<He&&ee&Xe&&(Ye=cn(Re,ee,J))}e(ve.h==G(ve))}rt(z,J>b?b:J);break t}!Le||ve.h&&Te<Be?(Le=0,z.a=ve.h?5:3):z.$=Te,b=Le}else b=xt(z,z.V,z.Ba,z.c,z.i,b,Ft);if(!b){A=0;break e}}N+A>=U&&(m.Cc=1),A=1}if(!A)return null;if(m.Cc&&((A=m.ga)!=null&&(A.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+N*M}function Ln(m,b,N,A,M,U){for(;0<M--;){var z,Y=m,J=b+(N?1:0),ee=m,ve=b+(N?0:3);for(z=0;z<A;++z){var Re=ee[ve+4*z];Re!=255&&(Re*=32897,Y[J+4*z+0]=Y[J+4*z+0]*Re>>23,Y[J+4*z+1]=Y[J+4*z+1]*Re>>23,Y[J+4*z+2]=Y[J+4*z+2]*Re>>23)}b+=U}}function xn(m,b,N,A,M){for(;0<A--;){var U;for(U=0;U<N;++U){var z=m[b+2*U+0],Y=15&(ee=m[b+2*U+1]),J=4369*Y,ee=(240&ee|ee>>4)*J>>16;m[b+2*U+0]=(240&z|z>>4)*J>>16&240|(15&z|z<<4)*J>>16>>4&15,m[b+2*U+1]=240&ee|Y}b+=M}}function $n(m,b,N,A,M,U,z,Y){var J,ee,ve=255;for(ee=0;ee<M;++ee){for(J=0;J<A;++J){var Re=m[b+J];U[z+4*J]=Re,ve&=Re}b+=N,z+=Y}return ve!=255}function ti(m,b,N,A,M){var U;for(U=0;U<M;++U)N[A+U]=m[b+U]>>8}function fs(){lo=Ln,Gr=xn,Bl=$n,Br=ti}function ai(m,b,N){K[m]=function(A,M,U,z,Y,J,ee,ve,Re,Q,Ne,Le,qe,Te,Be,He,Xe){var Ye,dt=Xe-1>>1,st=Y[J+0]|ee[ve+0]<<16,Vt=Re[Q+0]|Ne[Le+0]<<16;e(A!=null);var lt=3*st+Vt+131074>>2;for(b(A[M+0],255&lt,lt>>16,qe,Te),U!=null&&(lt=3*Vt+st+131074>>2,b(U[z+0],255&lt,lt>>16,Be,He)),Ye=1;Ye<=dt;++Ye){var ia=Y[J+Ye]|ee[ve+Ye]<<16,Fa=Re[Q+Ye]|Ne[Le+Ye]<<16,Zt=st+ia+Vt+Fa+524296,it=Zt+2*(ia+Vt)>>3;lt=it+st>>1,st=(Zt=Zt+2*(st+Fa)>>3)+ia>>1,b(A[M+2*Ye-1],255&lt,lt>>16,qe,Te+(2*Ye-1)*N),b(A[M+2*Ye-0],255&st,st>>16,qe,Te+(2*Ye-0)*N),U!=null&&(lt=Zt+Vt>>1,st=it+Fa>>1,b(U[z+2*Ye-1],255&lt,lt>>16,Be,He+(2*Ye-1)*N),b(U[z+2*Ye+0],255&st,st>>16,Be,He+(2*Ye+0)*N)),st=ia,Vt=Fa}1&Xe||(lt=3*st+Vt+131074>>2,b(A[M+Xe-1],255&lt,lt>>16,qe,Te+(Xe-1)*N),U!=null&&(lt=3*Vt+st+131074>>2,b(U[z+Xe-1],255&lt,lt>>16,Be,He+(Xe-1)*N)))}}function Ml(){Kn[Ec]=ho,Kn[rr]=Wo,Kn[kc]=Mu,Kn[Yr]=Dc,Kn[Hl]=Ii,Kn[Yo]=Bs,Kn[Di]=Ui,Kn[$l]=Wo,Kn[Lc]=Dc,Kn[Ko]=Ii,Kn[Tc]=Bs}function qo(m){return m&-16384?0>m?0:255:m>>Mc}function Ts(m,b){return qo((19077*m>>8)+(26149*b>>8)-14234)}function ms(m,b,N){return qo((19077*m>>8)-(6419*b>>8)-(13320*N>>8)+8708)}function so(m,b){return qo((19077*m>>8)+(33050*b>>8)-17685)}function ni(m,b,N,A,M){A[M+0]=Ts(m,N),A[M+1]=ms(m,b,N),A[M+2]=so(m,b)}function Un(m,b,N,A,M){A[M+0]=so(m,b),A[M+1]=ms(m,b,N),A[M+2]=Ts(m,N)}function Ti(m,b,N,A,M){var U=ms(m,b,N);b=U<<3&224|so(m,b)>>3,A[M+0]=248&Ts(m,N)|U>>5,A[M+1]=b}function Oi(m,b,N,A,M){var U=240&so(m,b)|15;A[M+0]=240&Ts(m,N)|ms(m,b,N)>>4,A[M+1]=U}function zo(m,b,N,A,M){A[M+0]=255,ni(m,b,N,A,M+1)}function Os(m,b,N,A,M){Un(m,b,N,A,M),A[M+3]=255}function fr(m,b,N,A,M){ni(m,b,N,A,M),A[M+3]=255}function ri(m,b,N){K[m]=function(A,M,U,z,Y,J,ee,ve,Re){for(var Q=ve+(-2&Re)*N;ve!=Q;)b(A[M+0],U[z+0],Y[J+0],ee,ve),b(A[M+1],U[z+0],Y[J+0],ee,ve+N),M+=2,++z,++J,ve+=2*N;1&Re&&b(A[M+0],U[z+0],Y[J+0],ee,ve)}}function Fo(m,b,N){return N==0?m==0?b==0?6:5:b==0?4:0:N}function Pl(m,b,N,A,M){switch(m>>>30){case 3:ui(b,N,A,M,0);break;case 2:ar(b,N,A,M);break;case 1:va(b,N,A,M)}}function Ir(m,b){var N,A,M=b.M,U=b.Nb,z=m.oc,Y=m.pc+40,J=m.oc,ee=m.pc+584,ve=m.oc,Re=m.pc+600;for(N=0;16>N;++N)z[Y+32*N-1]=129;for(N=0;8>N;++N)J[ee+32*N-1]=129,ve[Re+32*N-1]=129;for(0<M?z[Y-1-32]=J[ee-1-32]=ve[Re-1-32]=129:(l(z,Y-32-1,127,21),l(J,ee-32-1,127,9),l(ve,Re-32-1,127,9)),A=0;A<m.za;++A){var Q=b.ya[b.aa+A];if(0<A){for(N=-1;16>N;++N)s(z,Y+32*N-4,z,Y+32*N+12,4);for(N=-1;8>N;++N)s(J,ee+32*N-4,J,ee+32*N+4,4),s(ve,Re+32*N-4,ve,Re+32*N+4,4)}var Ne=m.Gd,Le=m.Hd+A,qe=Q.ad,Te=Q.Hc;if(0<M&&(s(z,Y-32,Ne[Le].y,0,16),s(J,ee-32,Ne[Le].f,0,8),s(ve,Re-32,Ne[Le].ea,0,8)),Q.Za){var Be=z,He=Y-32+16;for(0<M&&(A>=m.za-1?l(Be,He,Ne[Le].y[15],4):s(Be,He,Ne[Le+1].y,0,4)),N=0;4>N;N++)Be[He+128+N]=Be[He+256+N]=Be[He+384+N]=Be[He+0+N];for(N=0;16>N;++N,Te<<=2)Be=z,He=Y+fn[N],an[Q.Ob[N]](Be,He),Pl(Te,qe,16*+N,Be,He)}else if(Be=Fo(A,M,Q.Ob[0]),pr[Be](z,Y),Te!=0)for(N=0;16>N;++N,Te<<=2)Pl(Te,qe,16*+N,z,Y+fn[N]);for(N=Q.Gc,Be=Fo(A,M,Q.Dd),xs[Be](J,ee),xs[Be](ve,Re),Te=qe,Be=J,He=ee,255&(Q=0|N)&&(170&Q?Vr(Te,256,Be,He):fa(Te,256,Be,He)),Q=ve,Te=Re,255&(N>>=8)&&(170&N?Vr(qe,320,Q,Te):fa(qe,320,Q,Te)),M<m.Ub-1&&(s(Ne[Le].y,0,z,Y+480,16),s(Ne[Le].f,0,J,ee+224,8),s(Ne[Le].ea,0,ve,Re+224,8)),N=8*U*m.B,Ne=m.sa,Le=m.ta+16*A+16*U*m.R,qe=m.qa,Q=m.ra+8*A+N,Te=m.Ha,Be=m.Ia+8*A+N,N=0;16>N;++N)s(Ne,Le+N*m.R,z,Y+32*N,16);for(N=0;8>N;++N)s(qe,Q+N*m.B,J,ee+32*N,8),s(Te,Be+N*m.B,ve,Re+32*N,8)}}function ps(m,b,N,A,M,U,z,Y,J){var ee=[0],ve=[0],Re=0,Q=J!=null?J.kd:0,Ne=J??new Je;if(m==null||12>N)return 7;Ne.data=m,Ne.w=b,Ne.ha=N,b=[b],N=[N],Ne.gb=[Ne.gb];e:{var Le=b,qe=N,Te=Ne.gb;if(e(m!=null),e(qe!=null),e(Te!=null),Te[0]=0,12<=qe[0]&&!a(m,Le[0],"RIFF")){if(a(m,Le[0]+8,"WEBP")){Te=3;break e}var Be=ot(m,Le[0]+4);if(12>Be||4294967286<Be){Te=3;break e}if(Q&&Be>qe[0]-8){Te=7;break e}Te[0]=Be,Le[0]+=12,qe[0]-=12}Te=0}if(Te!=0)return Te;for(Be=0<Ne.gb[0],N=N[0];;){e:{var He=m;qe=b,Te=N;var Xe=ee,Ye=ve,dt=Le=[0];if((lt=Re=[Re])[0]=0,8>Te[0])Te=7;else{if(!a(He,qe[0],"VP8X")){if(ot(He,qe[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var st=ot(He,qe[0]+8),Vt=1+tt(He,qe[0]+12);if(2147483648<=Vt*(He=1+tt(He,qe[0]+15))){Te=3;break e}dt!=null&&(dt[0]=st),Xe!=null&&(Xe[0]=Vt),Ye!=null&&(Ye[0]=He),qe[0]+=18,Te[0]-=18,lt[0]=1}Te=0}}if(Re=Re[0],Le=Le[0],Te!=0)return Te;if(qe=!!(2&Le),!Be&&Re)return 3;if(U!=null&&(U[0]=!!(16&Le)),z!=null&&(z[0]=qe),Y!=null&&(Y[0]=0),z=ee[0],Le=ve[0],Re&&qe&&J==null){Te=0;break}if(4>N){Te=7;break}if(Be&&Re||!Be&&!Re&&!a(m,b[0],"ALPH")){N=[N],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{st=m,Te=b,Be=N;var lt=Ne.gb;Xe=Ne.na,Ye=Ne.P,dt=Ne.Sa,Vt=22,e(st!=null),e(Be!=null),He=Te[0];var ia=Be[0];for(e(Xe!=null),e(dt!=null),Xe[0]=null,Ye[0]=null,dt[0]=0;;){if(Te[0]=He,Be[0]=ia,8>ia){Te=7;break e}var Fa=ot(st,He+4);if(4294967286<Fa){Te=3;break e}var Zt=8+Fa+1&-2;if(Vt+=Zt,0<lt&&Vt>lt){Te=3;break e}if(!a(st,He,"VP8 ")||!a(st,He,"VP8L")){Te=0;break e}if(ia[0]<Zt){Te=7;break e}a(st,He,"ALPH")||(Xe[0]=st,Ye[0]=He+8,dt[0]=Fa),He+=Zt,ia-=Zt}}if(N=N[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],Te!=0)break}N=[N],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(lt=m,Te=b,Be=N,Xe=Ne.gb[0],Ye=Ne.Ja,dt=Ne.xa,st=Te[0],He=!a(lt,st,"VP8 "),Vt=!a(lt,st,"VP8L"),e(lt!=null),e(Be!=null),e(Ye!=null),e(dt!=null),8>Be[0])Te=7;else{if(He||Vt){if(lt=ot(lt,st+4),12<=Xe&&lt>Xe-12){Te=3;break e}if(Q&&lt>Be[0]-8){Te=7;break e}Ye[0]=lt,Te[0]+=8,Be[0]-=8,dt[0]=Vt}else dt[0]=5<=Be[0]&&lt[st+0]==47&&!(lt[st+4]>>5),Ye[0]=Be[0];Te=0}if(N=N[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],b=b[0],Te!=0)break;if(4294967286<Ne.Ja)return 3;if(Y==null||qe||(Y[0]=Ne.xa?2:1),z=[z],Le=[Le],Ne.xa){if(5>N){Te=7;break}Y=z,Q=Le,qe=U,m==null||5>N?m=0:5<=N&&m[b+0]==47&&!(m[b+4]>>5)?(Be=[0],lt=[0],Xe=[0],Oe(Ye=new I,m,b,N),Tr(Ye,Be,lt,Xe)?(Y!=null&&(Y[0]=Be[0]),Q!=null&&(Q[0]=lt[0]),qe!=null&&(qe[0]=Xe[0]),m=1):m=0):m=0}else{if(10>N){Te=7;break}Y=Le,m==null||10>N||!Sl(m,b+3,N-3)?m=0:(Q=m[b+0]|m[b+1]<<8|m[b+2]<<16,qe=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&Q||3<(Q>>1&7)||!(Q>>4&1)||Q>>5>=Ne.Ja||!qe||!m?m=0:(z&&(z[0]=qe),Y&&(Y[0]=m),m=1))}if(!m||(z=z[0],Le=Le[0],Re&&(ee[0]!=z||ve[0]!=Le)))return 3;J!=null&&(J[0]=Ne,J.offset=b-J.w,e(4294967286>b-J.w),e(J.offset==J.ha-N));break}return Te==0||Te==7&&Re&&J==null?(U!=null&&(U[0]|=Ne.na!=null&&0<Ne.na.length),A!=null&&(A[0]=z),M!=null&&(M[0]=Le),0):Te}function si(m,b,N){var A=b.width,M=b.height,U=0,z=0,Y=A,J=M;if(b.Da=m!=null&&0<m.Da,b.Da&&(Y=m.cd,J=m.bd,U=m.v,z=m.j,11>N||(U&=-2,z&=-2),0>U||0>z||0>=Y||0>=J||U+Y>A||z+J>M))return 0;if(b.v=U,b.j=z,b.va=U+Y,b.o=z+J,b.U=Y,b.T=J,b.da=m!=null&&0<m.da,b.da){if(!bt(Y,J,N=[m.ib],U=[m.hb]))return 0;b.ib=N[0],b.hb=U[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*A/4&&b.hb<3*M/4,b.Kb=0),1}function Il(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function gs(m,b,N,A){if(A==null||0>=m||0>=b)return 2;if(N!=null){if(N.Da){var M=N.cd,U=N.bd,z=-2&N.v,Y=-2&N.j;if(0>z||0>Y||0>=M||0>=U||z+M>m||Y+U>b)return 2;m=M,b=U}if(N.da){if(!bt(m,b,M=[N.ib],U=[N.hb]))return 2;m=M[0],b=U[0]}}A.width=m,A.height=b;e:{var J=A.width,ee=A.height;if(m=A.S,0>=J||0>=ee||!(m>=Ec&&13>m))m=2;else{if(0>=A.Rd&&A.sd==null){z=U=M=b=0;var ve=(Y=J*Ic[m])*ee;if(11>m||(U=(ee+1)/2*(b=(J+1)/2),m==12&&(z=(M=J)*ee)),(ee=c(ve+2*U+z))==null){m=1;break e}A.sd=ee,11>m?((J=A.f.RGBA).eb=ee,J.fb=0,J.A=Y,J.size=ve):((J=A.f.kb).y=ee,J.O=0,J.fa=Y,J.Fd=ve,J.f=ee,J.N=0+ve,J.Ab=b,J.Cd=U,J.ea=ee,J.W=0+ve+U,J.Db=b,J.Ed=U,m==12&&(J.F=ee,J.J=0+ve+2*U),J.Tc=z,J.lb=M)}if(b=1,M=A.S,U=A.width,z=A.height,M>=Ec&&13>M)if(11>M)m=A.f.RGBA,b&=(Y=Math.abs(m.A))*(z-1)+U<=m.size,b&=Y>=U*Ic[M],b&=m.eb!=null;else{m=A.f.kb,Y=(U+1)/2,ve=(z+1)/2,J=Math.abs(m.fa),ee=Math.abs(m.Ab);var Re=Math.abs(m.Db),Q=Math.abs(m.lb),Ne=Q*(z-1)+U;b&=J*(z-1)+U<=m.Fd,b&=ee*(ve-1)+Y<=m.Cd,b=(b&=Re*(ve-1)+Y<=m.Ed)&J>=U&ee>=Y&Re>=Y,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,M==12&&(b&=Q>=U,b&=Ne<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||N!=null&&N.fd&&(m=Il(A)),m}var Ri=64,jr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],mr=24,Rs=32,Ds=8,ii=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),K.Predictor0=function(){return 4278190080},K.Predictor1=function(m){return m},K.Predictor2=function(m,b,N){return b[N+0]},K.Predictor3=function(m,b,N){return b[N+1]},K.Predictor4=function(m,b,N){return b[N-1]},K.Predictor5=function(m,b,N){return et(et(m,b[N+1]),b[N+0])},K.Predictor6=function(m,b,N){return et(m,b[N-1])},K.Predictor7=function(m,b,N){return et(m,b[N+0])},K.Predictor8=function(m,b,N){return et(b[N-1],b[N+0])},K.Predictor9=function(m,b,N){return et(b[N+0],b[N+1])},K.Predictor10=function(m,b,N){return et(et(m,b[N-1]),et(b[N+0],b[N+1]))},K.Predictor11=function(m,b,N){var A=b[N+0];return 0>=Ot(A>>24&255,m>>24&255,(b=b[N-1])>>24&255)+Ot(A>>16&255,m>>16&255,b>>16&255)+Ot(A>>8&255,m>>8&255,b>>8&255)+Ot(255&A,255&m,255&b)?A:m},K.Predictor12=function(m,b,N){var A=b[N+0];return(St((m>>24&255)+(A>>24&255)-((b=b[N-1])>>24&255))<<24|St((m>>16&255)+(A>>16&255)-(b>>16&255))<<16|St((m>>8&255)+(A>>8&255)-(b>>8&255))<<8|St((255&m)+(255&A)-(255&b)))>>>0},K.Predictor13=function(m,b,N){var A=b[N-1];return(Kt((m=et(m,b[N+0]))>>24&255,A>>24&255)<<24|Kt(m>>16&255,A>>16&255)<<16|Kt(m>>8&255,A>>8&255)<<8|Kt(255&m,255&A))>>>0};var Ho=K.PredictorAdd0;K.PredictorAdd1=$t,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var $o=K.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var dn,Sc=K.ColorIndexInverseTransform,Ms=K.MapARGB,Ps=K.VP8LColorIndexInverseTransformAlpha,Vn=K.MapAlpha,oi=K.VP8LPredictorsAdd=[];oi.length=16,(K.VP8LPredictors=[]).length=16,(K.VP8LPredictorsAdd_C=[]).length=16,(K.VP8LPredictors_C=[]).length=16;var Vo,Go,li,ci,Is,io,Ur,ui,ar,Vr,va,fa,Pa,hn,Us,bs,oo,Ul,Lu,Id,Ud,Bd,Tu,Ou,lo,Gr,Bl,Br,co=c(511),Ac=c(2041),ql=c(225),zl=c(767),Cc=0,di=Ac,Fl=ql,nr=zl,Gn=co,Ec=0,rr=1,kc=2,Yr=3,Hl=4,Yo=5,Di=6,$l=7,Lc=8,Ko=9,Tc=10,Kr=[2,3,7],Jo=[3,3,11],uo=[280,256,256,256,40],Oc=[0,1,1,1,0],Vl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Wr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Mi=8,Xr=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zr=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qr=null,qd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ru=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Rc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Yn=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],za=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],oa=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],pr=[],an=[],xs=[],Pi=1,Du=2,hi=[],Kn=[];ai("UpsampleRgbLinePair",ni,3),ai("UpsampleBgrLinePair",Un,3),ai("UpsampleRgbaLinePair",fr,4),ai("UpsampleBgraLinePair",Os,4),ai("UpsampleArgbLinePair",zo,4),ai("UpsampleRgba4444LinePair",Oi,2),ai("UpsampleRgb565LinePair",Ti,2);var ho=K.UpsampleRgbLinePair,Mu=K.UpsampleBgrLinePair,Wo=K.UpsampleRgbaLinePair,Dc=K.UpsampleBgraLinePair,Ii=K.UpsampleArgbLinePair,Bs=K.UpsampleRgba4444LinePair,Ui=K.UpsampleRgb565LinePair,Qr=16,Xo=1<<Qr-1,fo=-227,Bi=482,Mc=6,qi=0,Jn=c(256),Pc=c(256),Fd=c(256),xf=c(256),vf=c(Bi-fo),yf=c(Bi-fo);ri("YuvToRgbRow",ni,3),ri("YuvToBgrRow",Un,3),ri("YuvToRgbaRow",fr,4),ri("YuvToBgraRow",Os,4),ri("YuvToArgbRow",zo,4),ri("YuvToRgba4444Row",Oi,2),ri("YuvToRgb565Row",Ti,2);var fn=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zo=[0,2,8],Gl=[8,7,6,4,4,2,2,2,1,1,1,1],Yl=1;this.WebPDecodeRGBA=function(m,b,N,A,M){var U=rr,z=new Fe,Y=new zt;z.ba=Y,Y.S=U,Y.width=[Y.width],Y.height=[Y.height];var J=Y.width,ee=Y.height,ve=new Ke;if(ve==null||m==null)var Re=2;else e(ve!=null),Re=ps(m,b,N,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Re!=0?J=0:(J!=null&&(J[0]=ve.width[0]),ee!=null&&(ee[0]=ve.height[0]),J=1),J){Y.width=Y.width[0],Y.height=Y.height[0],A!=null&&(A[0]=Y.width),M!=null&&(M[0]=Y.height);e:{if(A=new Ys,(M=new Je).data=m,M.w=b,M.ha=N,M.kd=1,b=[0],e(M!=null),((m=ps(M.data,M.w,M.ha,null,null,null,b,null,M))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(e(z!=null),A.data=M.data,A.w=M.w+M.offset,A.ha=M.ha-M.offset,A.put=vt,A.ac=_r,A.bc=Fr,A.ma=z,M.xa){if((m=aa())==null){z=1;break e}if((function(Q,Ne){var Le=[0],qe=[0],Te=[0];t:for(;;){if(Q==null)return 0;if(Ne==null)return Q.a=2,0;if(Q.l=Ne,Q.a=0,Oe(Q.m,Ne.data,Ne.w,Ne.ha),!Tr(Q.m,Le,qe,Te)){Q.a=3;break t}if(Q.xb=Du,Ne.width=Le[0],Ne.height=qe[0],!tr(Le[0],qe[0],1,Q,null))break t;return 1}return e(Q.a!=0),0})(m,A)){if(A=(b=gs(A.width,A.height,z.Oa,z.ba))==0){t:{A=m;a:for(;;){if(A==null){A=0;break t}if(e(A.s.yc!=null),e(A.s.Ya!=null),e(0<A.s.Wb),e((N=A.l)!=null),e((M=N.ma)!=null),A.xb!=0){if(A.ca=M.ba,A.tb=M.tb,e(A.ca!=null),!si(M.Oa,N,Yr)){A.a=2;break a}if(!gn(A,N.width)||N.da)break a;if((N.da||Nt(A.ca.S))&&fs(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&fs()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!X(A.s.vb,A.s.Wa.Xa)){A.a=1;break a}A.xb=0}if(!xt(A,A.V,A.Ba,A.c,A.i,N.o,le))break a;M.Dc=A.Ma,A=1;break t}e(A.a!=0),A=0}A=!A}A&&(b=m.a)}else b=m.a}else{if((m=new us)==null){z=1;break e}if(m.Fa=M.na,m.P=M.P,m.qc=M.Sa,Es(m,A)){if((b=gs(A.width,A.height,z.Oa,z.ba))==0){if(m.Aa=0,N=z.Oa,e((M=m)!=null),N!=null){if(0<(J=0>(J=N.Md)?0:100<J?255:255*J/100)){for(ee=ve=0;4>ee;++ee)12>(Re=M.pb[ee]).lc&&(Re.ia=J*Gl[0>Re.lc?0:Re.lc]>>3),ve|=Re.ia;ve&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=N.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(Q,Ne){if(Q==null)return 0;if(Ne==null)return xa(Q,2,"NULL VP8Io parameter in VP8Decode().");if(!Q.cb&&!Es(Q,Ne))return 0;if(e(Q.cb),Ne.ac==null||Ne.ac(Ne)){Ne.ob&&(Q.L=0);var Le=Zo[Q.L];if(Q.L==2?(Q.yb=0,Q.zb=0):(Q.yb=Ne.v-Le>>4,Q.zb=Ne.j-Le>>4,0>Q.yb&&(Q.yb=0),0>Q.zb&&(Q.zb=0)),Q.Va=Ne.o+15+Le>>4,Q.Hb=Ne.va+15+Le>>4,Q.Hb>Q.za&&(Q.Hb=Q.za),Q.Va>Q.Ub&&(Q.Va=Q.Ub),0<Q.L){var qe=Q.ed;for(Le=0;4>Le;++Le){var Te;if(Q.Qa.Cb){var Be=Q.Qa.Lb[Le];Q.Qa.Fb||(Be+=qe.Tb)}else Be=qe.Tb;for(Te=0;1>=Te;++Te){var He=Q.gd[Le][Te],Xe=Be;if(qe.Pc&&(Xe+=qe.vd[0],Te&&(Xe+=qe.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var Ye=Xe;0<qe.wb&&(Ye=4<qe.wb?Ye>>2:Ye>>1)>9-qe.wb&&(Ye=9-qe.wb),1>Ye&&(Ye=1),He.dd=Ye,He.tc=2*Xe+Ye,He.ld=40<=Xe?2:15<=Xe?1:0}else He.tc=0;He.La=Te}}}Le=0}else xa(Q,6,"Frame setup failed"),Le=Q.a;if(Le=Le==0){if(Le){Q.$c=0,0<Q.Aa||(Q.Ic=Yl);t:{Le=Q.Ic,qe=4*(Ye=Q.za);var dt=32*Ye,st=Ye+1,Vt=0<Q.L?Ye*(0<Q.Aa?2:1):0,lt=(Q.Aa==2?2:1)*Ye;if((He=qe+832+(Te=3*(16*Le+Zo[Q.L])/2*dt)+(Be=Q.Fa!=null&&0<Q.Fa.length?Q.Kc.c*Q.Kc.i:0))!=He)Le=0;else{if(He>Q.Vb){if(Q.Vb=0,Q.Ec=c(He),Q.Fc=0,Q.Ec==null){Le=xa(Q,1,"no memory during frame initialization.");break t}Q.Vb=He}He=Q.Ec,Xe=Q.Fc,Q.Ac=He,Q.Bc=Xe,Xe+=qe,Q.Gd=d(dt,jl),Q.Hd=0,Q.rb=d(st+1,cs),Q.sb=1,Q.wa=Vt?d(Vt,Rr):null,Q.Y=0,Q.D.Nb=0,Q.D.wa=Q.wa,Q.D.Y=Q.Y,0<Q.Aa&&(Q.D.Y+=Ye),e(!0),Q.oc=He,Q.pc=Xe,Xe+=832,Q.ya=d(lt,_l),Q.aa=0,Q.D.ya=Q.ya,Q.D.aa=Q.aa,Q.Aa==2&&(Q.D.aa+=Ye),Q.R=16*Ye,Q.B=8*Ye,Ye=(dt=Zo[Q.L])*Q.R,dt=dt/2*Q.B,Q.sa=He,Q.ta=Xe+Ye,Q.qa=Q.sa,Q.ra=Q.ta+16*Le*Q.R+dt,Q.Ha=Q.qa,Q.Ia=Q.ra+8*Le*Q.B+dt,Q.$c=0,Xe+=Te,Q.mb=Be?He:null,Q.nb=Be?Xe:null,e(Xe+Be<=Q.Fc+Q.Vb),Al(Q),l(Q.Ac,Q.Bc,0,qe),Le=1}}if(Le){if(Ne.ka=0,Ne.y=Q.sa,Ne.O=Q.ta,Ne.f=Q.qa,Ne.N=Q.ra,Ne.ea=Q.Ha,Ne.Vd=Q.Ia,Ne.fa=Q.R,Ne.Rc=Q.B,Ne.F=null,Ne.J=0,!Cc){for(Le=-255;255>=Le;++Le)co[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)Ac[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)ql[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)zl[255+Le]=0>Le?0:255<Le?255:Le;Cc=1}Ur=ds,ui=Cl,Vr=hr,va=El,fa=kl,ar=gc,Pa=Nc,hn=ei,Us=D,bs=te,oo=jc,Ul=w,Lu=pe,Id=je,Ud=Ws,Bd=Xs,Tu=ro,Ou=Dl,an[0]=wc,an[1]=bc,an[2]=yc,an[3]=Ol,an[4]=Mr,an[5]=Rl,an[6]=Hn,an[7]=to,an[8]=ao,an[9]=Pr,pr[0]=hs,pr[1]=Ll,pr[2]=Tl,pr[3]=vc,pr[4]=Ks,pr[5]=eo,pr[6]=Li,xs[0]=Io,xs[1]=xc,xs[2]=ks,xs[3]=_c,xs[4]=In,xs[5]=Uo,xs[6]=Ls,Le=1}else Le=0}Le&&(Le=(function(ia,Fa){for(ia.M=0;ia.M<ia.Va;++ia.M){var Zt,it=ia.Jc[ia.M&ia.Xb],nt=ia.m,Wa=ia;for(Zt=0;Zt<Wa.za;++Zt){var Tt=nt,ta=Wa,ja=ta.Ac,Tn=ta.Bc+4*Zt,Wn=ta.zc,Ia=ta.ya[ta.aa+Zt];if(ta.Qa.Bb?Ia.$b=B(Tt,ta.Pa.jb[0])?2+B(Tt,ta.Pa.jb[2]):B(Tt,ta.Pa.jb[1]):Ia.$b=0,ta.kc&&(Ia.Ad=B(Tt,ta.Bd)),Ia.Za=!B(Tt,145)+0,Ia.Za){var vn=Ia.Ob,sr=0;for(ta=0;4>ta;++ta){var yn,sa=Wn[0+ta];for(yn=0;4>yn;++yn){sa=Yn[ja[Tn+yn]][sa];for(var pa=Rc[B(Tt,sa[0])];0<pa;)pa=Rc[2*pa+B(Tt,sa[pa])];sa=-pa,ja[Tn+yn]=sa}s(vn,sr,ja,Tn,4),sr+=4,Wn[0+ta]=sa}}else sa=B(Tt,156)?B(Tt,128)?1:3:B(Tt,163)?2:0,Ia.Ob[0]=sa,l(ja,Tn,sa,4),l(Wn,0,sa,4);Ia.Dd=B(Tt,142)?B(Tt,114)?B(Tt,183)?1:3:2:0}if(Wa.m.Ka)return xa(ia,7,"Premature end-of-partition0 encountered.");for(;ia.ja<ia.za;++ia.ja){if(Wa=it,Tt=(nt=ia).rb[nt.sb-1],ja=nt.rb[nt.sb+nt.ja],Zt=nt.ya[nt.aa+nt.ja],Tn=nt.kc?Zt.Ad:0)Tt.la=ja.la=0,Zt.Za||(Tt.Na=ja.Na=0),Zt.Hc=0,Zt.Gc=0,Zt.ia=0;else{var Xa,ya;if(Tt=ja,ja=Wa,Tn=nt.Pa.Xc,Wn=nt.ya[nt.aa+nt.ja],Ia=nt.pb[Wn.$b],ta=Wn.ad,vn=0,sr=nt.rb[nt.sb-1],sa=yn=0,l(ta,vn,0,384),Wn.Za)var On=0,Za=Tn[3];else{pa=c(16);var ga=Tt.Na+sr.Na;if(ga=qr(ja,Tn[1],ga,Ia.Eb,0,pa,0),Tt.Na=sr.Na=(0<ga)+0,1<ga)Ur(pa,0,ta,vn);else{var mn=pa[0]+3>>3;for(pa=0;256>pa;pa+=16)ta[vn+pa]=mn}On=1,Za=Tn[0]}var Sa=15&Tt.la,wn=15&sr.la;for(pa=0;4>pa;++pa){var _n=1&wn;for(mn=ya=0;4>mn;++mn)Sa=Sa>>1|(_n=(ga=qr(ja,Za,ga=_n+(1&Sa),Ia.Sc,On,ta,vn))>On)<<7,ya=ya<<2|(3<ga?3:1<ga?2:ta[vn+0]!=0),vn+=16;Sa>>=4,wn=wn>>1|_n<<7,yn=(yn<<8|ya)>>>0}for(Za=Sa,On=wn>>4,Xa=0;4>Xa;Xa+=2){for(ya=0,Sa=Tt.la>>4+Xa,wn=sr.la>>4+Xa,pa=0;2>pa;++pa){for(_n=1&wn,mn=0;2>mn;++mn)ga=_n+(1&Sa),Sa=Sa>>1|(_n=0<(ga=qr(ja,Tn[2],ga,Ia.Qc,0,ta,vn)))<<3,ya=ya<<2|(3<ga?3:1<ga?2:ta[vn+0]!=0),vn+=16;Sa>>=2,wn=wn>>1|_n<<5}sa|=ya<<4*Xa,Za|=Sa<<4<<Xa,On|=(240&wn)<<Xa}Tt.la=Za,sr.la=On,Wn.Hc=yn,Wn.Gc=sa,Wn.ia=43690&sa?0:Ia.ia,Tn=!(yn|sa)}if(0<nt.L&&(nt.wa[nt.Y+nt.ja]=nt.gd[Zt.$b][Zt.Za],nt.wa[nt.Y+nt.ja].La|=!Tn),Wa.Ka)return xa(ia,7,"Premature end-of-file encountered.")}if(Al(ia),nt=Fa,Wa=1,Zt=(it=ia).D,Tt=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)t:{if(Zt.M=it.M,Zt.uc=Tt,Ir(it,Zt),Wa=1,Zt=(ya=it.D).Nb,Tt=(sa=Zo[it.L])*it.R,ja=sa/2*it.B,pa=16*Zt*it.R,mn=8*Zt*it.B,Tn=it.sa,Wn=it.ta-Tt+pa,Ia=it.qa,ta=it.ra-ja+mn,vn=it.Ha,sr=it.Ia-ja+mn,wn=(Sa=ya.M)==0,yn=Sa>=it.Va-1,it.Aa==2&&Ir(it,ya),ya.uc)for(_n=(ga=it).D.M,e(ga.D.uc),ya=ga.yb;ya<ga.Hb;++ya){On=ya,Za=_n;var La=(ma=(Nn=ga).D).Nb;Xa=Nn.R;var ma=ma.wa[ma.Y+On],ir=Nn.sa,nn=Nn.ta+16*La*Xa+16*On,jt=ma.dd,Ct=ma.tc;if(Ct!=0)if(e(3<=Ct),Nn.L==1)0<On&&Bd(ir,nn,Xa,Ct+4),ma.La&&Ou(ir,nn,Xa,Ct),0<Za&&Ud(ir,nn,Xa,Ct+4),ma.La&&Tu(ir,nn,Xa,Ct);else{var ba=Nn.B,Sr=Nn.qa,es=Nn.ra+8*La*ba+8*On,gr=Nn.Ha,Nn=Nn.Ia+8*La*ba+8*On;La=ma.ld,0<On&&(hn(ir,nn,Xa,Ct+4,jt,La),bs(Sr,es,gr,Nn,ba,Ct+4,jt,La)),ma.La&&(Ul(ir,nn,Xa,Ct,jt,La),Id(Sr,es,gr,Nn,ba,Ct,jt,La)),0<Za&&(Pa(ir,nn,Xa,Ct+4,jt,La),Us(Sr,es,gr,Nn,ba,Ct+4,jt,La)),ma.La&&(oo(ir,nn,Xa,Ct,jt,La),Lu(Sr,es,gr,Nn,ba,Ct,jt,La))}}if(it.ia&&alert("todo:DitherRow"),nt.put!=null){if(ya=16*Sa,Sa=16*(Sa+1),wn?(nt.y=it.sa,nt.O=it.ta+pa,nt.f=it.qa,nt.N=it.ra+mn,nt.ea=it.Ha,nt.W=it.Ia+mn):(ya-=sa,nt.y=Tn,nt.O=Wn,nt.f=Ia,nt.N=ta,nt.ea=vn,nt.W=sr),yn||(Sa-=sa),Sa>nt.o&&(Sa=nt.o),nt.F=null,nt.J=null,it.Fa!=null&&0<it.Fa.length&&ya<Sa&&(nt.J=Ma(it,nt,ya,Sa-ya),nt.F=it.mb,nt.F==null&&nt.F.length==0)){Wa=xa(it,3,"Could not decode alpha data.");break t}ya<nt.j&&(sa=nt.j-ya,ya=nt.j,e(!(1&sa)),nt.O+=it.R*sa,nt.N+=it.B*(sa>>1),nt.W+=it.B*(sa>>1),nt.F!=null&&(nt.J+=nt.width*sa)),ya<Sa&&(nt.O+=nt.v,nt.N+=nt.v>>1,nt.W+=nt.v>>1,nt.F!=null&&(nt.J+=nt.v),nt.ka=ya-nt.j,nt.U=nt.va-nt.v,nt.T=Sa-ya,Wa=nt.put(nt))}Zt+1!=it.Ic||yn||(s(it.sa,it.ta-Tt,Tn,Wn+16*it.R,Tt),s(it.qa,it.ra-ja,Ia,ta+8*it.B,ja),s(it.Ha,it.Ia-ja,vn,sr+8*it.B,ja))}if(!Wa)return xa(ia,6,"Output aborted.")}return 1})(Q,Ne)),Ne.bc!=null&&Ne.bc(Ne),Le&=1}return Le?(Q.cb=0,Le):0})(m,A)||(b=m.a)}}else b=m.a}b==0&&z.Oa!=null&&z.Oa.fd&&(b=Il(z.ba))}z=b}U=z!=0?null:11>U?Y.f.RGBA.eb:Y.f.kb.y}else U=null;return U};var Ic=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(K,we){for(var P="",$=0;$<4;$++)P+=String.fromCharCode(K[we++]);return P}function v(K,we){return K[we+0]|K[we+1]<<8}function j(K,we){return(K[we+0]|K[we+1]<<8|K[we+2]<<16)>>>0}function _(K,we){return(K[we+0]|K[we+1]<<8|K[we+2]<<16|K[we+3]<<24)>>>0}new f;var y=[0],C=[0],k=[],O=new f,L=n,T=(function(K,we){var P={},$=0,oe=!1,ue=0,Ce=0;if(P.frames=[],!(function(S,I){for(var q=0;q<4;q++)if(S[I+q]!="RIFF".charCodeAt(q))return!0;return!1})(K,we)){for(_(K,we+=4),we+=8;we<K.length;){var re=p(K,we),ge=_(K,we+=4);we+=4;var me=ge+(1&ge);switch(re){case"VP8 ":case"VP8L":P.frames[$]===void 0&&(P.frames[$]={}),(H=P.frames[$]).src_off=oe?Ce:we-8,H.src_size=ue+ge+8,$++,oe&&(oe=!1,ue=0,Ce=0);break;case"VP8X":(H=P.header={}).feature_flags=K[we];var Oe=we+4;H.canvas_width=1+j(K,Oe),Oe+=3,H.canvas_height=1+j(K,Oe),Oe+=3;break;case"ALPH":oe=!0,ue=me+8,Ce=we-8;break;case"ANIM":(H=P.header).bgcolor=_(K,we),Oe=we+4,H.loop_count=v(K,Oe),Oe+=2;break;case"ANMF":var xe,H;(H=P.frames[$]={}).offset_x=2*j(K,we),we+=3,H.offset_y=2*j(K,we),we+=3,H.width=1+j(K,we),we+=3,H.height=1+j(K,we),we+=3,H.duration=j(K,we),we+=3,xe=K[we++],H.dispose=1&xe,H.blend=xe>>1&1}re!="ANMF"&&(we+=me)}return P}})(L,0);T.response=L,T.rgbaoutput=!0,T.dataurl=!1;var R=T.header?T.header:null,F=T.frames?T.frames:null;if(R){R.loop_counter=R.loop_count,y=[R.canvas_height],C=[R.canvas_width];for(var ne=0;ne<F.length&&F[ne].blend!=0;ne++);}var de=F[0],W=O.WebPDecodeRGBA(L,de.src_off,de.src_size,C,y);de.rgba=W,de.imgwidth=C[0],de.imgheight=y[0];for(var se=0;se<C[0]*y[0]*4;se++)k[se]=W[se];return this.width=C,this.height=y,this.data=k,this}(function(n){var e,a,s,l,c,d,h,f,p,v=function(S){return S=S||{},this.isStrokeTransparent=S.isStrokeTransparent||!1,this.strokeOpacity=S.strokeOpacity||1,this.strokeStyle=S.strokeStyle||"#000000",this.fillStyle=S.fillStyle||"#000000",this.isFillTransparent=S.isFillTransparent||!1,this.fillOpacity=S.fillOpacity||1,this.font=S.font||"10px sans-serif",this.textBaseline=S.textBaseline||"alphabetic",this.textAlign=S.textAlign||"left",this.lineWidth=S.lineWidth||1,this.lineJoin=S.lineJoin||"miter",this.lineCap=S.lineCap||"butt",this.path=S.path||[],this.transform=S.transform!==void 0?S.transform.clone():new f,this.globalCompositeOperation=S.globalCompositeOperation||"normal",this.globalAlpha=S.globalAlpha||1,this.clip_path=S.clip_path||[],this.currentPoint=S.currentPoint||new d,this.miterLimit=S.miterLimit||10,this.lastPoint=S.lastPoint||new d,this.lineDashOffset=S.lineDashOffset||0,this.lineDash=S.lineDash||[],this.margin=S.margin||[0,0,0,0],this.prevPageLastElemOffset=S.prevPageLastElemOffset||0,this.ignoreClearRect=typeof S.ignoreClearRect!="boolean"||S.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new j(this),e=this.internal.f2,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getHorizontalCoordinate,c=this.internal.getVerticalCoordinate,d=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,p=new v}]);var j=function(S){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=S;Object.defineProperty(this,"pdf",{get:function(){return I}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(X){q=!!X}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(X){G=!!X}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(X){isNaN(X)||(ie=X)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(X){isNaN(X)||(he=X)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(X){var at;typeof X=="number"?at=[X,X,X,X]:((at=new Array(4))[0]=X[0],at[1]=X.length>=2?X[1]:at[0],at[2]=X.length>=3?X[2]:at[0],at[3]=X.length>=4?X[3]:at[1]),p.margin=at}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(X){ke=X}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(X){ce=X}});var B=[];Object.defineProperty(this,"pageBreaks",{get:function(){return B},set:function(X){B=X}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(X){X instanceof v&&(p=X)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(X){p.path=X}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(X){Ae=X}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(X){var at;at=_(X),this.ctx.fillStyle=at.style,this.ctx.isFillTransparent=at.a===0,this.ctx.fillOpacity=at.a,this.pdf.setFillColor(at.r,at.g,at.b,{a:at.a}),this.pdf.setTextColor(at.r,at.g,at.b,{a:at.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(X){var at=_(X);this.ctx.strokeStyle=at.style,this.ctx.isStrokeTransparent=at.a===0,this.ctx.strokeOpacity=at.a,at.a===0?this.pdf.setDrawColor(255,255,255):(at.a,this.pdf.setDrawColor(at.r,at.g,at.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(X){["butt","round","square"].indexOf(X)!==-1&&(this.ctx.lineCap=X,this.pdf.setLineCap(X))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(X){isNaN(X)||(this.ctx.lineWidth=X,this.pdf.setLineWidth(X))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(X){["bevel","round","miter"].indexOf(X)!==-1&&(this.ctx.lineJoin=X,this.pdf.setLineJoin(X))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(X){isNaN(X)||(this.ctx.miterLimit=X,this.pdf.setMiterLimit(X))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(X){this.ctx.textBaseline=X}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(X){["right","end","center","left","start"].indexOf(X)!==-1&&(this.ctx.textAlign=X)}});var Ze=null,tt=null,ot=null;Object.defineProperty(this,"fontFaces",{get:function(){return ot},set:function(X){Ze=null,tt=null,ot=X}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(X){var at;if(this.ctx.font=X,(at=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(X))!==null){var qt=at[1];at[2];var bt=at[3],Z=at[4];at[5];var ye=at[6],Ee=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Z)[2];Z=Math.floor(Ee==="px"?parseFloat(Z)*this.pdf.internal.scaleFactor:Ee==="em"?parseFloat(Z)*this.pdf.getFontSize():parseFloat(Z)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Z);var We=(function(mt){var Ga,Jt,At=[],Mt=mt.trim();if(Mt==="")return g0;if(Mt in jb)return[jb[Mt]];for(;Mt!=="";){switch(Jt=null,Ga=(Mt=Ab(Mt)).charAt(0)){case'"':case"'":Jt=$S(Mt.substring(1),Ga);break;default:Jt=VS(Mt)}if(Jt===null||(At.push(Jt[0]),(Mt=Ab(Jt[1]))!==""&&Mt.charAt(0)!==","))return g0;Mt=Mt.replace(/^,/,"")}return At})(ye);if(this.fontFaces){var et=(function(mt,Ga){var Jt=mt.getFontList(),At=JSON.stringify(Jt);if(Ze===null||tt!==At){var Mt=(function(Wt){var _t=[];return Object.keys(Wt).forEach(function(Ca){Wt[Ca].forEach(function(Nt){var Pt=null;switch(Nt){case"bold":Pt={family:Ca,weight:"bold"};break;case"italic":Pt={family:Ca,style:"italic"};break;case"bolditalic":Pt={family:Ca,weight:"bold",style:"italic"};break;case"":case"normal":Pt={family:Ca}}Pt!==null&&(Pt.ref={name:Ca,style:Nt},_t.push(Pt))})}),_t})(Jt);Ze=(function(Wt){for(var _t={},Ca=0;Ca<Wt.length;++Ca){var Nt=p0(Wt[Ca]),Pt=Nt.family,Na=Nt.stretch,zt=Nt.style,Ke=Nt.weight;_t[Pt]=_t[Pt]||{},_t[Pt][Na]=_t[Pt][Na]||{},_t[Pt][Na][zt]=_t[Pt][Na][zt]||{},_t[Pt][Na][zt][Ke]=Nt}return _t})(Mt.concat(Ga)),tt=At}return Ze})(this.pdf,this.fontFaces),St=We.map(function(mt){return{family:mt,stretch:"normal",weight:bt,style:qt}}),Kt=(function(mt,Ga,Jt){for(var At=(Jt=Jt||{}).defaultFontFamily||"times",Mt=Object.assign({},HS,Jt.genericFontFamilies||{}),Wt=null,_t=null,Ca=0;Ca<Ga.length;++Ca)if(Mt[(Wt=p0(Ga[Ca])).family]&&(Wt.family=Mt[Wt.family]),mt.hasOwnProperty(Wt.family)){_t=mt[Wt.family];break}if(!(_t=_t||mt[At]))throw new Error("Could not find a font-family for the rule '"+Sb(Wt)+"' and default family '"+At+"'.");if(_t=(function(Nt,Pt){if(Pt[Nt])return Pt[Nt];var Na=G0[Nt],zt=Na<=G0.normal?-1:1,Ke=Nb(Pt,yv,Na,zt);if(!Ke)throw new Error("Could not find a matching font-stretch value for "+Nt);return Ke})(Wt.stretch,_t),_t=(function(Nt,Pt){if(Pt[Nt])return Pt[Nt];for(var Na=vv[Nt],zt=0;zt<Na.length;++zt)if(Pt[Na[zt]])return Pt[Na[zt]];throw new Error("Could not find a matching font-style for "+Nt)})(Wt.style,_t),!(_t=(function(Nt,Pt){if(Pt[Nt])return Pt[Nt];if(Nt===400&&Pt[500])return Pt[500];if(Nt===500&&Pt[400])return Pt[400];var Na=FS[Nt],zt=Nb(Pt,wv,Na,Nt<400?-1:1);if(!zt)throw new Error("Could not find a matching font-weight for value "+Nt);return zt})(Wt.weight,_t)))throw new Error("Failed to resolve a font for the rule '"+Sb(Wt)+"'.");return _t})(et,St);this.pdf.setFont(Kt.ref.name,Kt.ref.style)}else{var Ot="";(bt==="bold"||parseInt(bt,10)>=700||qt==="bold")&&(Ot="bold"),qt==="italic"&&(Ot+="italic"),Ot.length===0&&(Ot="normal");for(var $t="",Yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ft=0;ft<We.length;ft++){if(this.pdf.internal.getFont(We[ft],Ot,{noFallback:!0,disableWarning:!0})!==void 0){$t=We[ft];break}if(Ot==="bolditalic"&&this.pdf.internal.getFont(We[ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$t=We[ft],Ot="bold";else if(this.pdf.internal.getFont(We[ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$t=We[ft],Ot="normal";break}}if($t===""){for(var Dt=0;Dt<We.length;Dt++)if(Yt[We[Dt]]){$t=Yt[We[Dt]];break}}$t=$t===""?"Times":$t,this.pdf.setFont($t,Ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(X){this.ctx.globalCompositeOperation=X}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(X){this.ctx.globalAlpha=X}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(X){this.ctx.lineDashOffset=X,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(X){this.ctx.lineDash=X,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(X){this.ctx.ignoreClearRect=!!X}})};j.prototype.setLineDash=function(S){this.lineDash=S},j.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},j.prototype.fill=function(){F.call(this,"fill",!1)},j.prototype.stroke=function(){F.call(this,"stroke",!1)},j.prototype.beginPath=function(){this.path=[{type:"begin"}]},j.prototype.moveTo=function(S,I){if(isNaN(S)||isNaN(I))throw $a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new d(S,I));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new d(S,I)},j.prototype.closePath=function(){var S=new d(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&Da(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){S=new d(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(S.x,S.y)},j.prototype.lineTo=function(S,I){if(isNaN(S)||isNaN(I))throw $a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new d(S,I));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new d(q.x,q.y)},j.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},j.prototype.quadraticCurveTo=function(S,I,q,G){if(isNaN(q)||isNaN(G)||isNaN(S)||isNaN(I))throw $a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new d(q,G)),he=this.ctx.transform.applyToPoint(new d(S,I));this.path.push({type:"qct",x1:he.x,y1:he.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new d(ie.x,ie.y)},j.prototype.bezierCurveTo=function(S,I,q,G,ie,he){if(isNaN(ie)||isNaN(he)||isNaN(S)||isNaN(I)||isNaN(q)||isNaN(G))throw $a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new d(ie,he)),ce=this.ctx.transform.applyToPoint(new d(S,I)),B=this.ctx.transform.applyToPoint(new d(q,G));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:B.x,y2:B.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new d(ke.x,ke.y)},j.prototype.arc=function(S,I,q,G,ie,he){if(isNaN(S)||isNaN(I)||isNaN(q)||isNaN(G)||isNaN(ie))throw $a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new d(S,I));S=ke.x,I=ke.y;var ce=this.ctx.transform.applyToPoint(new d(0,q)),B=this.ctx.transform.applyToPoint(new d(0,0));q=Math.sqrt(Math.pow(ce.x-B.x,2)+Math.pow(ce.y-B.y,2))}Math.abs(ie-G)>=2*Math.PI&&(G=0,ie=2*Math.PI),this.path.push({type:"arc",x:S,y:I,radius:q,startAngle:G,endAngle:ie,counterclockwise:he})},j.prototype.arcTo=function(S,I,q,G,ie){throw new Error("arcTo not implemented.")},j.prototype.rect=function(S,I,q,G){if(isNaN(S)||isNaN(I)||isNaN(q)||isNaN(G))throw $a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(S,I),this.lineTo(S+q,I),this.lineTo(S+q,I+G),this.lineTo(S,I+G),this.lineTo(S,I),this.lineTo(S+q,I),this.lineTo(S,I)},j.prototype.fillRect=function(S,I,q,G){if(isNaN(S)||isNaN(I)||isNaN(q)||isNaN(G))throw $a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(S,I,q,G),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},j.prototype.strokeRect=function(S,I,q,G){if(isNaN(S)||isNaN(I)||isNaN(q)||isNaN(G))throw $a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(S,I,q,G),this.stroke())},j.prototype.clearRect=function(S,I,q,G){if(isNaN(S)||isNaN(I)||isNaN(q)||isNaN(G))throw $a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(S,I,q,G))},j.prototype.save=function(S){S=typeof S!="boolean"||S;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),S){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},j.prototype.restore=function(S){S=typeof S!="boolean"||S;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(I),S&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},j.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(S){var I,q,G,ie;if(S.isCanvasGradient===!0&&(S=S.getColor()),!S)return{r:0,g:0,b:0,a:0,style:S};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(S))I=0,q=0,G=0,ie=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(S);if(he!==null)I=parseInt(he[1]),q=parseInt(he[2]),G=parseInt(he[3]),ie=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(S))!==null)I=parseInt(he[1]),q=parseInt(he[2]),G=parseInt(he[3]),ie=parseFloat(he[4]);else{if(ie=1,typeof S=="string"&&S.charAt(0)!=="#"){var ke=new hv(S);S=ke.ok?ke.toHex():"#000000"}S.length===4?(I=S.substring(1,2),I+=I,q=S.substring(2,3),q+=q,G=S.substring(3,4),G+=G):(I=S.substring(1,3),q=S.substring(3,5),G=S.substring(5,7)),I=parseInt(I,16),q=parseInt(q,16),G=parseInt(G,16)}}return{r:I,g:q,b:G,a:ie,style:S}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};j.prototype.fillText=function(S,I,q,G){if(isNaN(I)||isNaN(q)||typeof S!="string")throw $a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!y.call(this)){var ie=me(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;$.call(this,{text:S,x:I,y:q,scale:he,angle:ie,align:this.textAlign,maxWidth:G})}},j.prototype.strokeText=function(S,I,q,G){if(isNaN(I)||isNaN(q)||typeof S!="string")throw $a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){G=isNaN(G)?void 0:G;var ie=me(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;$.call(this,{text:S,x:I,y:q,scale:he,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:G})}},j.prototype.measureText=function(S){if(typeof S!="string")throw $a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,q=this.pdf.internal.scaleFactor,G=I.internal.getFontSize(),ie=I.getStringUnitWidth(S)*G/I.internal.scaleFactor;return new function(he){var ke=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:ie*=Math.round(96*q/72*1e4)/1e4})},j.prototype.scale=function(S,I){if(isNaN(S)||isNaN(I))throw $a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new f(S,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},j.prototype.rotate=function(S){if(isNaN(S))throw $a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new f(Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},j.prototype.translate=function(S,I){if(isNaN(S)||isNaN(I))throw $a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new f(1,0,0,1,S,I);this.ctx.transform=this.ctx.transform.multiply(q)},j.prototype.transform=function(S,I,q,G,ie,he){if(isNaN(S)||isNaN(I)||isNaN(q)||isNaN(G)||isNaN(ie)||isNaN(he))throw $a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new f(S,I,q,G,ie,he);this.ctx.transform=this.ctx.transform.multiply(ke)},j.prototype.setTransform=function(S,I,q,G,ie,he){S=isNaN(S)?1:S,I=isNaN(I)?0:I,q=isNaN(q)?0:q,G=isNaN(G)?1:G,ie=isNaN(ie)?0:ie,he=isNaN(he)?0:he,this.ctx.transform=new f(S,I,q,G,ie,he)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};j.prototype.drawImage=function(S,I,q,G,ie,he,ke,ce,B){var Ae=this.pdf.getImageProperties(S),Ze=1,tt=1,ot=1,X=1;G!==void 0&&ce!==void 0&&(ot=ce/G,X=B/ie,Ze=Ae.width/G*ce/G,tt=Ae.height/ie*B/ie),he===void 0&&(he=I,ke=q,I=0,q=0),G!==void 0&&ce===void 0&&(ce=G,B=ie),G===void 0&&ce===void 0&&(ce=Ae.width,B=Ae.height);var at=this.ctx.transform.decompose(),qt=me(at.rotate.shx),bt=new f,Z=(bt=(bt=(bt=bt.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new h(he-I*ot,ke-q*X,G*Ze,ie*tt));if(this.autoPaging){for(var ye,Ee=O.call(this,Z),We=[],et=0;et<Ee.length;et+=1)We.indexOf(Ee[et])===-1&&We.push(Ee[et]);R(We);for(var St=We[0],Kt=We[We.length-1],Ot=St;Ot<Kt+1;Ot++){this.pdf.setPage(Ot);var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Yt=Ot===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=Ot===1?0:ft+(Ot-2)*Dt;if(this.ctx.clip_path.length!==0){var Ga=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(ye,this.posX+this.margin[3],-mt+Yt+this.ctx.prevPageLastElemOffset),ne.call(this,"fill",!0),this.path=Ga}var Jt=JSON.parse(JSON.stringify(Z));Jt=T([Jt],this.posX+this.margin[3],-mt+Yt+this.ctx.prevPageLastElemOffset)[0];var At=(Ot>St||Ot<Kt)&&k.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,Dt,null).clip().discardPath()),this.pdf.addImage(S,"JPEG",Jt.x,Jt.y,Jt.w,Jt.h,null,null,qt),At&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(S,"JPEG",Z.x,Z.y,Z.w,Z.h,null,null,qt)};var O=function(S,I,q){var G=[];I=I||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(S.type){default:case"mt":case"lt":G.push(Math.floor((S.y+ie)/q)+1);break;case"arc":G.push(Math.floor((S.y+ie-S.radius)/q)+1),G.push(Math.floor((S.y+ie+S.radius)/q)+1);break;case"qct":var he=Oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x,S.y);G.push(Math.floor((he.y+ie)/q)+1),G.push(Math.floor((he.y+he.h+ie)/q)+1);break;case"bct":var ke=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x2,S.y2,S.x,S.y);G.push(Math.floor((ke.y+ie)/q)+1),G.push(Math.floor((ke.y+ke.h+ie)/q)+1);break;case"rect":G.push(Math.floor((S.y+ie)/q)+1),G.push(Math.floor((S.y+S.h+ie)/q)+1)}for(var ce=0;ce<G.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<G[ce];)L.call(this);return G},L=function(){var S=this.fillStyle,I=this.strokeStyle,q=this.font,G=this.lineCap,ie=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=S,this.strokeStyle=I,this.font=q,this.lineCap=G,this.lineWidth=ie,this.lineJoin=he},T=function(S,I,q){for(var G=0;G<S.length;G++)switch(S[G].type){case"bct":S[G].x2+=I,S[G].y2+=q;case"qct":S[G].x1+=I,S[G].y1+=q;default:S[G].x+=I,S[G].y+=q}return S},R=function(S){return S.sort(function(I,q){return I-q})},F=function(S,I){var q=this.fillStyle,G=this.strokeStyle,ie=this.lineCap,he=this.lineWidth,ke=Math.abs(he*this.ctx.transform.scaleX),ce=this.lineJoin;if(this.autoPaging){for(var B,Ae,Ze=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),ot=[],X=0;X<tt.length;X++)if(tt[X].x!==void 0)for(var at=O.call(this,tt[X]),qt=0;qt<at.length;qt+=1)ot.indexOf(at[qt])===-1&&ot.push(at[qt]);for(var bt=0;bt<ot.length;bt++)for(;this.pdf.internal.getNumberOfPages()<ot[bt];)L.call(this);R(ot);for(var Z=ot[0],ye=ot[ot.length-1],Ee=Z;Ee<ye+1;Ee++){this.pdf.setPage(Ee),this.fillStyle=q,this.strokeStyle=G,this.lineCap=ie,this.lineWidth=ke,this.lineJoin=ce;var We=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=Ee===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ot=Ee===1?0:St+(Ee-2)*Kt;if(this.ctx.clip_path.length!==0){var $t=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(B,this.posX+this.margin[3],-Ot+et+this.ctx.prevPageLastElemOffset),ne.call(this,S,!0),this.path=$t}if(Ae=JSON.parse(JSON.stringify(Ze)),this.path=T(Ae,this.posX+this.margin[3],-Ot+et+this.ctx.prevPageLastElemOffset),I===!1||Ee===0){var Yt=(Ee>Z||Ee<ye)&&k.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,Kt,null).clip().discardPath()),ne.call(this,S,I),Yt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}this.path=Ze}else this.lineWidth=ke,ne.call(this,S,I),this.lineWidth=he},ne=function(S,I){if((S!=="stroke"||I||!C.call(this))&&(S==="stroke"||I||!y.call(this))){for(var q,G,ie=[],he=this.path,ke=0;ke<he.length;ke++){var ce=he[ke];switch(ce.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:ce,deltas:[],abs:[]});break;case"lt":var B=ie.length;if(he[ke-1]&&!isNaN(he[ke-1].x)&&(q=[ce.x-he[ke-1].x,ce.y-he[ke-1].y],B>0)){for(;B>=0;B--)if(ie[B-1].close!==!0&&ie[B-1].begin!==!0){ie[B-1].deltas.push(q),ie[B-1].abs.push(ce);break}}break;case"bct":q=[ce.x1-he[ke-1].x,ce.y1-he[ke-1].y,ce.x2-he[ke-1].x,ce.y2-he[ke-1].y,ce.x-he[ke-1].x,ce.y-he[ke-1].y],ie[ie.length-1].deltas.push(q);break;case"qct":var Ae=he[ke-1].x+2/3*(ce.x1-he[ke-1].x),Ze=he[ke-1].y+2/3*(ce.y1-he[ke-1].y),tt=ce.x+2/3*(ce.x1-ce.x),ot=ce.y+2/3*(ce.y1-ce.y),X=ce.x,at=ce.y;q=[Ae-he[ke-1].x,Ze-he[ke-1].y,tt-he[ke-1].x,ot-he[ke-1].y,X-he[ke-1].x,at-he[ke-1].y],ie[ie.length-1].deltas.push(q);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(ce)}}G=I?null:S==="stroke"?"stroke":"fill";for(var qt=!1,bt=0;bt<ie.length;bt++)if(ie[bt].arc)for(var Z=ie[bt].abs,ye=0;ye<Z.length;ye++){var Ee=Z[ye];Ee.type==="arc"?se.call(this,Ee.x,Ee.y,Ee.radius,Ee.startAngle,Ee.endAngle,Ee.counterclockwise,void 0,I,!qt):oe.call(this,Ee.x,Ee.y),qt=!0}else if(ie[bt].close===!0)this.pdf.internal.out("h"),qt=!1;else if(ie[bt].begin!==!0){var We=ie[bt].start.x,et=ie[bt].start.y;ue.call(this,ie[bt].deltas,We,et),qt=!0}G&&K.call(this,G),I&&we.call(this)}},de=function(S){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return S-q;case"top":return S+I-q;case"hanging":return S+I-2*q;case"middle":return S+I/2-q;default:return S}},W=function(S){return S+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};j.prototype.createLinearGradient=function(){var S=function(){};return S.colorStops=[],S.addColorStop=function(I,q){this.colorStops.push([I,q])},S.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},S.isCanvasGradient=!0,S},j.prototype.createPattern=function(){return this.createLinearGradient()},j.prototype.createRadialGradient=function(){return this.createLinearGradient()};var se=function(S,I,q,G,ie,he,ke,ce,B){for(var Ae=re.call(this,q,G,ie,he),Ze=0;Ze<Ae.length;Ze++){var tt=Ae[Ze];Ze===0&&(B?P.call(this,tt.x1+S,tt.y1+I):oe.call(this,tt.x1+S,tt.y1+I)),Ce.call(this,S,I,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}ce?we.call(this):K.call(this,ke)},K=function(S){switch(S){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},we=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(S,I){this.pdf.internal.out(a(S)+" "+s(I)+" m")},$=function(S){var I;switch(S.align){case"right":case"end":I="right";break;case"center":I="center";break;default:I="left"}var q,G,ie,he=this.pdf.getTextDimensions(S.text),ke=de.call(this,S.y),ce=W.call(this,ke)-he.h,B=this.ctx.transform.applyToPoint(new d(S.x,ke));if(this.autoPaging){var Ae=this.ctx.transform.decompose(),Ze=new f;Ze=(Ze=(Ze=Ze.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var tt=this.ctx.transform.applyToRectangle(new h(S.x,ke,he.w,he.h)),ot=Ze.applyToRectangle(new h(S.x,ce,he.w,he.h)),X=O.call(this,ot),at=[],qt=0;qt<X.length;qt+=1)at.indexOf(X[qt])===-1&&at.push(X[qt]);R(at);for(var bt=at[0],Z=at[at.length-1],ye=bt;ye<Z+1;ye++){this.pdf.setPage(ye);var Ee=ye===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],St=et-this.margin[0],Kt=this.pdf.internal.pageSize.width-this.margin[1],Ot=Kt-this.margin[3],$t=ye===1?0:We+(ye-2)*St;if(this.ctx.clip_path.length!==0){var Yt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(q,this.posX+this.margin[3],-1*$t+Ee),ne.call(this,"fill",!0),this.path=Yt}var ft=T([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-$t+Ee+this.ctx.prevPageLastElemOffset)[0];S.scale>=.01&&(G=this.pdf.internal.getFontSize(),this.pdf.setFontSize(G*S.scale),ie=this.lineWidth,this.lineWidth=ie*S.scale);var Dt=this.autoPaging!=="text";if(Dt||ft.y+ft.h<=et){if(Dt||ft.y>=Ee&&ft.x<=Kt){var mt=Dt?S.text:this.pdf.splitTextToSize(S.text,S.maxWidth||Kt-ft.x)[0],Ga=T([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-$t+Ee+this.ctx.prevPageLastElemOffset)[0],Jt=Dt&&(ye>bt||ye<Z)&&k.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,St,null).clip().discardPath()),this.pdf.text(mt,Ga.x,Ga.y,{angle:S.angle,align:I,renderingMode:S.renderingMode}),Jt&&this.pdf.restoreGraphicsState()}}else ft.y<et&&(this.ctx.prevPageLastElemOffset+=et-ft.y);S.scale>=.01&&(this.pdf.setFontSize(G),this.lineWidth=ie)}}else S.scale>=.01&&(G=this.pdf.internal.getFontSize(),this.pdf.setFontSize(G*S.scale),ie=this.lineWidth,this.lineWidth=ie*S.scale),this.pdf.text(S.text,B.x+this.posX,B.y+this.posY,{angle:S.angle,align:I,renderingMode:S.renderingMode,maxWidth:S.maxWidth}),S.scale>=.01&&(this.pdf.setFontSize(G),this.lineWidth=ie)},oe=function(S,I,q,G){q=q||0,G=G||0,this.pdf.internal.out(a(S+q)+" "+s(I+G)+" l")},ue=function(S,I,q){return this.pdf.lines(S,I,q,null,null)},Ce=function(S,I,q,G,ie,he,ke,ce){this.pdf.internal.out([e(l(q+S)),e(c(G+I)),e(l(ie+S)),e(c(he+I)),e(l(ke+S)),e(c(ce+I)),"c"].join(" "))},re=function(S,I,q,G){for(var ie=2*Math.PI,he=Math.PI/2;I>q;)I-=ie;var ke=Math.abs(q-I);ke<ie&&G&&(ke=ie-ke);for(var ce=[],B=G?-1:1,Ae=I;ke>1e-5;){var Ze=Ae+B*Math.min(ke,he);ce.push(ge.call(this,S,Ae,Ze)),ke-=Math.abs(Ze-Ae),Ae=Ze}return ce},ge=function(S,I,q){var G=(q-I)/2,ie=S*Math.cos(G),he=S*Math.sin(G),ke=ie,ce=-he,B=ke*ke+ce*ce,Ae=B+ke*ie+ce*he,Ze=4/3*(Math.sqrt(2*B*Ae)-Ae)/(ke*he-ce*ie),tt=ke-Ze*ce,ot=ce+Ze*ke,X=tt,at=-ot,qt=G+I,bt=Math.cos(qt),Z=Math.sin(qt);return{x1:S*Math.cos(I),y1:S*Math.sin(I),x2:tt*bt-ot*Z,y2:tt*Z+ot*bt,x3:X*bt-at*Z,y3:X*Z+at*bt,x4:S*Math.cos(q),y4:S*Math.sin(q)}},me=function(S){return 180*S/Math.PI},Oe=function(S,I,q,G,ie,he){var ke=S+.5*(q-S),ce=I+.5*(G-I),B=ie+.5*(q-ie),Ae=he+.5*(G-he),Ze=Math.min(S,ie,ke,B),tt=Math.max(S,ie,ke,B),ot=Math.min(I,he,ce,Ae),X=Math.max(I,he,ce,Ae);return new h(Ze,ot,tt-Ze,X-ot)},xe=function(S,I,q,G,ie,he,ke,ce){var B,Ae,Ze,tt,ot,X,at,qt,bt,Z,ye,Ee,We,et,St=q-S,Kt=G-I,Ot=ie-q,$t=he-G,Yt=ke-ie,ft=ce-he;for(Ae=0;Ae<41;Ae++)bt=(at=(Ze=S+(B=Ae/40)*St)+B*((ot=q+B*Ot)-Ze))+B*(ot+B*(ie+B*Yt-ot)-at),Z=(qt=(tt=I+B*Kt)+B*((X=G+B*$t)-tt))+B*(X+B*(he+B*ft-X)-qt),Ae==0?(ye=bt,Ee=Z,We=bt,et=Z):(ye=Math.min(ye,bt),Ee=Math.min(Ee,Z),We=Math.max(We,bt),et=Math.max(et,Z));return new h(Math.round(ye),Math.round(Ee),Math.round(We-ye),Math.round(et-Ee))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var S,I,q=(S=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:S,lineDashOffset:I}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(wt.API),(function(n){var e=function(d){var h,f,p,v,j,_,y,C,k,O;for(f=[],p=0,v=(d+=h="\0\0\0\0".slice(d.length%4||4)).length;v>p;p+=4)(j=(d.charCodeAt(p)<<24)+(d.charCodeAt(p+1)<<16)+(d.charCodeAt(p+2)<<8)+d.charCodeAt(p+3))!==0?(_=(j=((j=((j=((j=(j-(O=j%85))/85)-(k=j%85))/85)-(C=j%85))/85)-(y=j%85))/85)%85,f.push(_+33,y+33,C+33,k+33,O+33)):f.push(122);return(function(L,T){for(var R=T;R>0;R--)L.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},a=function(d){var h,f,p,v,j,_=String,y="length",C=255,k="charCodeAt",O="slice",L="replace";for(d[O](-2),d=d[O](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),p=[],v=0,j=(d+=h="uuuuu"[O](d[y]%5||5))[y];j>v;v+=5)f=52200625*(d[k](v)-33)+614125*(d[k](v+1)-33)+7225*(d[k](v+2)-33)+85*(d[k](v+3)-33)+(d[k](v+4)-33),p.push(C&f>>24,C&f>>16,C&f>>8,C&f);return(function(T,R){for(var F=R;F>0;F--)T.pop()})(p,h[y]),_.fromCharCode.apply(_,p)},s=function(d){return d.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},l=function(d){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((d=d.replace(/\s/g,"")).indexOf(">")!==-1&&(d=d.substr(0,d.indexOf(">"))),d.length%2&&(d+="0"),h.test(d)===!1)return"";for(var f="",p=0;p<d.length;p+=2)f+=String.fromCharCode("0x"+(d[p]+d[p+1]));return f},c=function(d){for(var h=new Uint8Array(d.length),f=d.length;f--;)h[f]=d.charCodeAt(f);return(h=B0(h)).reduce(function(p,v){return p+String.fromCharCode(v)},"")};n.processDataByFilters=function(d,h){var f=0,p=d||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":p=a(p),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=e(p),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=l(p),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=s(p),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=c(p),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:p,reverseChain:v.reverse().join(" ")}}})(wt.API),(function(n){n.loadFile=function(e,a,s){return(function(l,c,d){c=c!==!1,d=typeof d=="function"?d:function(){};var h=void 0;try{h=(function(f,p,v){var j=new XMLHttpRequest,_=0,y=function(C){var k=C.length,O=[],L=String.fromCharCode;for(_=0;_<k;_+=1)O.push(L(255&C.charCodeAt(_)));return O.join("")};if(j.open("GET",f,!p),j.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(j.onload=function(){j.status===200?v(y(this.responseText)):v(void 0)}),j.send(null),p&&j.status===200)return y(j.responseText)})(l,c,d)}catch{}return h})(e,a,s)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(wt.API),(function(n){function e(){return(Gt.html2canvas?Promise.resolve(Gt.html2canvas):Xm(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function a(){return(Gt.DOMPurify?Promise.resolve(Gt.DOMPurify):Xm(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var s=function(h){var f=Da(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},l=function(h,f){var p=document.createElement(h);for(var v in f.className&&(p.className=f.className),f.innerHTML&&f.dompurify&&(p.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)p.style[v]=f.style[v];return p},c=function h(f,p){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),j=f.firstChild;j;j=j.nextSibling)p!==!0&&j.nodeType===1&&j.nodeName==="SCRIPT"||v.appendChild(h(j,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v},d=function h(f){var p=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),p);return(v=v.setProgress(1,h,1,[h])).set(f)};(d.prototype=Object.create(Promise.prototype)).constructor=d,d.convert=function(h,f){return h.__proto__=f||d.prototype,h},d.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},d.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(p){switch(s(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(a).then(function(p){return this.set({src:l("div",{innerHTML:h,dompurify:p})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},d.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},d.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=c(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=l("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=l("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(l("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},d.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,f(this.prop.container,p)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},d.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var p=this.opt.jsPDF,v=this.opt.fontFaces,j=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:j,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=v,v)for(var y=0;y<v.length;++y){var C=v[y],k=C.src.find(function(O){return O.format==="truetype"});k&&p.addFont(k.url,C.ref.name,C.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,p.context2d.save(!0),f(this.prop.container,_)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},d.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},d.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},d.prototype.output=function(h,f,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},d.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},d.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},d.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},d.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},d.prototype.set=function(h){if(s(h)!=="object")return this;var f=Object.keys(h||{}).map(function(p){if(p in d.template.prop)return function(){this.prop[p]=h[p]};switch(p){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[p]=h[p]}}},this);return this.then(function(){return this.thenList(f)})},d.prototype.get=function(h,f){return this.then(function(){var p=h in d.template.prop?this.prop[h]:this.opt[h];return f?f(p):p})},d.prototype.setMargin=function(h){return this.then(function(){switch(s(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},d.prototype.setPageSize=function(h){function f(p,v){return Math.floor(p*v/72*96)}return this.then(function(){(h=h||wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},d.prototype.setProgress=function(h,f,p,v){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),p!=null&&(this.progress.n=p),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},d.prototype.updateProgress=function(h,f,p,v){return this.setProgress(h?this.progress.val+h:null,f||null,p?this.progress.n+p:null,v?this.progress.stack.concat(v):null)},d.prototype.then=function(h,f){var p=this;return this.thenCore(h,f,function(v,j){return p.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(_){return p.updateProgress(null,v),_}).then(v,j).then(function(_){return p.updateProgress(1),_})})},d.prototype.thenCore=function(h,f,p){p=p||Promise.prototype.then;var v=this;h&&(h=h.bind(v)),f&&(f=f.bind(v));var j=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:d.convert(Object.assign({},v),Promise.prototype),_=p.call(j,h,f);return d.convert(_,v.__proto__)},d.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},d.prototype.thenList=function(h){var f=this;return h.forEach(function(p){f=f.thenCore(p)}),f},d.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return d.convert(f,this)},d.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},d.prototype.error=function(h){return this.then(function(){throw new Error(h)})},d.prototype.using=d.prototype.set,d.prototype.saveAs=d.prototype.save,d.prototype.export=d.prototype.output,d.prototype.run=d.prototype.then,wt.getPageSize=function(h,f,p){if(Da(h)==="object"){var v=h;h=v.orientation,f=v.unit||f,p=v.format||p}f=f||"mm",p=p||"a4",h=(""+(h||"P")).toLowerCase();var j,_=(""+p).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":j=1;break;case"mm":j=72/25.4;break;case"cm":j=72/2.54;break;case"in":j=72;break;case"px":j=.75;break;case"pc":case"em":j=12;break;case"ex":j=6;break;default:throw"Invalid unit: "+f}var C,k=0,O=0;if(y.hasOwnProperty(_))k=y[_][1]/j,O=y[_][0]/j;else try{k=p[1],O=p[0]}catch{throw new Error("Invalid format: "+p)}if(h==="p"||h==="portrait")h="p",O>k&&(C=O,O=k,k=C);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",k>O&&(C=O,O=k,k=C)}return{width:O,height:k,unit:f,k:j,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(p0):null;var p=new d(f);return f.worker?p:p.from(h).doCallback()}})(wt.API),wt.API.addJS=function(n){return Eb=n,this.internal.events.subscribe("postPutResources",function(){Fh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Fh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Cb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Eb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Fh!==void 0&&Cb!==void 0&&this.internal.out("/Names <</JavaScript "+Fh+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var a=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var l=a.outline.render().split(/\r\n/),c=0;c<l.length;c++){var d=l[c],h=s.exec(d);if(h!=null){var f=h[1];a.internal.newObjectDeferredBegin(f,!1)}a.internal.write(d)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,v=[];for(c=0;c<p;c++){var j=a.internal.newObject();v.push(j);var _=a.internal.getPageInfo(c+1);a.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var y=a.internal.newObject();for(a.internal.write("<< /Names [ "),c=0;c<v.length;c++)a.internal.write("(page_"+(c+1)+")"+v[c]+" 0 R");a.internal.write(" ] >>","endobj"),e=a.internal.newObject(),a.internal.write("<< /Dests "+y+" 0 R"),a.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var a=this;a.outline.root.children.length>0&&(a.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&a.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(s,l,c){var d={title:l,options:c,children:[]};return s==null&&(s=this.root),s.children.push(d),d},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(s){s.id=a.internal.newObjectDeferred();for(var l=0;l<s.children.length;l++)this.genIds_r(s.children[l])},a.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},a.outline.renderItems=function(s){for(var l=this.ctx.pdf.internal.getVerticalCoordinateString,c=0;c<s.children.length;c++){var d=s.children[c];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(s)),c>0&&this.line("/Prev "+this.makeRef(s.children[c-1])),c<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[c+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var h=this.count=this.count_r({count:0},d);if(h>0&&this.line("/Count "+h),d.options&&d.options.pageNumber){var f=a.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+l(0)+" 0]")}this.objEnd()}for(var p=0;p<s.children.length;p++)this.renderItems(s.children[p])},a.outline.line=function(s){this.ctx.val+=s+`\r
`},a.outline.makeRef=function(s){return s.id+" 0 R"},a.outline.makeString=function(s){return"("+a.internal.pdfEscape(s)+")"},a.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},a.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},a.outline.count_r=function(s,l){for(var c=0;c<l.children.length;c++)s.count++,this.count_r(s,l.children[c]);return s.count}}])})(wt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(a,s,l,c,d,h){var f,p=this.decode.DCT_DECODE,v=null;if(typeof a=="string"||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=d||a,a=this.__addimage__.isArrayBuffer(a)?new Uint8Array(a):a,f=(function(j){for(var _,y=256*j.charCodeAt(4)+j.charCodeAt(5),C=j.length,k={width:0,height:0,numcomponents:1},O=4;O<C;O+=2){if(O+=y,e.indexOf(j.charCodeAt(O+1))!==-1){_=256*j.charCodeAt(O+5)+j.charCodeAt(O+6),k={width:256*j.charCodeAt(O+7)+j.charCodeAt(O+8),height:_,numcomponents:j.charCodeAt(O+9)};break}y=256*j.charCodeAt(O+2)+j.charCodeAt(O+3)}return k})(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}v={data:a,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:p,index:s,alias:l}}return v}})(wt.API),wt.API.processPNG=function(n,e,a,s){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var l,c=ES(n,{checkCrc:!0}),d=c.width,h=c.height,f=c.channels,p=c.palette,v=c.depth;l=p&&f===1?(function(se){for(var K=se.width,we=se.height,P=se.data,$=se.palette,oe=se.depth,ue=!1,Ce=[],re=[],ge=void 0,me=!1,Oe=0,xe=0;xe<$.length;xe++){var H=O2($[xe],4),S=H[0],I=H[1],q=H[2],G=H[3];Ce.push(S,I,q),G!=null&&(G===0?(Oe++,re.length<1&&re.push(xe)):G<255&&(me=!0))}if(me||Oe>1){ue=!0,re=void 0;var ie=K*we;ge=new Uint8Array(ie);for(var he=new DataView(P.buffer),ke=0;ke<ie;ke++){var ce=b0(he,ke,oe),B=O2($[ce],4)[3];ge[ke]=B}}else Oe===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ue?8:void 0,colorBytes:P,alphaBytes:ge,needSMask:ue,palette:Ce,mask:re}})(c):f===2||f===4?(function(se){for(var K=se.data,we=se.width,P=se.height,$=se.channels,oe=se.depth,ue=$===2?"DeviceGray":"DeviceRGB",Ce=$-1,re=we*P,ge=Ce,me=re*ge,Oe=1*re,xe=Math.ceil(me*oe/8),H=Math.ceil(Oe*oe/8),S=new Uint8Array(xe),I=new Uint8Array(H),q=new DataView(K.buffer),G=new DataView(S.buffer),ie=new DataView(I.buffer),he=!1,ke=0;ke<re;ke++){for(var ce=ke*$,B=0;B<ge;B++)Ib(G,b0(q,ce+B,oe),ke*ge+B,oe);var Ae=b0(q,ce+ge,oe);Ae<(1<<oe)-1&&(he=!0),Ib(ie,Ae,1*ke,oe)}return{colorSpace:ue,colorsPerPixel:Ce,sMaskBitsPerComponent:he?oe:void 0,colorBytes:S,alphaBytes:I,needSMask:he}})(c):(function(se){var K=se.data,we=se.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:we,colorsPerPixel:we==="DeviceGray"?1:3,colorBytes:K instanceof Uint16Array?(function(P){for(var $=P.length,oe=new Uint8Array(2*$),ue=new DataView(oe.buffer,oe.byteOffset,oe.byteLength),Ce=0;Ce<$;Ce++)ue.setUint16(2*Ce,P[Ce],!1);return oe})(K):K,needSMask:!1}})(c);var j,_,y,C=l,k=C.colorSpace,O=C.colorsPerPixel,L=C.sMaskBitsPerComponent,T=C.colorBytes,R=C.alphaBytes,F=C.needSMask,ne=C.palette,de=C.mask,W=null;return s!==wt.API.image_compression.NONE&&typeof B0=="function"?(W=(function(se){var K;switch(se){case wt.API.image_compression.FAST:K=11;break;case wt.API.image_compression.MEDIUM:K=13;break;case wt.API.image_compression.SLOW:K=14;break;default:K=12}return K})(s),j=this.decode.FLATE_DECODE,_="/Predictor ".concat(W," /Colors ").concat(O," /BitsPerComponent ").concat(v," /Columns ").concat(d),n=Ob(T,Math.ceil(d*O*v/8),O,v,s),F&&(y=Ob(R,Math.ceil(d*L/8),1,L,s))):(j=void 0,_=void 0,n=T,F&&(y=R)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:a,data:n,index:e,filter:j,decodeParameters:_,transparency:de,palette:ne,sMask:y,predictor:W,width:d,height:h,bitsPerComponent:v,sMaskBitsPerComponent:L,colorSpace:k}}},(function(n){n.processGIF89A=function(e,a,s,l){var c=new JS(e),d=c.width,h=c.height,f=[];c.decodeAndBlitFrameRGBA(0,f);var p={data:f,width:d,height:h},v=new x0(100).encode(p,100);return n.processJPEG.call(this,v,a,s,l)},n.processGIF87A=n.processGIF89A})(wt.API),vi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:l,green:s,blue:a,quad:c}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vi.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(a){$a.log("bit decode error:"+a)}},vi.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),a=e%4;for(n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,l=0;l<e;l++)for(var c=this.datav.getUint8(this.pos++,!0),d=s*this.width*4+8*l*4,h=0;h<8&&8*l+h<this.width;h++){var f=this.palette[c>>7-h&1];this.data[d+4*h]=f.blue,this.data[d+4*h+1]=f.green,this.data[d+4*h+2]=f.red,this.data[d+4*h+3]=255}a!==0&&(this.pos+=4-a)}},vi.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,l=0;l<n;l++){var c=this.datav.getUint8(this.pos++,!0),d=s*this.width*4+2*l*4,h=c>>4,f=15&c,p=this.palette[h];if(this.data[d]=p.blue,this.data[d+1]=p.green,this.data[d+2]=p.red,this.data[d+3]=255,2*l+1>=this.width)break;p=this.palette[f],this.data[d+4]=p.blue,this.data[d+4+1]=p.green,this.data[d+4+2]=p.red,this.data[d+4+3]=255}e!==0&&(this.pos+=4-e)}},vi.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var l=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+4*s;if(l<this.palette.length){var d=this.palette[l];this.data[c]=d.red,this.data[c+1]=d.green,this.data[c+2]=d.blue,this.data[c+3]=255}else this.data[c]=255,this.data[c+1]=255,this.data[c+2]=255,this.data[c+3]=255}n!==0&&(this.pos+=4-n)}},vi.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,l=0;l<this.width;l++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&e)/e*255|0,h=(c>>5&e)/e*255|0,f=(c>>10&e)/e*255|0,p=c>>15?255:0,v=s*this.width*4+4*l;this.data[v]=f,this.data[v+1]=h,this.data[v+2]=d,this.data[v+3]=p}this.pos+=n}},vi.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),a=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var l=this.bottom_up?s:this.height-1-s,c=0;c<this.width;c++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(d&e)/e*255|0,f=(d>>5&a)/a*255|0,p=(d>>11)/e*255|0,v=l*this.width*4+4*c;this.data[v]=p,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=255}this.pos+=n}},vi.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=255}this.pos+=this.width%4}},vi.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*a;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=d}},vi.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,a,s,l){var c=new vi(e,!1),d=c.width,h=c.height,f={data:c.getData(),width:d,height:h},p=new x0(100).encode(f,100);return n.processJPEG.call(this,p,a,s,l)}})(wt.API),Bb.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,a,s,l){var c=new Bb(e),d=c.width,h=c.height,f={data:c.getData(),width:d,height:h},p=new x0(100).encode(f,100);return n.processJPEG.call(this,p,a,s,l)}})(wt.API),wt.API.processRGBA=function(n,e,a){for(var s=n.data,l=s.length,c=new Uint8Array(l/4*3),d=new Uint8Array(l/4),h=0,f=0,p=0;p<l;p+=4){var v=s[p],j=s[p+1],_=s[p+2],y=s[p+3];c[h++]=v,c[h++]=j,c[h++]=_,d[f++]=y}var C=this.__addimage__.arrayBufferToBinaryString(c);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:C,index:e,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},wt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fu=wt.API,Hh=fu.getCharWidthsArray=function(n,e){var a,s,l=(e=e||{}).font||this.internal.getFont(),c=e.fontSize||this.internal.getFontSize(),d=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:l.metadata.Unicode.widths,f=h.fof?h.fof:1,p=e.kerning?e.kerning:l.metadata.Unicode.kerning,v=p.fof?p.fof:1,j=e.doKerning!==!1,_=0,y=n.length,C=0,k=h[0]||f,O=[];for(a=0;a<y;a++)s=n.charCodeAt(a),typeof l.metadata.widthOfString=="function"?O.push((l.metadata.widthOfGlyph(l.metadata.characterToGlyph(s))+d*(1e3/c)||0)/1e3):(_=j&&Da(p[s])==="object"&&!isNaN(parseInt(p[s][C],10))?p[s][C]/v:0,O.push((h[s]||k)/f+_)),C=s;return O},kb=fu.getStringUnitWidth=function(n,e){var a=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),l=e.charSpace||this.internal.getCharSpace();return fu.processArabic&&(n=fu.processArabic(n)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(n,a,l)/a:Hh.apply(this,arguments).reduce(function(c,d){return c+d},0)},Lb=function(n,e,a,s){for(var l=[],c=0,d=n.length,h=0;c!==d&&h+e[c]<a;)h+=e[c],c++;l.push(n.slice(0,c));var f=c;for(h=0;c!==d;)h+e[c]>s&&(l.push(n.slice(f,c)),h=0,f=c),h+=e[c],c++;return f!==c&&l.push(n.slice(f,c)),l},Tb=function(n,e,a){a||(a={});var s,l,c,d,h,f,p,v=[],j=[v],_=a.textIndent||0,y=0,C=0,k=n.split(" "),O=Hh.apply(this,[" ",a])[0];if(f=a.lineIndent===-1?k[0].length+2:a.lineIndent||0){var L=Array(f).join(" "),T=[];k.map(function(F){(F=F.split(/\s*\n/)).length>1?T=T.concat(F.map(function(ne,de){return(de&&ne.length?`
`:"")+ne})):T.push(F[0])}),k=T,f=kb.apply(this,[L,a])}for(c=0,d=k.length;c<d;c++){var R=0;if(s=k[c],f&&s[0]==`
`&&(s=s.substr(1),R=1),_+y+(C=(l=Hh.apply(this,[s,a])).reduce(function(F,ne){return F+ne},0))>e||R){if(C>e){for(h=Lb.apply(this,[s,l,e-(_+y),e]),v.push(h.shift()),v=[h.pop()];h.length;)j.push([h.shift()]);C=l.slice(s.length-(v[0]?v[0].length:0)).reduce(function(F,ne){return F+ne},0)}else v=[s];j.push(v),_=C+f,y=O}else v.push(s),_+=y+C,y=O}return p=f?function(F,ne){return(ne?L:"")+F.join(" ")}:function(F){return F.join(" ")},j.map(p)},fu.splitTextToSize=function(n,e,a){var s,l=(a=a||{}).fontSize||this.internal.getFontSize(),c=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var j=this.internal.getFont(v.fontName,v.fontStyle),_="Unicode";return j.metadata[_]?{widths:j.metadata[_].widths||{0:1},kerning:j.metadata[_].kerning||{}}:{font:j.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);s=Array.isArray(n)?n:String(n).split(/\r?\n/);var d=1*this.internal.scaleFactor*e/l;c.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/l:0,c.lineIndent=a.lineIndent;var h,f,p=[];for(h=0,f=s.length;h<f;h++)p=p.concat(Tb.apply(this,[s[h],d,c]));return p},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",a="klmnopqrstuvwxyz",s={},l={},c=0;c<16;c++)s[a[c]]=e[c],l[e[c]]=a[c];var d=function(_){return"0x"+parseInt(_,10).toString(16)},h=n.__fontmetrics__.compress=function(_){var y,C,k,O,L=["{"];for(var T in _){if(y=_[T],isNaN(parseInt(T,10))?C="'"+T+"'":(T=parseInt(T,10),C=(C=d(T).slice(2)).slice(0,-1)+l[C.slice(-1)]),typeof y=="number")y<0?(k=d(y).slice(3),O="-"):(k=d(y).slice(2),O=""),k=O+k.slice(0,-1)+l[k.slice(-1)];else{if(Da(y)!=="object")throw new Error("Don't know what to do with value type "+Da(y)+".");k=h(y)}L.push(C+k)}return L.push("}"),L.join("")},f=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,C,k,O,L={},T=1,R=L,F=[],ne="",de="",W=_.length-1,se=1;se<W;se+=1)(O=_[se])=="'"?y?(k=y.join(""),y=void 0):y=[]:y?y.push(O):O=="{"?(F.push([R,k]),R={},k=void 0):O=="}"?((C=F.pop())[0][C[1]]=R,k=void 0,R=C[0]):O=="-"?T=-1:k===void 0?s.hasOwnProperty(O)?(ne+=s[O],k=parseInt(ne,16)*T,T=1,ne=""):ne+=O:s.hasOwnProperty(O)?(de+=s[O],R[k]=parseInt(de,16)*T,T=1,k=void 0,de=""):de+=O;return L},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},j={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var y=_.font,C=j.Unicode[y.postScriptName];C&&(y.metadata.Unicode={},y.metadata.Unicode.widths=C.widths,y.metadata.Unicode.kerning=C.kerning);var k=v.Unicode[y.postScriptName];k&&(y.metadata.Unicode.encoding=k,y.encoding=k.codePages[0])}])})(wt.API),(function(n){var e=function(a){for(var s=a.length,l=new Uint8Array(s),c=0;c<s;c++)l[c]=a.charCodeAt(c);return l};n.API.events.push(["addFont",function(a){var s=void 0,l=a.font,c=a.instance;if(!l.isStandardFont){if(c===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+l.postScriptName+"').");if(typeof(s=c.existsFileInVFS(l.postScriptName)===!1?c.loadFile(l.postScriptName):c.getFileFromVFS(l.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+l.postScriptName+"').");(function(d,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(Kh(h)),d.metadata=n.API.TTFFont.open(h),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(l,s)}}])})(wt),wt.API.addSvgAsImage=function(n,e,a,s,l,c,d,h){if(isNaN(e)||isNaN(a))throw $a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(l))throw $a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=l;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},j=this;return(Gt.canvg?Promise.resolve(Gt.canvg):Xm(()=>import("./index.es-CcZtwbkm.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(p,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(v)}).then(function(){j.addImage(f.toDataURL("image/jpeg",1),e,a,s,l,d,h)})},wt.API.putTotalPages=function(n){var e,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),a=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var l=0;l<this.internal.pages[s].length;l++)this.internal.pages[s][l]=this.internal.pages[s][l].replace(e,a);return this},wt.API.viewerPreferences=function(n,e){var a;n=n||{},e=e||!1;var s,l,c,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(d),f=[],p=0,v=0,j=0;function _(C,k){var O,L=!1;for(O=0;O<C.length;O+=1)C[O]===k&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var y=h.length;for(j=0;j<y;j+=1)a[h[j]].value=a[h[j]].defaultValue,a[h[j]].explicitSet=!1}if(Da(n)==="object"){for(l in n)if(c=n[l],_(h,l)&&c!==void 0){if(a[l].type==="boolean"&&typeof c=="boolean")a[l].value=c;else if(a[l].type==="name"&&_(a[l].valueSet,c))a[l].value=c;else if(a[l].type==="integer"&&Number.isInteger(c))a[l].value=c;else if(a[l].type==="array"){for(p=0;p<c.length;p+=1)if(s=!0,c[p].length===1&&typeof c[p][0]=="number")f.push(String(c[p]-1));else if(c[p].length>1){for(v=0;v<c[p].length;v+=1)typeof c[p][v]!="number"&&(s=!1);s===!0&&f.push([c[p][0]-1,c[p][1]-1].join(" "))}a[l].value="["+f.join(" ")+"]"}else a[l].value=a[l].defaultValue;a[l].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,k=[];for(C in a)a[C].explicitSet===!0&&(a[C].type==="name"?k.push("/"+C+" /"+a[C].value):k.push("/"+C+" "+a[C].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},(function(n){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',l=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),c=unescape(encodeURIComponent(s)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),p=c.length+d.length+h.length+l.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(l+c+d+h+f),this.internal.write("endstream"),this.internal.write("endobj")},a=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(s,l){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:l||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",a),this.internal.events.subscribe("postPutResources",e)),this}})(wt.API),(function(n){var e=n.API,a=e.pdfEscape16=function(c,d){for(var h,f=d.metadata.Unicode.widths,p=["","0","00","000","0000"],v=[""],j=0,_=c.length;j<_;++j){if(h=d.metadata.characterToGlyph(c.charCodeAt(j)),d.metadata.glyIdsUsed.push(h),d.metadata.toUnicode[h]=c.charCodeAt(j),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(d.metadata.widthOfGlyph(h),10)])),h=="0")return v.join("");h=h.toString(16),v.push(p[4-h.length],h)}return v.join("")},s=function(c){var d,h,f,p,v,j,_;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],j=0,_=(h=Object.keys(c).sort(function(y,C){return y-C})).length;j<_;j++)d=h[j],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),c[d]!==void 0&&c[d]!==null&&typeof c[d].toString=="function"&&(p=("0000"+c[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),f.push("<"+d+"><"+p+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(c){(function(d){var h=d.font,f=d.out,p=d.newObject,v=d.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var j=h.metadata.Unicode.widths,_=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),y="",C=0;C<_.length;C++)y+=String.fromCharCode(_[C]);var k=p();v({data:y,addLength1:!0,objectId:k}),f("endobj");var O=p();v({data:s(h.metadata.toUnicode),addLength1:!0,objectId:O}),f("endobj");var L=p();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+xu(h.fontName)),f("/FontFile2 "+k+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var T=p();f("<<"),f("/Type /Font"),f("/BaseFont /"+xu(h.fontName)),f("/FontDescriptor "+L+" 0 R"),f("/W "+n.API.PDFObject.convert(j)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=p(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+O+" 0 R"),f("/BaseFont /"+xu(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+T+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(c)}]),e.events.push(["putFont",function(c){(function(d){var h=d.font,f=d.out,p=d.newObject,v=d.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var j=h.metadata.rawData,_="",y=0;y<j.length;y++)_+=String.fromCharCode(j[y]);var C=p();v({data:_,addLength1:!0,objectId:C}),f("endobj");var k=p();v({data:s(h.metadata.toUnicode),addLength1:!0,objectId:k}),f("endobj");var O=p();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+C+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+xu(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=p();for(var L=0;L<h.metadata.hmtx.widths.length;L++)h.metadata.hmtx.widths[L]=parseInt(h.metadata.hmtx.widths[L]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+xu(h.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(c)}]);var l=function(c){var d,h=c.text||"",f=c.x,p=c.y,v=c.options||{},j=c.mutex||{},_=j.pdfEscape,y=j.activeFontKey,C=j.fonts,k=y,O="",L=0,T="",R=C[k].encoding;if(C[k].encoding!=="Identity-H")return{text:h,x:f,y:p,options:v,mutex:j};for(T=h,k=y,Array.isArray(h)&&(T=h[0]),L=0;L<T.length;L+=1)C[k].metadata.hasOwnProperty("cmap")&&(d=C[k].metadata.cmap.unicode.codeMap[T[L].charCodeAt(0)]),d||T[L].charCodeAt(0)<256&&C[k].metadata.hasOwnProperty("Unicode")?O+=T[L]:O+="";var F="";return parseInt(k.slice(1))<14||R==="WinAnsiEncoding"?F=_(O,k).split("").map(function(ne){return ne.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(F=a(O,C[k])),j.isHex=!0,{text:F,x:f,y:p,options:v,mutex:j}};e.events.push(["postProcessText",function(c){var d=c.text||"",h=[],f={text:d,x:c.x,y:c.y,options:c.options,mutex:c.mutex};if(Array.isArray(d)){var p=0;for(p=0;p<d.length;p+=1)Array.isArray(d[p])&&d[p].length===3?h.push([l(Object.assign({},f,{text:d[p][0]})).text,d[p][1],d[p][2]]):h.push(l(Object.assign({},f,{text:d[p]})).text);c.text=h}else c.text=l(Object.assign({},f,{text:d})).text}])})(wt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(a){return e.call(this),this.internal.vFS[a]!==void 0},n.addFileToVFS=function(a,s){return e.call(this),this.internal.vFS[a]=s,this},n.getFileFromVFS=function(a){return e.call(this),this.internal.vFS[a]!==void 0?this.internal.vFS[a]:null}})(wt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(s){var l,c,d,h,f,p,v,j=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,R=0;this.__bidiEngine__={};var F=function(P){var $=P.charCodeAt(),oe=$>>8,ue=k[oe];return ue!==void 0?j[256*ue+(255&$)]:oe===252||oe===253?"AL":L.test(oe)?"L":oe===8?"R":"N"},ne=function(P){for(var $,oe=0;oe<P.length;oe++){if(($=F(P.charAt(oe)))==="L")return!1;if($==="R")return!0}return!1},de=function(P,$,oe,ue){var Ce,re,ge,me,Oe=$[ue];switch(Oe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"N":case"AN":break;case"EN":T&&(Oe="AN");break;case"AL":T=!0,Oe="R";break;case"WS":case"BN":Oe="N";break;case"CS":ue<1||ue+1>=$.length||(Ce=oe[ue-1])!=="EN"&&Ce!=="AN"||(re=$[ue+1])!=="EN"&&re!=="AN"?Oe="N":T&&(re="AN"),Oe=re===Ce?re:"N";break;case"ES":Oe=(Ce=ue>0?oe[ue-1]:"B")==="EN"&&ue+1<$.length&&$[ue+1]==="EN"?"EN":"N";break;case"ET":if(ue>0&&oe[ue-1]==="EN"){Oe="EN";break}if(T){Oe="N";break}for(ge=ue+1,me=$.length;ge<me&&$[ge]==="ET";)ge++;Oe=ge<me&&$[ge]==="EN"?"EN":"N";break;case"NSM":if(d&&!h){for(me=$.length,ge=ue+1;ge<me&&$[ge]==="NSM";)ge++;if(ge<me){var xe=P[ue],H=xe>=1425&&xe<=2303||xe===64286;if(Ce=$[ge],H&&(Ce==="R"||Ce==="AL")){Oe="R";break}}}Oe=ue<1||(Ce=$[ue-1])==="B"?"N":oe[ue-1];break;case"B":T=!1,l=!0,Oe=R;break;case"S":c=!0,Oe="N"}return Oe},W=function(P,$,oe){var ue=P.split("");return oe&&se(ue,oe,{hiLevel:R}),ue.reverse(),$&&$.reverse(),ue.join("")},se=function(P,$,oe){var ue,Ce,re,ge,me,Oe=-1,xe=P.length,H=0,S=[],I=R?y:_,q=[];for(T=!1,l=!1,c=!1,Ce=0;Ce<xe;Ce++)q[Ce]=F(P[Ce]);for(re=0;re<xe;re++){if(me=H,S[re]=de(P,q,S,re),ue=240&(H=I[me][C[S[re]]]),H&=15,$[re]=ge=I[H][5],ue>0)if(ue===16){for(Ce=Oe;Ce<re;Ce++)$[Ce]=1;Oe=-1}else Oe=-1;if(I[H][6])Oe===-1&&(Oe=re);else if(Oe>-1){for(Ce=Oe;Ce<re;Ce++)$[Ce]=ge;Oe=-1}q[re]==="B"&&($[re]=0),oe.hiLevel|=ge}c&&(function(G,ie,he){for(var ke=0;ke<he;ke++)if(G[ke]==="S"){ie[ke]=R;for(var ce=ke-1;ce>=0&&G[ce]==="WS";ce--)ie[ce]=R}})(q,$,xe)},K=function(P,$,oe,ue,Ce){if(!(Ce.hiLevel<P)){if(P===1&&R===1&&!l)return $.reverse(),void(oe&&oe.reverse());for(var re,ge,me,Oe,xe=$.length,H=0;H<xe;){if(ue[H]>=P){for(me=H+1;me<xe&&ue[me]>=P;)me++;for(Oe=H,ge=me-1;Oe<ge;Oe++,ge--)re=$[Oe],$[Oe]=$[ge],$[ge]=re,oe&&(re=oe[Oe],oe[Oe]=oe[ge],oe[ge]=re);H=me}H++}}},we=function(P,$,oe){var ue=P.split(""),Ce={hiLevel:R};return oe||(oe=[]),se(ue,oe,Ce),(function(re,ge,me){if(me.hiLevel!==0&&v)for(var Oe,xe=0;xe<re.length;xe++)ge[xe]===1&&(Oe=O.indexOf(re[xe]))>=0&&(re[xe]=O[Oe+1])})(ue,oe,Ce),K(2,ue,$,oe,Ce),K(1,ue,$,oe,Ce),ue.join("")};return this.__bidiEngine__.doBidiReorder=function(P,$,oe){if((function(Ce,re){if(re)for(var ge=0;ge<Ce.length;ge++)re[ge]=ge;h===void 0&&(h=ne(Ce)),p===void 0&&(p=ne(Ce))})(P,$),d||!f||p)if(d&&f&&h^p)R=h?1:0,P=W(P,$,oe);else if(!d&&f&&p)R=h?1:0,P=we(P,$,oe),P=W(P,$);else if(!d||h||f||p){if(d&&!f&&h^p)P=W(P,$),h?(R=0,P=we(P,$,oe)):(R=1,P=we(P,$,oe),P=W(P,$));else if(d&&h&&!f&&p)R=1,P=we(P,$,oe),P=W(P,$);else if(!d&&!f&&h^p){var ue=v;h?(R=1,P=we(P,$,oe),R=0,v=!1,P=we(P,$,oe),v=ue):(R=0,P=we(P,$,oe),P=W(P,$),R=1,v=!1,P=we(P,$,oe),v=ue,P=W(P,$))}}else R=0,P=we(P,$,oe);else R=h?1:0,P=we(P,$,oe);return P},this.__bidiEngine__.setOptions=function(P){P&&(d=P.isInputVisual,f=P.isOutputVisual,h=P.isInputRtl,p=P.isOutputRtl,v=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(s){var l=s.text;s.x,s.y;var c=s.options||{};s.mutex,c.lang;var d=[];if(c.isInputVisual=typeof c.isInputVisual!="boolean"||c.isInputVisual,a.setOptions(c),Object.prototype.toString.call(l)==="[object Array]"){var h=0;for(d=[],h=0;h<l.length;h+=1)Object.prototype.toString.call(l[h])==="[object Array]"?d.push([a.doBidiReorder(l[h][0]),l[h][1],l[h][2]]):d.push([a.doBidiReorder(l[h])]);s.text=d}else s.text=a.doBidiReorder(l);a.setOptions({isInputVisual:!0})}])})(wt),wt.API.TTFFont=(function(){function n(e){var a;if(this.rawData=e,a=this.contents=new wl(e),this.contents.pos=4,a.readString(4)==="ttcf")throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new u6(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new WS(this.contents),this.head=new ZS(this),this.name=new n6(this),this.cmap=new Nv(this),this.toUnicode={},this.hhea=new QS(this),this.maxp=new r6(this),this.hmtx=new s6(this),this.post=new t6(this),this.os2=new e6(this),this.loca=new c6(this),this.glyf=new i6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,a,s,l,c;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,h,f,p;for(p=[],d=0,h=(f=this.bbox).length;d<h;d++)e=f[d],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(s=255&(l=this.post.italic_angle),32768&(a=l>>16)&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(c=this.familyClass)===1||c===2||c===3||c===4||c===5||c===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var a;return((a=this.cmap.unicode)!=null?a.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*a},n.prototype.widthOfString=function(e,a,s){var l,c,d,h;for(d=0,c=0,h=(e=""+e).length;0<=h?c<h:c>h;c=0<=h?++c:--c)l=e.charCodeAt(c),d+=this.widthOfGlyph(this.characterToGlyph(l))+s*(1e3/a)||0;return d*(a/1e3)},n.prototype.lineHeight=function(e,a){var s;return a==null&&(a=!1),s=a?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},n})();var Ci,wl=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var a,s;for(s=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)s[a]=String.fromCharCode(this.readByte());return s.join("")},n.prototype.writeString=function(e){var a,s,l;for(l=[],a=0,s=e.length;0<=s?a<s:a>s;a=0<=s?++a:--a)l.push(this.writeByte(e.charCodeAt(a)));return l},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,a,s,l,c,d,h,f;return e=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),h=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^a)+1099511627776*(255^s)+4294967296*(255^l)+16777216*(255^c)+65536*(255^d)+256*(255^h)+(255^f)+1):72057594037927940*e+281474976710656*a+1099511627776*s+4294967296*l+16777216*c+65536*d+256*h+f},n.prototype.writeLongLong=function(e){var a,s;return a=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var a,s;for(a=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)a.push(this.readByte());return a},n.prototype.write=function(e){var a,s,l,c;for(c=[],s=0,l=e.length;s<l;s++)a=e[s],c.push(this.writeByte(a));return c},n})(),WS=(function(){var n;function e(a){var s,l,c;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},l=0,c=this.tableCount;0<=c?l<c:l>c;l=0<=c?++l:--l)s={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(a){var s,l,c,d,h,f,p,v,j,_,y,C,k;for(k in y=Object.keys(a).length,f=Math.log(2),j=16*Math.floor(Math.log(y)/f),d=Math.floor(j/f),v=16*y-j,(l=new wl).writeInt(this.scalarType),l.writeShort(y),l.writeShort(j),l.writeShort(d),l.writeShort(v),c=16*y,p=l.pos+c,h=null,C=[],a)for(_=a[k],l.writeString(k),l.writeInt(n(_)),l.writeInt(p),l.writeInt(_.length),C=C.concat(_),k==="head"&&(h=p),p+=_.length;p%4;)C.push(0),p++;return l.write(C),s=2981146554-n(l.data),l.pos=h+8,l.writeUInt32(s),l.data},n=function(a){var s,l,c,d;for(a=jv.call(a);a.length%4;)a.push(0);for(c=new wl(a),l=0,s=0,d=a.length;s<d;s=s+=4)l+=c.readUInt32();return 4294967295&l},e})(),XS={}.hasOwnProperty,Zi=function(n,e){for(var a in e)XS.call(e,a)&&(n[a]=e[a]);function s(){this.constructor=n}return s.prototype=e.prototype,n.prototype=new s,n.__super__=e.prototype,n};Ci=(function(){function n(e){var a;this.file=e,a=this.file.directory.tables[this.tag],this.exists=!!a,a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var ZS=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zi(n,Ci),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var a;return(a=new wl).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(e),a.writeShort(this.glyphDataFormat),a.data},n})(),qb=(function(){function n(e,a){var s,l,c,d,h,f,p,v,j,_,y,C,k,O,L,T,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=a+e.readInt(),j=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(y=e.readUInt16(),_=y/2,e.pos+=6,c=(function(){var F,ne;for(ne=[],f=F=0;0<=_?F<_:F>_;f=0<=_?++F:--F)ne.push(e.readUInt16());return ne})(),e.pos+=2,k=(function(){var F,ne;for(ne=[],f=F=0;0<=_?F<_:F>_;f=0<=_?++F:--F)ne.push(e.readUInt16());return ne})(),p=(function(){var F,ne;for(ne=[],f=F=0;0<=_?F<_:F>_;f=0<=_?++F:--F)ne.push(e.readUInt16());return ne})(),v=(function(){var F,ne;for(ne=[],f=F=0;0<=_?F<_:F>_;f=0<=_?++F:--F)ne.push(e.readUInt16());return ne})(),l=(this.length-e.pos+this.offset)/2,h=(function(){var F,ne;for(ne=[],f=F=0;0<=l?F<l:F>l;f=0<=l?++F:--F)ne.push(e.readUInt16());return ne})(),f=L=0,R=c.length;L<R;f=++L)for(O=c[f],s=T=C=k[f];C<=O?T<=O:T>=O;s=C<=O?++T:--T)v[f]===0?d=s+p[f]:(d=h[v[f]/2+(s-C)-(_-f)]||0)!==0&&(d+=p[f]),this.codeMap[s]=65535&d}e.pos=j}return n.encode=function(e,a){var s,l,c,d,h,f,p,v,j,_,y,C,k,O,L,T,R,F,ne,de,W,se,K,we,P,$,oe,ue,Ce,re,ge,me,Oe,xe,H,S,I,q,G,ie,he,ke,ce,B,Ae,Ze;switch(ue=new wl,d=Object.keys(e).sort(function(tt,ot){return tt-ot}),a){case"macroman":for(k=0,O=(function(){var tt=[];for(C=0;C<256;++C)tt.push(0);return tt})(),T={0:0},c={},Ce=0,Oe=d.length;Ce<Oe;Ce++)T[ce=e[l=d[Ce]]]==null&&(T[ce]=++k),c[l]={old:e[l],new:T[e[l]]},O[l]=T[e[l]];return ue.writeUInt16(1),ue.writeUInt16(0),ue.writeUInt32(12),ue.writeUInt16(0),ue.writeUInt16(262),ue.writeUInt16(0),ue.write(O),{charMap:c,subtable:ue.data,maxGlyphID:k+1};case"unicode":for($=[],j=[],R=0,T={},s={},L=p=null,re=0,xe=d.length;re<xe;re++)T[ne=e[l=d[re]]]==null&&(T[ne]=++R),s[l]={old:ne,new:T[ne]},h=T[ne]-l,L!=null&&h===p||(L&&j.push(L),$.push(l),p=h),L=l;for(L&&j.push(L),j.push(65535),$.push(65535),we=2*(K=$.length),se=2*Math.pow(Math.log(K)/Math.LN2,2),_=Math.log(se/2)/Math.LN2,W=2*K-se,f=[],de=[],y=[],C=ge=0,H=$.length;ge<H;C=++ge){if(P=$[C],v=j[C],P===65535){f.push(0),de.push(0);break}if(P-(oe=s[P].new)>=32768)for(f.push(0),de.push(2*(y.length+K-C)),l=me=P;P<=v?me<=v:me>=v;l=P<=v?++me:--me)y.push(s[l].new);else f.push(oe-P),de.push(0)}for(ue.writeUInt16(3),ue.writeUInt16(1),ue.writeUInt32(12),ue.writeUInt16(4),ue.writeUInt16(16+8*K+2*y.length),ue.writeUInt16(0),ue.writeUInt16(we),ue.writeUInt16(se),ue.writeUInt16(_),ue.writeUInt16(W),he=0,S=j.length;he<S;he++)l=j[he],ue.writeUInt16(l);for(ue.writeUInt16(0),ke=0,I=$.length;ke<I;ke++)l=$[ke],ue.writeUInt16(l);for(B=0,q=f.length;B<q;B++)h=f[B],ue.writeUInt16(h);for(Ae=0,G=de.length;Ae<G;Ae++)F=de[Ae],ue.writeUInt16(F);for(Ze=0,ie=y.length;Ze<ie;Ze++)k=y[Ze],ue.writeUInt16(k);return{charMap:s,subtable:ue.data,maxGlyphID:R+1}}},n})(),Nv=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zi(n,Ci),n.prototype.tag="cmap",n.prototype.parse=function(e){var a,s,l;for(e.pos=this.offset,this.version=e.readUInt16(),l=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=l?s<l:s>l;s=0<=l?++s:--s)a=new qb(e,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},n.encode=function(e,a){var s,l;return a==null&&(a="macroman"),s=qb.encode(e,a),(l=new wl).writeUInt16(0),l.writeUInt16(1),s.table=l.data.concat(s.subtable),s},n})(),QS=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zi(n,Ci),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),e6=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zi(n,Ci),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var a,s;for(s=[],a=0;a<10;++a)s.push(e.readByte());return s})(),this.charRange=(function(){var a,s;for(s=[],a=0;a<4;++a)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var a,s;for(s=[],a=0;a<2;a=++a)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),t6=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zi(n,Ci),n.prototype.tag="post",n.prototype.parse=function(e){var a,s,l;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var c;for(s=e.readUInt16(),this.glyphNameIndex=[],c=0;0<=s?c<s:c>s;c=0<=s?++c:--c)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],l=[];e.pos<this.offset+this.length;)a=e.readByte(),l.push(this.names.push(e.readString(a)));return l;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var d,h,f;for(f=[],c=d=0,h=this.file.maxp.numGlyphs;0<=h?d<h:d>h;c=0<=h?++d:--d)f.push(e.readUInt32());return f}).call(this)}},n})(),a6=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},n6=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zi(n,Ci),n.prototype.tag="name",n.prototype.parse=function(e){var a,s,l,c,d,h,f,p,v,j,_;for(e.pos=this.offset,e.readShort(),a=e.readShort(),h=e.readShort(),s=[],c=0;0<=a?c<a:c>a;c=0<=a?++c:--c)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},c=v=0,j=s.length;v<j;c=++v)l=s[c],e.pos=l.offset,p=e.readString(l.length),d=new a6(p,l),f[_=l.nameID]==null&&(f[_]=[]),f[l.nameID].push(d);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),r6=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zi(n,Ci),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),s6=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zi(n,Ci),n.prototype.tag="hmtx",n.prototype.parse=function(e){var a,s,l,c,d,h,f;for(e.pos=this.offset,this.metrics=[],a=0,h=this.file.hhea.numberOfMetrics;0<=h?a<h:a>h;a=0<=h?++a:--a)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,v;for(v=[],a=p=0;0<=l?p<l:p>l;a=0<=l?++p:--p)v.push(e.readInt16());return v})(),this.widths=(function(){var p,v,j,_;for(_=[],p=0,v=(j=this.metrics).length;p<v;p++)c=j[p],_.push(c.advance);return _}).call(this),s=this.widths[this.widths.length-1],f=[],a=d=0;0<=l?d<l:d>l;a=0<=l?++d:--d)f.push(this.widths.push(s));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),jv=[].slice,i6=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zi(n,Ci),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var a,s,l,c,d,h,f,p,v,j;return e in this.cache?this.cache[e]:(c=this.file.loca,a=this.file.contents,s=c.indexOf(e),(l=c.lengthOf(e))===0?this.cache[e]=null:(a.pos=this.offset+s,d=(h=new wl(a.read(l))).readShort(),p=h.readShort(),j=h.readShort(),f=h.readShort(),v=h.readShort(),this.cache[e]=d===-1?new l6(h,p,j,f,v):new o6(h,d,p,j,f,v),this.cache[e]))},n.prototype.encode=function(e,a,s){var l,c,d,h,f;for(d=[],c=[],h=0,f=a.length;h<f;h++)l=e[a[h]],c.push(d.length),l&&(d=d.concat(l.encode(s)));return c.push(d.length),{table:d,offsets:c}},n})(),o6=(function(){function n(e,a,s,l,c,d){this.raw=e,this.numberOfContours=a,this.xMin=s,this.yMin=l,this.xMax=c,this.yMax=d,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),l6=(function(){function n(e,a,s,l,c){var d,h;for(this.raw=e,this.xMin=a,this.yMin=s,this.xMax=l,this.yMax=c,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;h=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&h;)d.pos+=1&h?4:2,128&h?d.pos+=8:64&h?d.pos+=4:8&h&&(d.pos+=2)}return n.prototype.encode=function(){var e,a,s;for(a=new wl(jv.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)a.pos=this.glyphOffsets[e];return a.data},n})(),c6=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Zi(n,Ci),n.prototype.tag="loca",n.prototype.parse=function(e){var a,s;return e.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var l,c;for(c=[],s=0,l=this.length;s<l;s+=2)c.push(2*e.readUInt16());return c}).call(this):(function(){var l,c;for(c=[],s=0,l=this.length;s<l;s+=4)c.push(e.readUInt32());return c}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,a){for(var s=new Uint32Array(this.offsets.length),l=0,c=0,d=0;d<s.length;++d)if(s[d]=l,c<a.length&&a[c]==d){++c,s[d]=l;var h=this.offsets[d],f=this.offsets[d+1]-h;f>0&&(l+=f)}for(var p=new Array(4*s.length),v=0;v<s.length;++v)p[4*v+3]=255&s[v],p[4*v+2]=(65280&s[v])>>8,p[4*v+1]=(16711680&s[v])>>16,p[4*v]=(4278190080&s[v])>>24;return p},n})(),u6=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,a,s,l,c;for(a in l=this.font.cmap.tables[0].codeMap,e={},c=this.subset)s=c[a],e[a]=l[s];return e},n.prototype.glyphsFor=function(e){var a,s,l,c,d,h,f;for(l={},d=0,h=e.length;d<h;d++)l[c=e[d]]=this.font.glyf.glyphFor(c);for(c in a=[],l)(s=l[c])!=null&&s.compound&&a.push.apply(a,s.glyphIDs);if(a.length>0)for(c in f=this.glyphsFor(a))s=f[c],l[c]=s;return l},n.prototype.encode=function(e,a){var s,l,c,d,h,f,p,v,j,_,y,C,k,O,L;for(l in s=Nv.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(e),y={0:0},L=s.charMap)y[(f=L[l]).old]=f.new;for(C in _=s.maxGlyphID,d)C in y||(y[C]=_++);return v=(function(T){var R,F;for(R in F={},T)F[T[R]]=R;return F})(y),j=Object.keys(v).sort(function(T,R){return T-R}),k=(function(){var T,R,F;for(F=[],T=0,R=j.length;T<R;T++)h=j[T],F.push(v[h]);return F})(),c=this.font.glyf.encode(d,k,y),p=this.font.loca.encode(c.offsets,k),O={cmap:this.font.cmap.raw(),glyf:c.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},n})();wt.API.PDFObject=(function(){var n;function e(){}return n=function(a,s){return(Array(s+1).join("0")+a).slice(-s)},e.convert=function(a){var s,l,c,d;if(Array.isArray(a))return"["+(function(){var h,f,p;for(p=[],h=0,f=a.length;h<f;h++)s=a[h],p.push(e.convert(s));return p})().join(" ")+"]";if(typeof a=="string")return"/"+a;if(a!=null&&a.isString)return"("+a+")";if(a instanceof Date)return"(D:"+n(a.getUTCFullYear(),4)+n(a.getUTCMonth(),2)+n(a.getUTCDate(),2)+n(a.getUTCHours(),2)+n(a.getUTCMinutes(),2)+n(a.getUTCSeconds(),2)+"Z)";if({}.toString.call(a)==="[object Object]"){for(l in c=["<<"],a)d=a[l],c.push("/"+l+" "+e.convert(d));return c.push(">>"),c.join(`
`)}return""+a},e})();const zb=({isDemo:n})=>{var Fr,Tr,Qn,er,ka,Ya,cn,ls;const{id:e}=T5(),a=Xi(),s=Si(),[l,c]=ae.useState(!1),[d,h]=ae.useState(!0),[f,p]=ae.useState(null),[v,j]=ae.useState(!1),[_,y]=ae.useState(!1),[C,k]=ae.useState(!1),[O,L]=ae.useState([]),[T,R]=ae.useState([]),[F,ne]=ae.useState(""),[de,W]=ae.useState(!1),[se,K]=ae.useState(!1),[we,P]=ae.useState(!1),[$,oe]=ae.useState(!1),[ue,Ce]=ae.useState(!1),[re,ge]=ae.useState(null),[me,Oe]=ae.useState("profile"),[xe,H]=ae.useState([]),[S,I]=ae.useState(null),q=localStorage.getItem("admin_viewing_institution_id"),[G,ie]=ae.useState({identification:!0,admission:!0,vulnerabilities:!0,physical:!0,family:!0,health:!0,education:!0,work:!0,others:!0}),he=le=>{ie(be=>({...be,[le]:!be[le]}))},ke=["No alfabetizado","Ensino Fundamental Incompleto","Ensino Fundamental Completo","Ensino Mdio Incompleto","Ensino Mdio Completo","Ensino Superior Incompleto","Ensino Superior Completo","Ps-graduao"],ce=ae.useRef("completed"),[B,Ae]=ae.useState({full_name:"",birth_date:"",naturalness:"",uf:"",sex:"M",mother_name:"",father_name:"",filiation_destituted:!1,autos_number:"",forum_vara:"",birth_certificate:"",cpf:"",reference_contacts:[],first_admission:!1,entry_date:"",transferred_from:"",transferred_date:"",responsible_organ:"",cnj_guide:"",reference_professional:"",fas_guide:"",admission_reason_types:[],admission_reason_other:"",guardianship_council:"",counselor_name:"",previous_admissions:!1,previous_admissions_local:"",previous_admissions_history:[],socio_educational_measure:!1,socio_educational_measure_type:"",death_threats:!1,ppcaam_evaluated:!1,ppcaam_inserted:!1,ppcaam_justification:"",street_situation:!1,race_color:"",hair_color:"",eye_color:"",physical_others:"",family_type:"",family_composition:[],responsible_family:"",siblings_in_care:!1,siblings_details:"",family_type:"",family_composition:[],responsible_family:"",siblings_in_care:!1,siblings_details:[],housing_condition:"",construction_type:"",housing_water:!0,housing_sewage:!0,housing_light:!0,visits_received:[],visits_frequency:"",visits_non_occurrence_reason:"",return_perspective:"",family_bond_exists:!1,weekend_with_family:!1,destituted_power:"",cras_monitoring:"",creas_monitoring:"",health_unit_monitoring:"",protection_network_monitoring:"",mandatory_notifications:!1,referrals:"",disabilities:[],needs_perm_care:!1,health_others:"",cid:"",health_followup:"",health_treatments:[],chemical_dependency:!1,drugs_used:[],dependency_treatment:!1,health_obs:"",school_status:"",education_level:"",school_type:"",school_name:"",school_address:"",school_phone:"",work_insertion:"",sports_leisure:"",historical_context:"",current_situation:"",commitments:[],final_considerations:""});ae.useEffect(()=>{e&&(X(e),at(e),qt(e),Ze(e))},[e,n]),ae.useEffect(()=>{s.state&&(s.state.edit&&!q&&y(!0),s.state.renew&&k(!0))},[s]);const Ze=async le=>{if(n){H([{id:"h1",created_at:new Date(Date.now()-864e5*30).toISOString(),snapshot:{...B,full_name:"Verso Antiga (Demo)"}}]);return}const{data:be}=await Ge.from("pia_history").select("*").eq("child_id",le).order("created_at",{ascending:!1});be&&H(be)},tt=le=>{Ae(le.snapshot),I(le),Oe("profile"),y(!1),window.scrollTo(0,0)},ot=()=>{I(null),e&&X(e)},X=async le=>{if(h(!0),n){setTimeout(()=>{Ae({id:le,full_name:le==="1"?"Ana Clara Souza":"Acolhido Demo",birth_date:"2015-05-10",sex:"F",mother_name:"Maria Souza",father_name:"Joo Silva",entry_date:"2023-01-15",autos_number:"0001234-56.2023.8.16.0000",admission_reason_types:["Negligncia"],reference_contacts:[{name:"Tia Joana",phone:"41 99999-9999",relationship:"Tia",address:"Rua X"}],family_composition:[],health_treatments:[],commitments:[],disabilities:[],visits_received:["Me"],visits_frequency:"Quinzenal"}),j(!1),h(!1)},500);return}try{const{data:be,error:Pe}=await Ge.from("children").select("*").eq("id",le).single();if(Pe)throw Pe;if(be){if(typeof be.siblings_details=="string")try{be.siblings_details=JSON.parse(be.siblings_details)}catch{be.siblings_details=[]}Ae(be),j(be.disabilities&&be.disabilities.length>0)}}catch(be){console.error(be),p("Erro ao carregar dados do acolhido.")}finally{h(!1)}},at=async le=>{if(n){L([{id:"1",child_id:le,url:"https://via.placeholder.com/150",created_at:new Date().toISOString()}]);return}const{data:be}=await Ge.from("child_photos").select("*").eq("child_id",le).order("created_at",{ascending:!1});be&&L(be)},qt=async le=>{if(n){R([{id:"1",child_id:le,institution_id:"demo",content:"Criana apresentou febre durante a noite (38.5). Medicada com Dipirona conforme prescrio.",created_at:new Date(Date.now()-864e5).toISOString()},{id:"2",child_id:le,institution_id:"demo",content:"Visita da tia realizada com sucesso. Trouxe roupas novas.",created_at:new Date().toISOString()}]);return}const{data:be,error:Pe}=await Ge.from("child_notes").select("*").eq("child_id",le).order("created_at",{ascending:!1});if(!Pe&&be&&(R(be),be.length>0)){const rt=localStorage.getItem(`last_viewed_notes_${le}`),xt=rt?new Date(rt).getTime():0,Ea=new Date(be[0].created_at).getTime();P(Ea>xt)}},bt=async()=>{if(F.trim()){if(W(!0),n){const le={id:Math.random().toString(),child_id:e,institution_id:"demo",content:F,created_at:new Date().toISOString()};R([le,...T]),ne(""),W(!1);return}try{const{data:{user:le}}=await Ge.auth.getUser();if(!le)throw new Error("Usurio no autenticado");const{data:be}=await Ge.from("profiles").select("institution_id").eq("id",le.id).single();if(!be)throw new Error("Perfil no encontrado");const{error:Pe}=await Ge.from("child_notes").insert([{child_id:e,institution_id:be.institution_id,content:F}]);if(Pe)throw Pe;ne(""),qt(e)}catch{alert("Erro ao salvar nota.")}finally{W(!1)}}},Z=()=>{K(!0),P(!1),localStorage.setItem(`last_viewed_notes_${e}`,new Date().toISOString())},ye=async le=>{if(!confirm("Tem certeza que deseja excluir esta anotao?"))return;if(n){R(T.filter(Pe=>Pe.id!==le));return}const{error:be}=await Ge.from("child_notes").delete().eq("id",le);be?alert("Erro ao excluir anotao."):R(T.filter(Pe=>Pe.id!==le))},Ee=async le=>{if(!confirm("Tem certeza que deseja excluir esta foto?"))return;if(n){L(O.filter(Pe=>Pe.id!==le));return}const{error:be}=await Ge.from("child_photos").delete().eq("id",le);be?alert("Erro ao excluir foto."):L(O.filter(Pe=>Pe.id!==le))},We=le=>le.replace(/\D/g,"").replace(/^(\d{2})(\d)/g,"($1) $2").replace(/(\d)(\d{4})$/,"$1-$2").slice(0,15),et=le=>{const be=le.replace(/\D/g,"");return be?(parseFloat(be)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):""},St=le=>{re!==null&&($t(re,"education_level",le),ge(null)),Ce(!1)},Kt=()=>{const le={name:"",kinship:"",birth_date:"",education_level:"",job:"",occupation:"",income:""};Ae(be=>({...be,family_composition:[...be.family_composition||[],le]}))},Ot=le=>{Ae(be=>{var Pe;return{...be,family_composition:(Pe=be.family_composition)==null?void 0:Pe.filter((rt,xt)=>xt!==le)}})},$t=(le,be,Pe)=>{const rt=[...B.family_composition||[]];be==="income"&&(Pe=et(Pe)),rt[le]={...rt[le],[be]:Pe},Ae(xt=>({...xt,family_composition:rt}))},Yt=()=>{const le={name:"",phone:"",relationship:"",address:""};Ae(be=>({...be,reference_contacts:[...be.reference_contacts||[],le]}))},ft=le=>{Ae(be=>{var Pe;return{...be,reference_contacts:(Pe=be.reference_contacts)==null?void 0:Pe.filter((rt,xt)=>xt!==le)}})},Dt=(le,be,Pe)=>{const rt=[...B.reference_contacts||[]];be==="phone"&&(Pe=We(Pe)),rt[le]={...rt[le],[be]:Pe},Ae(xt=>({...xt,reference_contacts:rt}))},mt=()=>{const le={treatment:"",local:"",frequency:"",medication:""};Ae(be=>({...be,health_treatments:[...be.health_treatments||[],le]}))},Ga=le=>{Ae(be=>{var Pe;return{...be,health_treatments:(Pe=be.health_treatments)==null?void 0:Pe.filter((rt,xt)=>xt!==le)}})},Jt=(le,be,Pe)=>{const rt=[...B.health_treatments||[]];rt[le]={...rt[le],[be]:Pe},Ae(xt=>({...xt,health_treatments:rt}))},At=()=>{const le={commitment:"",responsible:"",network:"",deadline:"",expected_results:"",obtained_results:""};Ae(be=>({...be,commitments:[...be.commitments||[],le]}))},Mt=le=>{Ae(be=>{var Pe;return{...be,commitments:(Pe=be.commitments)==null?void 0:Pe.filter((rt,xt)=>xt!==le)}})},Wt=(le,be,Pe)=>{const rt=[...B.commitments||[]];rt[le]={...rt[le],[be]:Pe},Ae(xt=>({...xt,commitments:rt}))},_t=()=>{const le={institution_name:"",entry_date:"",exit_date:"",motive:""};Ae(be=>({...be,previous_admissions_history:[...be.previous_admissions_history||[],le]}))},Ca=le=>{Ae(be=>{var Pe;return{...be,previous_admissions_history:(Pe=be.previous_admissions_history)==null?void 0:Pe.filter((rt,xt)=>xt!==le)}})},Nt=(le,be,Pe)=>{const rt=[...B.previous_admissions_history||[]];rt[le]={...rt[le],[be]:Pe},Ae(xt=>({...xt,previous_admissions_history:rt}))},Pt=()=>{const le={name:"",age:"",location:"",date:""};Ae(be=>({...be,siblings_details:[...be.siblings_details||[],le]}))},Na=le=>{Ae(be=>{var Pe;return{...be,siblings_details:(Pe=be.siblings_details)==null?void 0:Pe.filter((rt,xt)=>xt!==le)}})},zt=(le,be,Pe)=>{const rt=[...B.siblings_details||[]];rt[le]={...rt[le],[be]:Pe},Ae(xt=>({...xt,siblings_details:rt}))},Ke=le=>{const{name:be,value:Pe,type:rt}=le.target;if(rt==="checkbox"){const xt=le.target.checked;Ae(Ea=>({...Ea,[be]:xt}))}else if(be==="school_phone"){const xt=We(Pe);Ae(Ea=>({...Ea,[be]:xt}))}else Ae(xt=>({...xt,[be]:Pe}))},ra=(le,be,Pe)=>{Ae(rt=>{const xt=rt[le]||[];return Pe?{...rt,[le]:[...xt,be]}:{...rt,[le]:xt.filter(Ea=>Ea!==be)}})},wr=["Foro Central","CIC","S. Felicidade","Pinheirinho","Boqueiro","Bairro Novo"],En=B.forum_vara==="Outro"||B.forum_vara&&!wr.includes(B.forum_vara),zr=async le=>{if(!le.target.files||le.target.files.length===0||!e)return;const be=le.target.files[0];if(n){alert("Upload simulado (Demo)");return}try{const Pe=be.name.split(".").pop(),rt=`${e}/${Math.random()}.${Pe}`,{error:xt}=await Ge.storage.from("child-photos").upload(rt,be);if(xt)throw xt;const{data:Ea}=Ge.storage.from("child-photos").getPublicUrl(rt),{error:aa}=await Ge.from("child_photos").insert([{child_id:e,url:Ea.publicUrl}]);if(aa)throw aa;at(e)}catch(Pe){alert("Erro ao fazer upload: "+Pe.message)}},_r=async le=>{if(le.preventDefault(),!!window.confirm("Ao salvar este PIA, ser iniciada a contagem de 3 meses para a prxima reavaliao. Deseja continuar?")){if(c(!0),p(null),n){setTimeout(()=>{alert(C?"Novo PIA gerado (Demo)! Histrico salvo.":"Salvo com sucesso (Demo)!"),y(!1),k(!1),c(!1)},1e3);return}try{const{data:{user:be}}=await Ge.auth.getUser();if(!be)throw new Error("Usurio no autenticado");const{data:Pe}=await Ge.from("profiles").select("institution_id").eq("id",be.id).single(),rt={...B,pia_status:ce.current,last_pia_update:new Date().toISOString()};if(rt.birth_date===""&&(rt.birth_date=null),rt.entry_date===""&&(rt.entry_date=null),rt.transferred_date===""&&(rt.transferred_date=null),rt.first_admission&&(rt.transferred_from="",rt.transferred_date=null),C){const{data:Ea,error:aa}=await Ge.from("children").select("*").eq("id",e).single();!aa&&Ea&&await Ge.from("pia_history").insert([{child_id:e,snapshot:Ea,created_at:new Date().toISOString(),created_by:be.id,institution_id:Pe==null?void 0:Pe.institution_id}])}const{error:xt}=await Ge.from("children").update(rt).eq("id",e);if(xt)throw xt;alert(C?"Novo PIA gerado com sucesso! O anterior foi arquivado no histrico.":ce.current==="draft"?"Rascunho salvo com sucesso!":"PIA atualizado com sucesso!"),y(!1),k(!1)}catch(be){console.error(be),p(be.message||"Erro ao salvar.")}finally{c(!1)}}},vt=async()=>{var le,be,Pe,rt,xt,Ea;oe(!0);try{const aa=new wt,tr=aa.internal.pageSize.getWidth(),gn=20;let Ft=20;const Or=7,Qe=(kt,ur=!1,Ka=12)=>{aa.setFont("times",ur?"bold":"normal"),aa.setFontSize(Ka);const Ei=aa.splitTextToSize(kt,tr-gn*2);aa.text(Ei,gn,Ft),Ft+=Ei.length*Or,Ft>280&&(aa.addPage(),Ft=20)};if(aa.setFont("times","bold"),aa.setFontSize(16),aa.text("PLANO INDIVIDUAL DE ATENDIMENTO - PIA",tr/2,Ft,{align:"center"}),Ft+=15,O.length>0)try{const kt=new Image;kt.crossOrigin="Anonymous",kt.src=O[0].url,await new Promise(ur=>{kt.onload=ur,kt.onerror=ur}),aa.addImage(kt,"JPEG",(tr-40)/2,Ft,40,53),Ft+=60}catch(kt){console.error("Erro ao carregar imagem para PDF",kt),Qe("[Foto no disponvel]",!1,10)}else Ft+=10;aa.setFontSize(14),aa.setFont("times","bold"),aa.text(((le=B.full_name)==null?void 0:le.toUpperCase())||"NOME NO INFORMADO",tr/2,Ft,{align:"center"}),Ft+=20,Qe("1. IDENTIFICAO / DADOS PESSOAIS",!0,12),Qe(`Data de Nascimento: ${B.birth_date?new Date(B.birth_date).toLocaleDateString("pt-BR"):"-"}`),Qe(`Naturalidade: ${B.naturalness||"-"} - ${B.uf||"-"}`),Qe(`Sexo: ${B.sex==="M"?"Masculino":"Feminino"}`),Qe(`Filiao: Me: ${B.mother_name||"-"} | Pai: ${B.father_name||"-"}`),B.filiation_destituted&&Qe("(Destitudos do poder familiar)"),Qe(`Autos n: ${B.autos_number||"-"}`),Qe(`Vara/Frum: ${B.forum_vara||"-"}`),Qe(`Certido Nascimento: ${B.birth_certificate||"-"}`),Qe(`CPF: ${B.cpf||"-"}`),B.reference_contacts&&B.reference_contacts.length>0&&(Qe("Contatos de Referncia:",!0,11),B.reference_contacts.forEach(kt=>{Qe(`- ${kt.name} (${kt.relationship}): ${kt.phone} - ${kt.address}`)})),Ft+=5,Qe("2. INFORMAES SOBRE ACOLHIMENTO",!0,12),Qe(`Primeiro Acolhimento: ${B.first_admission?"Sim":"No"}`),Qe(`Data de Entrada: ${B.entry_date?new Date(B.entry_date).toLocaleDateString("pt-BR"):"-"}`),B.first_admission||Qe(`Transferido de: ${B.transferred_from||"-"} em ${B.transferred_date?new Date(B.transferred_date).toLocaleDateString("pt-BR"):"-"}`),Qe(`Motivo: ${((be=B.admission_reason_types)==null?void 0:be.join(", "))||"-"}`),B.admission_reason_other&&Qe(`Outros motivos: ${B.admission_reason_other}`),Qe(`rgo Responsvel: ${B.responsible_organ||"-"}`),Qe(`Guia CNJ: ${B.cnj_guide||"-"}`),Qe(`Guia FAS: ${B.fas_guide||"-"}`),Qe(`Profissional Ref.: ${B.reference_professional||"-"}`),Qe(`Conselho Tutelar: ${B.guardianship_council||"-"} (Conselheiro: ${B.counselor_name||"-"})`),B.previous_admissions?(Qe(`Acolhimentos Anteriores: Sim (${B.previous_admissions_local||"-"})`),B.previous_admissions_history&&B.previous_admissions_history.length>0&&B.previous_admissions_history.forEach(kt=>{Qe(`- ${kt.institution_name} (${kt.entry_date?new Date(kt.entry_date).toLocaleDateString("pt-BR"):"?"} a ${kt.exit_date?new Date(kt.exit_date).toLocaleDateString("pt-BR"):"?"}) - ${kt.motive}`)})):Qe("Acolhimentos Anteriores: No"),Ft+=5,Qe("3. VULNERABILIDADES",!0,12),Qe(`Medida Socioeducativa: ${B.socio_educational_measure?`Sim (${B.socio_educational_measure_type})`:"No"}`),Qe(`Ameaa de Morte: ${B.death_threats?"Sim":"No"}`),Qe(`PPCAAM: ${B.ppcaam_inserted?"Inserido":B.ppcaam_evaluated?"Avaliado":"No"}`),B.ppcaam_justification&&Qe(`Justificativa PPCAAM: ${B.ppcaam_justification}`),Qe(`Situao de Rua: ${B.street_situation?"Sim":"No"}`),Ft+=5,Qe("4. CARACTERSTICAS FSICAS",!0,12),Qe(`Cor/Raa: ${B.race_color||"-"}`),Qe(`Cabelo: ${B.hair_color||"-"}`),Qe(`Olhos: ${B.eye_color||"-"}`),Qe(`Outros: ${B.physical_others||"-"}`),Ft+=5,Qe("5. SITUAO FAMILIAR",!0,12),Qe(`Tipo de Famlia: ${B.family_type||"-"}`),Qe(`Responsvel Familiar: ${B.responsible_family||"-"}`),Qe(`Irmos em Acolhimento: ${B.siblings_in_care?"Sim":"No"}`),B.siblings_in_care&&B.siblings_details&&B.siblings_details.length>0&&B.siblings_details.forEach(kt=>{Qe(`- ${kt.name} (${kt.location}) - ${kt.date?new Date(kt.date).toLocaleDateString("pt-BR"):"-"}`)}),B.family_composition&&B.family_composition.length>0&&(Qe("Composio Familiar:",!0,11),B.family_composition.forEach(kt=>{Qe(`- ${kt.name} (${kt.kinship}), ${kt.birth_date?new Date(kt.birth_date).toLocaleDateString("pt-BR"):"-"}, ${kt.occupation||"-"}, R$ ${kt.income||"-"}`)})),Ft+=5,Qe("5.2 HABITAO E VNCULOS",!0,12),Qe(`Moradia: ${B.housing_condition||"-"} (${B.construction_type||"-"})`),Qe(`Infraestrutura: ${[B.housing_water&&"gua",B.housing_sewage&&"Esgoto",B.housing_light&&"Luz"].filter(Boolean).join(", ")||"Nenhuma"}`),Qe(`Visitas de: ${((Pe=B.visits_received)==null?void 0:Pe.join(", "))||"Ningum"}`),Qe(`Frequncia: ${B.visits_frequency||"-"}`),Qe(`Vnculo Preservado: ${B.family_bond_exists?"Sim":"No"}`),Qe(`Destitudo Poder Familiar: ${B.destituted_power||"-"}`),Ft+=5,Qe("5.4 REDE SOCIOASSISTENCIAL",!0,12),Qe(`CRAS: ${B.cras_monitoring||"-"}`),Qe(`CREAS: ${B.creas_monitoring||"-"}`),Qe(`Unidade Sade: ${B.health_unit_monitoring||"-"}`),Qe(`Encaminhamentos: ${B.referrals||"-"}`),Ft+=5,Qe("6. SADE",!0,12),Qe(`Deficincias: ${(rt=B.disabilities)!=null&&rt.length?B.disabilities.join(", "):"Nenhuma declarada"}`),Qe(`CID: ${B.cid||"-"}`),Qe(`Acompanhamento: ${B.health_followup||"-"}`),B.health_treatments&&B.health_treatments.length>0?(Qe("Tratamentos em curso:",!0,11),B.health_treatments.forEach(kt=>{Qe(`- ${kt.treatment} (${kt.medication}): ${kt.frequency} em ${kt.local}`)})):Qe("Nenhum tratamento medicamentoso registrado."),Qe(`Dependncia Qumica: ${B.chemical_dependency?"Sim":"No"}`),B.chemical_dependency&&(Qe(`Substncias: ${((xt=B.drugs_used)==null?void 0:xt.join(", "))||"-"}`),Qe(`Tratamento: ${B.dependency_treatment?"Sim":"No"}`)),Ft+=5,Qe("7. EDUCAO",!0,12),Qe(`Situao: ${B.school_status||"-"}`),Qe(`Nvel: ${B.education_level||"-"}`),Qe(`Escola: ${B.school_name||"-"} (${B.school_phone||"-"})`),Ft+=5,Qe("8. TRABALHO",!0,12),Qe(`Insero: ${B.work_insertion||"-"}`),Ft+=5,Qe("9. OUTROS",!0,12),Qe(`Esporte e Lazer: ${B.sports_leisure||"-"}`),Qe(`Contexto Histrico: ${B.historical_context||"-"}`),Qe(`Situao Atual: ${B.current_situation||"-"}`),Ft+=5,B.commitments&&B.commitments.length>0&&(Qe("12. COMPROMISSOS PACTUADOS",!0,12),B.commitments.forEach(kt=>{Qe(`- ${kt.commitment} (Resp: ${kt.responsible}) - Prazo: ${kt.deadline}`),Qe(`  Rede: ${kt.network} | Resultados Esperados: ${kt.expected_results}`)}),Ft+=5),Qe("13. CONSIDERAES FINAIS",!0,12),Qe(B.final_considerations||"Sem consideraes registradas."),Ft+=20,Ft>220&&(aa.addPage(),Ft=20),aa.setFont("times","bold"),aa.setFontSize(12),aa.text("ASSINATURAS DE COMPROMISSO",gn,Ft),Ft+=15,aa.setFont("times","normal"),aa.text("Assinatura da criana/adolescente: ___________________________________________________",gn,Ft),Ft+=15,aa.text("Assinatura do tcnico de referncia: ___________________________________________________",gn,Ft),Ft+=6,aa.text("******************/FAS************/Psicloga ***********",gn,Ft),Ft+=6,aa.text("*********** / FAS ***********/ CRESS ***********",gn,Ft),Ft+=15,aa.text("Data: ____/____/_______",gn,Ft),aa.save(`PIA_${(Ea=B.full_name)==null?void 0:Ea.replace(/\s+/g,"_")}.pdf`)}catch(aa){console.error("Erro ao gerar PDF:",aa)}finally{oe(!1)}};return d?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gov-700"})}):i.jsxs("div",{className:"max-w-5xl mx-auto pb-20 print:p-0 print:max-w-none relative",children:[!q&&i.jsx("div",{className:"fixed top-24 right-6 z-40 print:hidden",children:i.jsxs("button",{onClick:Z,className:"relative group transition-transform hover:scale-105",title:"Dirio de Acolhimento",children:[i.jsx("div",{className:"absolute top-0 right-0 bg-yellow-200 w-12 h-12 transform rotate-6 shadow-md border border-yellow-300 rounded-sm"}),i.jsx("div",{className:"absolute top-0 right-0 bg-yellow-100 w-12 h-12 transform rotate-3 shadow-md border border-yellow-300 rounded-sm"}),i.jsxs("div",{className:"relative bg-yellow-50 w-12 h-12 shadow-lg border border-yellow-200 flex items-center justify-center hover:bg-yellow-100 transition-colors rounded-sm",children:[i.jsx(w2,{className:"text-yellow-700 w-6 h-6"}),we&&i.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center shadow-sm",children:"!"})]})]})}),se&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm print:hidden p-4",children:i.jsxs("div",{className:"bg-yellow-50 w-full max-w-md rounded-lg shadow-2xl border-2 border-yellow-200 flex flex-col max-h-[80vh] animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"p-4 border-b border-yellow-200 flex justify-between items-center bg-yellow-100 rounded-t-lg",children:[i.jsxs("h3",{className:"font-bold text-yellow-900 flex items-center text-lg",children:[i.jsx(w2,{className:"w-5 h-5 mr-2"}),"Dirio de Acolhimento"]}),i.jsx("button",{onClick:()=>K(!1),className:"text-yellow-800 hover:text-yellow-900 hover:bg-yellow-200 p-1 rounded-full transition-colors",children:i.jsx(Wi,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-yellow-50/50",children:[T.length===0&&i.jsx("p",{className:"text-yellow-700 text-sm italic text-center py-4",children:"Nenhuma anotao registrada."}),T.map(le=>i.jsxs("div",{className:"bg-white p-3 rounded shadow-sm border border-yellow-100 relative group",children:[i.jsx("button",{onClick:()=>ye(le.id),className:"absolute top-2 right-2 text-yellow-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",title:"Excluir nota",children:i.jsx(Cn,{size:14})}),i.jsxs("div",{className:"flex items-center text-xs text-gray-400 mb-1",children:[i.jsx(M0,{className:"w-3 h-3 mr-1"}),new Date(le.created_at).toLocaleString("pt-BR")]}),i.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:le.content})]},le.id))]}),i.jsxs("div",{className:"p-4 border-t border-yellow-200 bg-yellow-100 rounded-b-lg",children:[i.jsx("textarea",{className:"w-full border-yellow-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm p-2 bg-white",rows:2,placeholder:"Nova anotao...",value:F,onChange:le=>ne(le.target.value)}),i.jsx("button",{type:"button",onClick:bt,disabled:de||!F.trim(),className:"mt-2 w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none disabled:opacity-50",children:de?"Salvando...":"Adicionar Nota"})]})]})}),ue&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm print:hidden p-4",children:i.jsxs("div",{className:"bg-white w-full max-w-sm rounded-lg shadow-xl border border-gray-200 flex flex-col max-h-[80vh]",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center bg-gray-50 rounded-t-lg",children:[i.jsx("h3",{className:"font-bold text-gray-900",children:"Selecione a Escolaridade"}),i.jsx("button",{onClick:()=>Ce(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(Wi,{size:20})})]}),i.jsx("div",{className:"overflow-y-auto p-2",children:ke.map(le=>i.jsx("button",{type:"button",onClick:()=>St(le),className:"w-full text-left px-4 py-3 hover:bg-gray-50 rounded-md text-sm text-gray-700 border-b border-gray-100 last:border-0",children:le},le))})]})}),i.jsxs("div",{className:"print:hidden",children:[i.jsx("div",{className:"mb-6 flex items-center justify-between",children:i.jsxs("div",{children:[i.jsxs(Rn,{to:"/",className:"text-gray-500 hover:text-gray-700 flex items-center mb-2 text-sm",children:[i.jsx(ip,{className:"w-4 h-4 mr-1"}),"Voltar ao Painel"]}),i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[i.jsx(Ni,{className:"mr-2 text-[#458C57]"}),C?"Reavaliao do PIA":"Perfil do Acolhido"]}),i.jsx("p",{className:"text-gray-500",children:"Visualizao e edio do Plano Individual de Atendimento (PIA)."}),C&&i.jsx("div",{className:"mt-4 bg-purple-50 border-l-4 border-purple-500 p-4",children:i.jsxs("p",{className:"text-sm text-purple-700",children:[i.jsx("strong",{children:"Modo de Reavaliao:"})," Ao salvar, os dados atuais sero arquivados no histrico e este formulrio definir o novo PIA vigente."]})}),B.pia_status==="draft"&&i.jsxs("div",{className:"mt-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[i.jsx(lc,{className:"w-3 h-3 mr-1"}),"Rascunho"]})]})}),i.jsx("div",{className:"mb-6 border-b border-gray-200",children:i.jsxs("nav",{className:"-mb-px flex space-x-8",children:[i.jsxs("button",{onClick:()=>Oe("profile"),className:`${me==="profile"?"border-[#458C57] text-[#458C57]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center transition-colors`,children:[i.jsx(Ni,{className:"w-4 h-4 mr-2"}),"Perfil Atual"]}),i.jsxs("button",{onClick:()=>Oe("history"),className:`${me==="history"?"border-[#458C57] text-[#458C57]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center transition-colors`,children:[i.jsx(Wm,{className:"w-4 h-4 mr-2"}),"Histrico de PIAs"]})]})}),me==="history"?i.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden animate-in fade-in",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50 flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Histrico de Alteraes (PIA)"}),i.jsxs("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded-full",children:[xe.length," registros"]})]}),i.jsx("ul",{className:"divide-y divide-gray-200",children:xe.length===0?i.jsxs("li",{className:"p-12 text-center text-gray-500 flex flex-col items-center",children:[i.jsx(Wm,{className:"w-12 h-12 text-gray-300 mb-2"}),"Nenhum histrico registrado para este acolhido."]}):xe.map(le=>i.jsxs("li",{className:"p-4 hover:bg-gray-50 flex justify-between items-center transition-colors group",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-blue-50 p-2 rounded-full mr-4 text-blue-600 group-hover:bg-blue-100 transition-colors",children:i.jsx(M0,{size:20})}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["Verso de ",new Date(le.created_at).toLocaleDateString("pt-BR")]}),i.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(le.created_at).toLocaleTimeString("pt-BR"),"  Arquivado por renovao/alterao"]})]})]}),i.jsxs("button",{onClick:()=>tt(le),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#458C57]",children:[i.jsx(up,{className:"w-3 h-3 mr-1"}),"Visualizar"]})]},le.id))})]}):i.jsxs(i.Fragment,{children:[S&&i.jsxs("div",{className:"mb-6 bg-blue-50 border-l-4 border-blue-500 p-4 flex justify-between items-center rounded-r-lg shadow-sm animate-in slide-in-from-top-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Wm,{className:"text-blue-500 w-5 h-5 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-800 font-bold",children:"Modo de Visualizao de Histrico"}),i.jsxs("p",{className:"text-xs text-blue-600",children:["Voc est vendo a verso salva em: ",new Date(S.created_at).toLocaleString("pt-BR")]})]})]}),i.jsx("button",{onClick:ot,className:"px-4 py-2 bg-white text-blue-700 text-sm font-medium rounded border border-blue-200 hover:bg-blue-50 transition-colors shadow-sm",children:"Voltar ao Atual"})]}),i.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6 mb-8 print:break-inside-avoid",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[i.jsx("div",{className:"w-full md:w-1/3",children:i.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-gray-200 flex items-center justify-center relative group",children:[O.length>0?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:O[0].url,alt:"Foto Atual",className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs py-1 text-center backdrop-blur-sm",children:new Date(O[0].created_at).toLocaleDateString("pt-BR")})]}):i.jsx(Ni,{className:"w-24 h-24 text-gray-300"}),O.length>0&&i.jsx("button",{onClick:()=>Ee(O[0].id),className:"absolute top-2 right-2 bg-white/80 p-1.5 rounded-full text-red-500 hover:bg-red-50 hover:text-red-700 transition-colors z-10",title:"Excluir foto",children:i.jsx(Cn,{size:16})}),_&&i.jsxs("label",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:zr}),i.jsxs("div",{className:"text-white flex flex-col items-center",children:[i.jsx(pf,{className:"w-8 h-8 mb-1"}),i.jsx("span",{className:"text-sm font-bold",children:"Alterar Foto"})]})]})]})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Galeria de Fotos"}),i.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[O.slice(1).map(le=>i.jsxs("div",{className:"aspect-square rounded-md overflow-hidden border border-gray-200 relative group",children:[i.jsx("img",{src:le.url,alt:"Histrico",className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-[10px] py-0.5 text-center backdrop-blur-sm",children:new Date(le.created_at).toLocaleDateString("pt-BR")}),i.jsx("button",{onClick:()=>Ee(le.id),className:"absolute top-1 right-1 bg-white/80 p-1 rounded-full text-red-500 hover:bg-red-50 hover:text-red-700 opacity-0 group-hover:opacity-100 transition-opacity",title:"Excluir foto",children:i.jsx(Cn,{size:14})})]},le.id)),O.length<=1&&i.jsx("p",{className:"text-sm text-gray-500 col-span-4",children:"Nenhuma foto antiga."})]})]})]})}),i.jsxs("form",{onSubmit:_r,className:"space-y-8",children:[f&&i.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-start",children:[i.jsx(Au,{className:"w-5 h-5 text-red-500 mr-2 mt-0.5"}),i.jsx("p",{className:"text-sm text-red-700",children:f})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsxs("button",{type:"button",onClick:()=>he("identification"),className:"w-full flex justify-between items-center bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800 hover:bg-gray-200 transition-colors text-left",children:[i.jsx("span",{children:"1. IDENTIFICAO / DADOS PESSOAIS"}),G.identification?i.jsx(Co,{size:20}):i.jsx(Ao,{size:20})]}),G.identification&&i.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Nome Completo"}),i.jsx("input",{type:"text",name:"full_name",value:B.full_name,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900 focus:ring-[#458C57] focus:border-[#458C57]",required:!0,disabled:!_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Data Nascimento"}),i.jsx("input",{type:"date",name:"birth_date",value:B.birth_date,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900 focus:ring-[#458C57] focus:border-[#458C57]",required:!0,disabled:!_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Naturalidade"}),i.jsx("input",{type:"text",name:"naturalness",value:B.naturalness,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"UF"}),i.jsx("input",{type:"text",name:"uf",maxLength:2,value:B.uf,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900 uppercase",disabled:!_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Sexo"}),i.jsxs("select",{name:"sex",value:B.sex,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_,children:[i.jsx("option",{value:"M",children:"Masculino"}),i.jsx("option",{value:"F",children:"Feminino"})]})]}),i.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Nome da Me"}),i.jsx("input",{type:"text",name:"mother_name",value:B.mother_name,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Nome do Pai"}),i.jsx("input",{type:"text",name:"father_name",value:B.father_name,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]}),i.jsxs("div",{className:"md:col-span-2 flex items-center",children:[i.jsx("input",{type:"checkbox",name:"filiation_destituted",checked:B.filiation_destituted,onChange:Ke,className:"mr-2",disabled:!_}),i.jsx("span",{className:"text-sm text-gray-700",children:"Destitudos do poder familiar?"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Autos n"}),i.jsx("input",{type:"text",name:"autos_number",value:B.autos_number,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Vara / Frum"}),i.jsxs("select",{name:"forum_vara",value:En?"Outro":B.forum_vara,onChange:le=>le.target.value==="Outro"?Ae(be=>({...be,forum_vara:"Outro"})):Ke(le),className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_,children:[i.jsx("option",{value:"",children:"Selecione..."}),wr.map(le=>i.jsx("option",{value:le,children:le},le)),i.jsx("option",{value:"Outro",children:"Outro"})]}),En&&i.jsx("input",{type:"text",name:"forum_vara",value:B.forum_vara==="Outro"?"":B.forum_vara,onChange:Ke,className:"mt-2 w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Especifique a Vara/Frum",disabled:!_})]}),i.jsx("div",{className:"md:col-span-3 border-t pt-4 mt-2",children:i.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Documentao"})}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Certido Nascimento"}),i.jsx("input",{type:"text",name:"birth_certificate",value:B.birth_certificate,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Matrcula / Livro / Folha",disabled:!_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"CPF"}),i.jsx("input",{type:"text",name:"cpf",value:B.cpf,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]}),i.jsxs("div",{className:"md:col-span-3",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Contatos de Referncia"}),i.jsx("div",{className:"overflow-x-auto mb-2",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-md",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{className:"divide-x divide-gray-200",children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nome"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Telefone"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Vnculo"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Endereo/Obs"}),i.jsx("th",{className:"px-3 py-2"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(Fr=B.reference_contacts)==null?void 0:Fr.map((le,be)=>i.jsxs("tr",{className:"border-b border-gray-200 divide-x divide-gray-200",children:[i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.name,onChange:Pe=>Dt(be,"name",Pe.target.value),placeholder:"Nome",disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.phone,onChange:Pe=>Dt(be,"phone",Pe.target.value),placeholder:"Tel",disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.relationship,onChange:Pe=>Dt(be,"relationship",Pe.target.value),placeholder:"Ex: Tia",disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.address,onChange:Pe=>Dt(be,"address",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1 text-center",children:_&&i.jsx("button",{type:"button",onClick:()=>ft(be),className:"text-red-500 hover:text-red-700",children:i.jsx(Cn,{size:16})})})]},be))})]})}),_&&i.jsxs("button",{type:"button",onClick:Yt,className:"text-sm text-[#458C57] font-medium flex items-center",children:[i.jsx(cr,{size:16,className:"mr-1"})," Adicionar Contato"]})]})]})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsxs("button",{type:"button",onClick:()=>he("admission"),className:"w-full flex justify-between items-center bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800 hover:bg-gray-200 transition-colors text-left",children:[i.jsx("span",{children:"2. INFORMAES SOBRE ACOLHIMENTO"}),G.admission?i.jsx(Co,{size:20}):i.jsx(Ao,{size:20})]}),G.admission&&i.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{className:"md:col-span-2 bg-blue-50 p-3 rounded-md border border-blue-100 mb-2",children:i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:B.first_admission,onChange:le=>Ae(be=>({...be,first_admission:le.target.checked})),className:"w-5 h-5 text-[#458C57] rounded focus:ring-[#458C57] border-gray-300 mr-3",disabled:!_}),i.jsx("span",{className:"font-bold text-gray-900",children:"Este  o primeiro acolhimento institucional da criana/adolescente"})]})}),!B.first_admission&&i.jsx("div",{className:"md:col-span-2 mb-2",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Acolhimentos Anteriores?"}),i.jsxs("label",{className:"inline-flex items-center",children:[i.jsx("input",{type:"radio",name:"previous_admissions",checked:B.previous_admissions===!0,onChange:()=>Ae(le=>({...le,previous_admissions:!0})),className:"mr-1",disabled:!_})," Sim"]}),i.jsxs("label",{className:"inline-flex items-center",children:[i.jsx("input",{type:"radio",name:"previous_admissions",checked:B.previous_admissions===!1,onChange:()=>Ae(le=>({...le,previous_admissions:!1})),className:"mr-1",disabled:!_})," No"]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Data Acolhimento"}),i.jsx("input",{type:"date",name:"entry_date",value:B.entry_date,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",required:!0,disabled:!_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"rgo Responsvel"}),i.jsx("input",{type:"text",name:"responsible_organ",value:B.responsible_organ,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]}),!B.first_admission&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Transferido de"}),i.jsx("input",{type:"text",name:"transferred_from",value:B.transferred_from,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Data Transferncia"}),i.jsx("input",{type:"date",name:"transferred_date",value:B.transferred_date,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]}),i.jsxs("div",{className:"md:col-span-2 mt-4",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Histrico de Acolhimentos Anteriores"}),i.jsx("div",{className:"overflow-x-auto mb-2",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-md",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{className:"divide-x divide-gray-200",children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Instituio / Casa Lar"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Data Entrada"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Data Sada"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Motivo Sada/Reingresso"}),i.jsx("th",{className:"px-3 py-2"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(Tr=B.previous_admissions_history)==null?void 0:Tr.map((le,be)=>i.jsxs("tr",{className:"border-b border-gray-200 divide-x divide-gray-200",children:[i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.institution_name,onChange:Pe=>Nt(be,"institution_name",Pe.target.value),placeholder:"Nome do local",disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"date",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.entry_date,onChange:Pe=>Nt(be,"entry_date",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"date",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.exit_date,onChange:Pe=>Nt(be,"exit_date",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.motive,onChange:Pe=>Nt(be,"motive",Pe.target.value),placeholder:"Motivo",disabled:!_})}),i.jsx("td",{className:"p-1 text-center",children:_&&i.jsx("button",{type:"button",onClick:()=>Ca(be),className:"text-red-500 hover:text-red-700",children:i.jsx(Cn,{size:16})})})]},be))})]})}),_&&i.jsxs("button",{type:"button",onClick:_t,className:"text-sm text-[#458C57] font-medium flex items-center",children:[i.jsx(cr,{size:16,className:"mr-1"})," Adicionar Histrico"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Guia CNJ"}),i.jsx("input",{type:"text",name:"cnj_guide",value:B.cnj_guide,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Guia FAS"}),i.jsx("input",{type:"text",name:"fas_guide",value:B.fas_guide,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Profissional Referncia (Ncleo Psicossocial Vara Infncia)"}),i.jsx("input",{type:"text",name:"reference_professional",value:B.reference_professional,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]}),i.jsxs("div",{className:"md:col-span-2 border-t pt-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Motivo do Acolhimento"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Violncia Domstica","Situao de Rua","Suspeita de Abuso Sexual","Explorao Sexual","Conflito com a Lei","Ameaa de Morte","Vnculos Rompidos"].map(le=>{var be;return i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:(be=B.admission_reason_types)==null?void 0:be.includes(le),onChange:Pe=>ra("admission_reason_types",le,Pe.target.checked),disabled:!_}),i.jsx("span",{className:"text-sm text-gray-700",children:le})]},le)})}),i.jsx("input",{type:"text",name:"admission_reason_other",value:B.admission_reason_other,onChange:Ke,className:"mt-2 w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Outros (especifique)",disabled:!_})]}),i.jsxs("div",{className:"md:col-span-2 grid grid-cols-2 gap-4 pt-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Conselho Tutelar Ref."}),i.jsx("input",{type:"text",name:"guardianship_council",value:B.guardianship_council,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Nome Conselheiro"}),i.jsx("input",{type:"text",name:"counselor_name",value:B.counselor_name,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]})]})]})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsxs("button",{type:"button",onClick:()=>he("vulnerabilities"),className:"w-full flex justify-between items-center bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800 hover:bg-gray-200 transition-colors text-left",children:[i.jsx("span",{children:"3. VULNERABILIDADES"}),G.vulnerabilities?i.jsx(Co,{size:20}):i.jsx(Ao,{size:20})]}),G.vulnerabilities&&i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900 w-64",children:"Em cumprimento de medida socioeducativa:"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"socio_educational_measure",checked:B.socio_educational_measure,onChange:()=>Ae(le=>({...le,socio_educational_measure:!0})),disabled:!_})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"socio_educational_measure",checked:!B.socio_educational_measure,onChange:()=>Ae(le=>({...le,socio_educational_measure:!1})),disabled:!_})," No"]})]}),B.socio_educational_measure&&i.jsxs("select",{name:"socio_educational_measure_type",value:B.socio_educational_measure_type,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_,children:[i.jsx("option",{value:"",children:"Selecione a medida..."}),i.jsx("option",{value:"LA",children:"Liberdade Assistida (LA)"}),i.jsx("option",{value:"PSC",children:"Prestao de Servio Comunitrio"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900 w-64",children:"Ameaa de morte ps-acolhimento:"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"death_threats",checked:B.death_threats,onChange:()=>Ae(le=>({...le,death_threats:!0})),disabled:!_})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"death_threats",checked:!B.death_threats,onChange:()=>Ae(le=>({...le,death_threats:!1})),disabled:!_})," No"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900 w-64",children:"Avaliado pelo PPCAAM:"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"ppcaam_evaluated",checked:B.ppcaam_evaluated,onChange:()=>Ae(le=>({...le,ppcaam_evaluated:!0})),disabled:!_})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"ppcaam_evaluated",checked:!B.ppcaam_evaluated,onChange:()=>Ae(le=>({...le,ppcaam_evaluated:!1})),disabled:!_})," No"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900 w-64",children:"Inserido no PPCAAM:"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"ppcaam_inserted",checked:B.ppcaam_inserted,onChange:()=>Ae(le=>({...le,ppcaam_inserted:!0})),disabled:!_})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"ppcaam_inserted",checked:!B.ppcaam_inserted,onChange:()=>Ae(le=>({...le,ppcaam_inserted:!1})),disabled:!_})," No"]})]}),i.jsx("input",{type:"text",name:"ppcaam_justification",value:B.ppcaam_justification,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Justifique (PPCAAM)",disabled:!_}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900 w-64",children:"Vivncia em situao de rua:"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"street_situation",checked:B.street_situation,onChange:()=>Ae(le=>({...le,street_situation:!0})),disabled:!_})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"street_situation",checked:!B.street_situation,onChange:()=>Ae(le=>({...le,street_situation:!1})),disabled:!_})," No"]})]})]})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsxs("button",{type:"button",onClick:()=>he("physical"),className:"w-full flex justify-between items-center bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800 hover:bg-gray-200 transition-colors text-left",children:[i.jsx("span",{children:"4. CARACTERSTICAS FSICAS"}),G.physical?i.jsx(Co,{size:20}):i.jsx(Ao,{size:20})]}),G.physical&&i.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Raa/Cor"}),i.jsxs("select",{name:"race_color",value:B.race_color,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_,children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Branca",children:"Branca"}),i.jsx("option",{value:"Negra",children:"Negra"}),i.jsx("option",{value:"Amarela",children:"Amarela"}),i.jsx("option",{value:"Parda",children:"Parda"}),i.jsx("option",{value:"Indgena",children:"Indgena"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Cor Cabelo"}),i.jsxs("select",{name:"hair_color",value:B.hair_color,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_,children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Preto",children:"Preto"}),i.jsx("option",{value:"Castanho Escuro",children:"Castanho Escuro"}),i.jsx("option",{value:"Castanho Claro",children:"Castanho Claro"}),i.jsx("option",{value:"Louro",children:"Louro"}),i.jsx("option",{value:"Ruivo",children:"Ruivo"}),i.jsx("option",{value:"Grisalho",children:"Grisalho"}),i.jsx("option",{value:"Branco",children:"Branco"}),i.jsx("option",{value:"Outro",children:"Outro"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Cor Olhos"}),i.jsxs("select",{name:"eye_color",value:B.eye_color,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_,children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Castanho",children:"Castanho"}),i.jsx("option",{value:"Preto",children:"Preto"}),i.jsx("option",{value:"Azul",children:"Azul"}),i.jsx("option",{value:"Verde",children:"Verde"}),i.jsx("option",{value:"Mel",children:"Mel"}),i.jsx("option",{value:"Outro",children:"Outro"})]})]}),i.jsxs("div",{className:"md:col-span-3",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Outros (Cicatrizes, Tatuagens)"}),i.jsx("input",{type:"text",name:"physical_others",value:B.physical_others,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]})]})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsxs("button",{type:"button",onClick:()=>he("family"),className:"w-full flex justify-between items-center bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800 hover:bg-gray-200 transition-colors text-left",children:[i.jsx("span",{children:"5. SITUAO FAMILIAR"}),G.family?i.jsx(Co,{size:20}):i.jsx(Ao,{size:20})]}),G.family&&i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-1",children:"Tipo de Famlia"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"family_type",value:"Biolgica",checked:B.family_type==="Biolgica",onChange:Ke,disabled:!_})," Biolgica"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"family_type",value:"Substituta",checked:B.family_type==="Substituta",onChange:Ke,disabled:!_})," Substituta"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"family_type",value:"Extensa",checked:B.family_type==="Extensa",onChange:Ke,disabled:!_})," Extensa"]})]})]}),i.jsx("h4",{className:"font-bold text-gray-700 mb-2 border-b pb-1",children:"5.1 Composio Familiar"}),i.jsxs("div",{className:"overflow-x-auto mb-4",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-md",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{className:"divide-x divide-gray-200",children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nome"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Parentesco"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nascimento"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Escolaridade"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Ocupao"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Renda (R$)"}),i.jsx("th",{className:"px-3 py-2"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(Qn=B.family_composition)==null?void 0:Qn.map((le,be)=>i.jsxs("tr",{className:"border-b border-gray-200 divide-x divide-gray-200",children:[i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.name,onChange:Pe=>$t(be,"name",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.kinship,onChange:Pe=>$t(be,"kinship",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"date",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.birth_date,onChange:Pe=>$t(be,"birth_date",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900 cursor-pointer",value:le.education_level,onClick:()=>{_&&(ge(be),Ce(!0))},readOnly:!0,placeholder:"Selecione...",disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.occupation,onChange:Pe=>$t(be,"occupation",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.income,onChange:Pe=>$t(be,"income",Pe.target.value),placeholder:"R$ 0,00",disabled:!_})}),i.jsx("td",{className:"p-1 text-center",children:_&&i.jsx("button",{type:"button",onClick:()=>Ot(be),className:"text-red-500",children:i.jsx(Cn,{size:16})})})]},be))})]}),_&&i.jsxs("button",{type:"button",onClick:Kt,className:"mt-2 text-sm text-[#458C57] font-medium flex items-center",children:[i.jsx(cr,{size:16,className:"mr-1"})," Adicionar Familiar"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Responsvel Familiar"}),i.jsxs("select",{name:"responsible_family",value:B.responsible_family,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_,children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Pai e Me",children:"Pai e Me"}),i.jsx("option",{value:"Me",children:"Me"}),i.jsx("option",{value:"Pai",children:"Pai"}),i.jsx("option",{value:"Avs",children:"Avs"}),i.jsx("option",{value:"Outros",children:"Outros"})]})]}),i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[i.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Irmos em acolhimento?"}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"siblings_in_care",checked:B.siblings_in_care,onChange:()=>Ae(le=>({...le,siblings_in_care:!0})),disabled:!_})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"siblings_in_care",checked:!B.siblings_in_care,onChange:()=>Ae(le=>({...le,siblings_in_care:!1})),disabled:!_})," No"]})]})}),B.siblings_in_care&&i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Detalhes dos Irmos"}),i.jsx("div",{className:"overflow-x-auto mb-2",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-md",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{className:"divide-x divide-gray-200",children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Nome"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Idade"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Local de Acolhimento"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Data"}),i.jsx("th",{className:"px-3 py-2"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(er=B.siblings_details)==null?void 0:er.map((le,be)=>i.jsxs("tr",{className:"border-b border-gray-200 divide-x divide-gray-200",children:[i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.name,onChange:Pe=>zt(be,"name",Pe.target.value),placeholder:"Nome",disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.age,onChange:Pe=>zt(be,"age",Pe.target.value),placeholder:"Idade",disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.location,onChange:Pe=>zt(be,"location",Pe.target.value),placeholder:"Local",disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"date",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.date,onChange:Pe=>zt(be,"date",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1 text-center",children:_&&i.jsx("button",{type:"button",onClick:()=>Na(be),className:"text-red-500 hover:text-red-700",children:i.jsx(Cn,{size:16})})})]},be))})]})}),_&&i.jsxs("button",{type:"button",onClick:Pt,className:"text-sm text-[#458C57] font-medium flex items-center",children:[i.jsx(cr,{size:16,className:"mr-1"})," Adicionar Irmo"]})]})]}),i.jsx("h4",{className:"font-bold text-gray-700 mb-2 border-b pb-1 pt-2",children:"5.2 Situao Habitacional e Vnculo (5.3)"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Moradia"}),i.jsxs("select",{name:"housing_condition",value:B.housing_condition,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_,children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Prpria",children:"Prpria"}),i.jsx("option",{value:"Alugada",children:"Alugada"}),i.jsx("option",{value:"Cedida",children:"Cedida"}),i.jsx("option",{value:"Irregular",children:"Ocupao Irregular"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Construo"}),i.jsxs("select",{name:"construction_type",value:B.construction_type,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_,children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Alvenaria",children:"Alvenaria"}),i.jsx("option",{value:"Madeira",children:"Madeira"}),i.jsx("option",{value:"Mista",children:"Mista"}),i.jsx("option",{value:"Taipa",children:"Taipa"})]})]}),i.jsxs("div",{className:"md:col-span-2 flex gap-6",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:B.housing_water,onChange:le=>Ae(be=>({...be,housing_water:le.target.checked})),className:"mr-2",disabled:!_})," gua"]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:B.housing_sewage,onChange:le=>Ae(be=>({...be,housing_sewage:le.target.checked})),className:"mr-2",disabled:!_})," Esgoto"]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:B.housing_light,onChange:le=>Ae(be=>({...be,housing_light:le.target.checked})),className:"mr-2",disabled:!_})," Luz"]})]}),i.jsxs("div",{className:"md:col-span-2 mt-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Recebe visitas de:"}),i.jsxs("label",{className:"flex items-center text-sm font-bold text-gray-900 mb-2",children:[i.jsx("input",{type:"checkbox",checked:(ka=B.visits_received)==null?void 0:ka.includes("No ocorrem"),onChange:le=>{le.target.checked?Ae(be=>({...be,visits_received:["No ocorrem"]})):Ae(be=>({...be,visits_received:[]}))},className:"mr-2",disabled:!_}),"No ocorrem"]}),(Ya=B.visits_received)!=null&&Ya.includes("No ocorrem")?i.jsxs("div",{className:"mt-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Motivo da no ocorrncia"}),i.jsx("input",{type:"text",name:"visits_non_occurrence_reason",value:B.visits_non_occurrence_reason||"",onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Especifique o motivo...",disabled:!_})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex gap-4 flex-wrap",children:["Pais","Me","Pai","Irmos","Parentes","Outros"].map(le=>{var be;return i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("input",{type:"checkbox",checked:(be=B.visits_received)==null?void 0:be.includes(le),onChange:Pe=>ra("visits_received",le,Pe.target.checked),className:"mr-1",disabled:!_})," ",le]},le)})}),i.jsx("label",{className:"block text-sm font-bold text-gray-900 mt-2",children:"Frequncia das Visitas"}),i.jsxs("select",{name:"visits_frequency",value:B.visits_frequency,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_,children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Semanal",children:"Semanal"}),i.jsx("option",{value:"Quinzenal",children:"Quinzenal"}),i.jsx("option",{value:"Mensal",children:"Mensal"}),i.jsx("option",{value:"Bimestral",children:"Bimestral"}),i.jsx("option",{value:"Semestral",children:"Semestral"}),i.jsx("option",{value:"Espordica",children:"Espordica"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Vnculo preservado?"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"family_bond_exists",checked:B.family_bond_exists,onChange:()=>Ae(le=>({...le,family_bond_exists:!0})),disabled:!_})," Sim"]}),i.jsxs("label",{children:[i.jsx("input",{type:"radio",name:"family_bond_exists",checked:!B.family_bond_exists,onChange:()=>Ae(le=>({...le,family_bond_exists:!1})),disabled:!_})," No"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Destitudo poder familiar?"}),i.jsxs("select",{name:"destituted_power",value:B.destituted_power,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_,children:[i.jsx("option",{value:"",children:"Selecione..."}),i.jsx("option",{value:"Sim",children:"Sim"}),i.jsx("option",{value:"No",children:"No"}),i.jsx("option",{value:"Em anlise",children:"Em anlise"})]})]})]}),i.jsx("h4",{className:"font-bold text-gray-700 mb-2 border-b pb-1 pt-4",children:"5.4 Rede Socioassistencial"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",name:"cras_monitoring",value:B.cras_monitoring,onChange:Ke,className:"border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"CRAS (Qual?)",disabled:!_}),i.jsx("input",{type:"text",name:"creas_monitoring",value:B.creas_monitoring,onChange:Ke,className:"border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"CREAS (Qual?)",disabled:!_}),i.jsx("input",{type:"text",name:"health_unit_monitoring",value:B.health_unit_monitoring,onChange:Ke,className:"border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Unidade Sade (Qual?)",disabled:!_}),i.jsx("input",{type:"text",name:"referrals",value:B.referrals,onChange:Ke,className:"border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Encaminhamentos",disabled:!_})]})]})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsxs("button",{type:"button",onClick:()=>he("health"),className:"w-full flex justify-between items-center bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800 hover:bg-gray-200 transition-colors text-left",children:[i.jsx("span",{children:"6. SITUAO DE SADE"}),G.health?i.jsx(Co,{size:20}):i.jsx(Ao,{size:20})]}),G.health&&i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Deficincia"}),i.jsx("div",{className:"mb-2",children:i.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:[i.jsx("input",{type:"checkbox",checked:v,onChange:le=>{j(le.target.checked),le.target.checked||Ae(be=>({...be,disabilities:[]}))},className:"mr-2",disabled:!_}),"Possui deficincia"]})}),v&&i.jsx("div",{className:"flex gap-4 flex-wrap transition-opacity duration-200",children:["Mental","Visual","Auditiva","Fsica","Down"].map(le=>{var be;return i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("input",{type:"checkbox",checked:(be=B.disabilities)==null?void 0:be.includes(le),onChange:Pe=>ra("disabilities",le,Pe.target.checked),className:"mr-1",disabled:!_})," ",le]},le)})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"CID"}),i.jsx("input",{type:"text",name:"cid",value:B.cid,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"Acompanhamento de sade"}),i.jsx("input",{type:"text",name:"health_followup",value:B.health_followup,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_})]})]}),i.jsx("h4",{className:"font-bold text-gray-700 mb-2",children:"Tratamentos / Medicamentos"}),i.jsxs("div",{className:"overflow-x-auto mb-4",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-md",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{className:"divide-x divide-gray-200",children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Tratamento"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Local"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Frequncia"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Medicamento"}),i.jsx("th",{className:"px-3 py-2"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(cn=B.health_treatments)==null?void 0:cn.map((le,be)=>i.jsxs("tr",{className:"border-b border-gray-200 divide-x divide-gray-200",children:[i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.treatment,onChange:Pe=>Jt(be,"treatment",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.local,onChange:Pe=>Jt(be,"local",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.frequency,onChange:Pe=>Jt(be,"frequency",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.medication,onChange:Pe=>Jt(be,"medication",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1 text-center",children:_&&i.jsx("button",{type:"button",onClick:()=>Ga(be),className:"text-red-500",children:i.jsx(Cn,{size:16})})})]},be))})]}),_&&i.jsxs("button",{type:"button",onClick:mt,className:"mt-2 text-sm text-[#458C57] font-medium flex items-center",children:[i.jsx(cr,{size:16,className:"mr-1"})," Adicionar Tratamento"]})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("label",{className:"flex items-center font-bold text-gray-900 mb-2",children:[i.jsx("input",{type:"checkbox",checked:!B.chemical_dependency,onChange:le=>Ae(be=>({...be,chemical_dependency:!le.target.checked})),className:"mr-2",disabled:!_}),"No possui dependncia qumica"]}),B.chemical_dependency&&i.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[i.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Drogas Utilizadas:"}),i.jsx("div",{className:"flex gap-4 flex-wrap mt-1",children:["lcool","Tabaco","Cocana","Crack","Maconha","Inalantes"].map(le=>{var be;return i.jsxs("label",{className:"flex items-center text-sm",children:[i.jsx("input",{type:"checkbox",checked:(be=B.drugs_used)==null?void 0:be.includes(le),onChange:Pe=>ra("drugs_used",le,Pe.target.checked),className:"mr-1",disabled:!_})," ",le]},le)})}),i.jsx("div",{className:"mt-2",children:i.jsxs("label",{className:"flex items-center text-sm text-gray-900",children:[i.jsx("input",{type:"checkbox",checked:B.dependency_treatment,onChange:le=>Ae(be=>({...be,dependency_treatment:le.target.checked})),className:"mr-2",disabled:!_})," Realiza tratamento?"]})})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden h-fit",children:[i.jsxs("button",{type:"button",onClick:()=>he("education"),className:"w-full flex justify-between items-center bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800 hover:bg-gray-200 transition-colors text-left",children:[i.jsx("span",{children:"7. SITUAO EDUCACIONAL"}),G.education?i.jsx(Co,{size:20}):i.jsx(Ao,{size:20})]}),G.education&&i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("select",{name:"school_status",value:B.school_status,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_,children:[i.jsx("option",{value:"",children:"Situao Escolar..."}),i.jsx("option",{value:"Estuda atualmente",children:"Estuda atualmente"}),i.jsx("option",{value:"No estuda",children:"No estuda"}),i.jsx("option",{value:"Nunca estudou",children:"Nunca estudou"})]}),B.school_status!=="No estuda"&&B.school_status!=="Nunca estudou"&&i.jsxs(i.Fragment,{children:[i.jsxs("select",{name:"education_level",value:B.education_level,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_,children:[i.jsx("option",{value:"",children:"Nvel..."}),i.jsx("option",{value:"Infantil",children:"Educao Infantil"}),i.jsx("option",{value:"Fundamental",children:"Ens. Fundamental"}),i.jsx("option",{value:"Mdio",children:"Ens. Mdio"}),i.jsx("option",{value:"EJA",children:"EJA"}),i.jsx("option",{value:"Especial",children:"Especial"})]}),i.jsx("input",{type:"text",name:"school_name",value:B.school_name,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Nome Escola",disabled:!_}),i.jsx("input",{type:"text",name:"school_phone",value:B.school_phone,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Telefone",disabled:!_})]})]})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden h-fit",children:[i.jsxs("button",{type:"button",onClick:()=>he("work"),className:"w-full flex justify-between items-center bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800 hover:bg-gray-200 transition-colors text-left",children:[i.jsx("span",{children:"8. TRABALHO / PROFISSIONALIZAO"}),G.work?i.jsx(Co,{size:20}):i.jsx(Ao,{size:20})]}),G.work&&i.jsxs("div",{className:"p-6",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Insero no Mundo do Trabalho"}),i.jsxs("select",{name:"work_insertion",value:B.work_insertion,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",disabled:!_,children:[i.jsx("option",{value:"No se aplica",children:"No se aplica"}),i.jsx("option",{value:"Sim",children:"Sim (Especifique abaixo)"})]}),B.work_insertion==="Sim"&&i.jsx("input",{type:"text",name:"work_insertion_details",className:"mt-2 w-full border-gray-300 rounded-md border p-2 text-gray-900",placeholder:"Qual?",disabled:!_})]})]})]}),i.jsxs("section",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[i.jsxs("button",{type:"button",onClick:()=>he("others"),className:"w-full flex justify-between items-center bg-gray-100 px-6 py-3 border-b border-gray-200 font-bold text-gray-800 hover:bg-gray-200 transition-colors text-left",children:[i.jsx("span",{children:"OUTROS (9-13)"}),G.others?i.jsx(Co,{size:20}):i.jsx(Ao,{size:20})]}),G.others&&i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"9. Esporte e Lazer"}),i.jsx("textarea",{name:"sports_leisure",value:B.sports_leisure,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",rows:2,disabled:!_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"10. Contexto Histrico"}),i.jsx("textarea",{name:"historical_context",value:B.historical_context,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",rows:3,disabled:!_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"11. Situao Atual"}),i.jsx("textarea",{name:"current_situation",value:B.current_situation,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",rows:3,disabled:!_})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"12. Compromissos Pactuados"}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200 rounded-md",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{className:"divide-x divide-gray-200",children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Compromisso"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Responsvel"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Rede"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Prazo"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Res. Esperados"}),i.jsx("th",{className:"px-3 py-2"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(ls=B.commitments)==null?void 0:ls.map((le,be)=>i.jsxs("tr",{className:"border-b border-gray-200 divide-x divide-gray-200",children:[i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.commitment,onChange:Pe=>Wt(be,"commitment",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.responsible,onChange:Pe=>Wt(be,"responsible",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.network,onChange:Pe=>Wt(be,"network",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.deadline,onChange:Pe=>Wt(be,"deadline",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1",children:i.jsx("input",{type:"text",className:"w-full border-gray-300 rounded text-sm p-1 text-gray-900",value:le.expected_results,onChange:Pe=>Wt(be,"expected_results",Pe.target.value),disabled:!_})}),i.jsx("td",{className:"p-1 text-center",children:_&&i.jsx("button",{type:"button",onClick:()=>Mt(be),className:"text-red-500",children:i.jsx(Cn,{size:16})})})]},be))})]}),_&&i.jsxs("button",{type:"button",onClick:At,className:"mt-2 text-sm text-[#458C57] font-medium flex items-center",children:[i.jsx(cr,{size:16,className:"mr-1"})," Adicionar Compromisso"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-900",children:"13. Consideraes Finais"}),i.jsx("textarea",{name:"final_considerations",value:B.final_considerations,onChange:Ke,className:"w-full border-gray-300 rounded-md border p-2 text-gray-900",rows:3,disabled:!_})]})]})]}),i.jsx("div",{className:"flex justify-end pt-4 gap-3 sticky bottom-0 bg-gray-50 p-4 border-t border-gray-200 shadow-inner print:hidden",children:_?i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",onClick:()=>{y(!1),e&&X(e)},className:"bg-white py-2 px-6 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#458C57]",children:"Cancelar"}),i.jsxs("button",{type:"submit",onClick:()=>ce.current="draft",formNoValidate:!0,disabled:l,className:"bg-white py-2 px-6 border border-[#458C57] rounded-md shadow-sm text-sm font-medium text-[#458C57] hover:bg-[#88F2A2]/10 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#458C57] disabled:opacity-50 inline-flex items-center",children:[i.jsx(lc,{className:"w-4 h-4 mr-2"})," Salvar Rascunho"]}),i.jsx("button",{type:"submit",onClick:()=>ce.current="completed",disabled:l,className:"inline-flex justify-center py-2 px-6 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-[#458C57] hover:bg-[#367044] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#458C57] disabled:opacity-50",children:l?"Salvando...":i.jsxs(i.Fragment,{children:[i.jsx(cc,{className:"w-4 h-4 mr-2"})," Salvar Completo"]})})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",onClick:()=>a("/"),className:"bg-white py-2 px-6 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#458C57]",children:"Voltar"}),!S&&!q&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{type:"button",onClick:le=>{le.preventDefault(),y(!0),k(!0),window.scrollTo(0,0)},className:"inline-flex justify-center py-2 px-6 border border-purple-600 shadow-sm text-sm font-medium rounded-md text-purple-600 bg-white hover:bg-purple-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[i.jsx(Lx,{className:"w-4 h-4 mr-2"})," Reavaliao"]}),i.jsxs("button",{type:"button",onClick:le=>{le.preventDefault(),y(!0)},className:"inline-flex justify-center py-2 px-6 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-[#458C57] hover:bg-[#367044] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#458C57]",children:[i.jsx(Ox,{className:"w-4 h-4 mr-2"})," Alterar"]})]}),i.jsx("button",{type:"button",onClick:vt,disabled:$,className:"ml-3 inline-flex justify-center py-2 px-6 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#458C57] disabled:opacity-50",children:$?"Gerando...":i.jsxs(i.Fragment,{children:[i.jsx(a3,{className:"w-4 h-4 mr-2"})," Baixar PDF"]})})]})})]})]})]})]})},Fb=({isDemo:n})=>{var G,ie,he,ke;const[e,a]=ae.useState("feed"),[s,l]=ae.useState([]),[c,d]=ae.useState([]),[h,f]=ae.useState(!0),[p,v]=ae.useState("all"),[j,_]=ae.useState(""),[y,C]=ae.useState(!1),[k,O]=ae.useState({title:"",content:"",category:"general"}),[L,T]=ae.useState(!1),[R,F]=ae.useState(null),[ne,de]=ae.useState(null),[W,se]=ae.useState([]),[K,we]=ae.useState(""),[P,$]=ae.useState(!1),oe=localStorage.getItem("admin_viewing_institution_id");ae.useEffect(()=>{(async()=>{if(n)F({id:"demo"});else{const{data:{user:B}}=await Ge.auth.getUser();F(B)}})(),Ce()},[n,p,j]),ae.useEffect(()=>{e==="directory"&&ue()},[e,n]);const ue=async()=>{if(n){d([{id:"1",name:"Lar Esperana",email:"contato@laresperanca.org",phone:"(41) 3333-3333",manager:"Maria Silva",address:"Rua das Flores, 123"},{id:"2",name:"Casa do Menino",email:"adm@casadomenino.org",phone:"(41) 3333-4444",manager:"Joo Santos",address:"Av. Paran, 456"}]);return}const{data:ce}=await Ge.from("institutions").select("*").eq("active",!0);ce&&d(ce)},Ce=async()=>{if(f(!0),n){setTimeout(()=>{l([{id:"1",institution_id:"demo",author_id:"demo",title:"Doao de Roupas de Inverno",content:"Recebemos uma grande doao de casacos infantis. Temos excedente para tamanhos 4 a 8 anos. Quem tiver interesse, entre em contato!",category:"donation",created_at:new Date().toISOString(),profiles:{full_name:"Maria Silva"},institutions:{name:"Lar Esperana"},status:"open",likes:5},{id:"2",institution_id:"demo",author_id:"demo",title:"Dvida sobre documentao escolar",content:"Algum sabe quais documentos exatos a escola municipal est exigindo para transferncia este ano?",category:"question",created_at:new Date(Date.now()-864e5).toISOString(),profiles:{full_name:"Joo Santos"},institutions:{name:"Casa do Menino"},status:"resolved",likes:2}]),f(!1)},500);return}let ce=Ge.from("community_posts").select(`
        *,
        profiles (full_name),
        institutions (name)
      `).order("created_at",{ascending:!1});p!=="all"&&(ce=ce.eq("category",p)),j&&(ce=ce.or(`title.ilike.%${j}%,content.ilike.%${j}%`));const{data:B,error:Ae}=await ce;!Ae&&B&&l(B),f(!1)},re=async ce=>{if(ce.preventDefault(),T(!0),n){setTimeout(()=>{const B={id:Math.random().toString(),institution_id:"demo",author_id:"demo",title:k.title,content:k.content,category:k.category,created_at:new Date().toISOString(),profiles:{full_name:"Usurio Demo"},institutions:{name:"Instituio Demo"},status:"open",likes:0};l([B,...s]),T(!1),C(!1),O({title:"",content:"",category:"general"})},500);return}try{const{data:{user:B}}=await Ge.auth.getUser();if(!B)throw new Error("Usurio no autenticado");const{data:Ae}=await Ge.from("profiles").select("institution_id").eq("id",B.id).single(),{error:Ze}=await Ge.from("community_posts").insert([{institution_id:Ae.institution_id,author_id:B.id,title:k.title,content:k.content,category:k.category,status:"open"}]);if(Ze)throw Ze;Ce(),C(!1),O({title:"",content:"",category:"general"})}catch{alert("Erro ao criar postagem.")}finally{T(!1)}},ge=async(ce,B)=>{ce.stopPropagation();const Ae=B.status==="resolved"?"open":"resolved";if(n){l(s.map(tt=>tt.id===B.id?{...tt,status:Ae}:tt));return}const{error:Ze}=await Ge.from("community_posts").update({status:Ae}).eq("id",B.id);Ze||l(s.map(tt=>tt.id===B.id?{...tt,status:Ae}:tt))},me=async(ce,B)=>{if(ce.stopPropagation(),!confirm("Tem certeza que deseja excluir esta postagem?"))return;if(n){l(s.filter(Ze=>Ze.id!==B)),(ne==null?void 0:ne.id)===B&&de(null);return}const{error:Ae}=await Ge.from("community_posts").delete().eq("id",B);Ae?alert("Erro ao excluir postagem."):(l(s.filter(Ze=>Ze.id!==B)),(ne==null?void 0:ne.id)===B&&de(null))},Oe=async ce=>{if(!confirm("Tem certeza que deseja excluir este comentrio?"))return;if(n){se(W.filter(Ae=>Ae.id!==ce));return}const{error:B}=await Ge.from("community_comments").delete().eq("id",ce);B?alert("Erro ao excluir comentrio."):se(W.filter(Ae=>Ae.id!==ce))},xe=async ce=>{if($(!0),n){se([{id:"1",post_id:ce,institution_id:"demo",author_id:"demo",content:"Tenho interesse! Vou mandar mensagem.",created_at:new Date().toISOString(),profiles:{full_name:"Ana"},institutions:{name:"Lar Feliz"}}]),$(!1);return}const{data:B,error:Ae}=await Ge.from("community_comments").select(`
            *,
            profiles (full_name),
            institutions (name)
        `).eq("post_id",ce).order("created_at",{ascending:!0});!Ae&&B&&se(B),$(!1)},H=async ce=>{if(ce.preventDefault(),!(!K.trim()||!ne)){if(n){const B={id:Math.random().toString(),post_id:ne.id,institution_id:"demo",author_id:"demo",content:K,created_at:new Date().toISOString(),profiles:{full_name:"Usurio Demo"},institutions:{name:"Instituio Demo"}};se([...W,B]),we("");return}try{const{data:{user:B}}=await Ge.auth.getUser();if(!B)return;const{data:Ae}=await Ge.from("profiles").select("institution_id").eq("id",B.id).single(),{error:Ze}=await Ge.from("community_comments").insert([{post_id:ne.id,institution_id:Ae.institution_id,author_id:B.id,content:K}]);if(Ze)throw Ze;xe(ne.id),we("")}catch(B){console.error(B)}}},S=ce=>{de(ce),xe(ce.id)},I=ce=>{switch(ce){case"donation":return i.jsx(v2,{className:"w-5 h-5 text-pink-500"});case"question":return i.jsx(x2,{className:"w-5 h-5 text-blue-500"});case"alert":return i.jsx(Au,{className:"w-5 h-5 text-amber-500"});default:return i.jsx(Gh,{className:"w-5 h-5 text-slate-500"})}},q=ce=>{switch(ce){case"donation":return"Doao";case"question":return"Dvida";case"alert":return"Aviso";default:return"Geral"}};return i.jsxs("div",{className:"max-w-6xl mx-auto h-full flex flex-col",children:[i.jsxs("div",{className:"mb-6 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Comunidade Inter-Lares"}),i.jsx("p",{className:"text-slate-500",children:"Espao para colaborao, doaes e troca de experincias entre instituies."})]}),!oe&&i.jsxs("button",{onClick:()=>C(!0),className:"inline-flex items-center px-4 py-2 bg-[#458C57] hover:bg-[#367044] text-white rounded-lg shadow-sm font-medium transition-colors",children:[i.jsx(cr,{className:"w-5 h-5 mr-2"}),"Nova Postagem"]})]}),i.jsxs("div",{className:"flex space-x-1 bg-slate-200/50 p-1 rounded-lg mb-6 w-fit",children:[i.jsx("button",{onClick:()=>a("feed"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${e==="feed"?"bg-white text-[#458C57] shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:"Feed de Postagens"}),i.jsx("button",{onClick:()=>a("directory"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${e==="directory"?"bg-white text-[#458C57] shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:"Diretrio de Instituies"})]}),e==="feed"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6 justify-between items-center",children:[i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0 w-full md:w-auto",children:[{id:"all",label:"Todos",icon:null},{id:"donation",label:"Doaes",icon:i.jsx(v2,{size:16})},{id:"question",label:"Dvidas",icon:i.jsx(x2,{size:16})},{id:"alert",label:"Avisos",icon:i.jsx(Au,{size:16})},{id:"general",label:"Geral",icon:i.jsx(Gh,{size:16})}].map(ce=>i.jsxs("button",{onClick:()=>v(ce.id),className:`flex items-center px-4 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap ${p===ce.id?"bg-[#88F2A2]/20 text-[#458C57] border border-[#88F2A2]/40":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,children:[ce.icon&&i.jsx("span",{className:"mr-2",children:ce.icon}),ce.label]},ce.id))}),i.jsxs("div",{className:"relative w-full md:w-64",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Md,{className:"h-4 w-4 text-slate-400"})}),i.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-full leading-5 bg-white placeholder-slate-400 text-slate-900 focus:outline-none focus:ring-2 focus:ring-[#458C57] focus:border-transparent sm:text-sm",placeholder:"Buscar postagens...",value:j,onChange:ce=>_(ce.target.value)})]})]}),h?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#458C57]"})}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.map(ce=>{var B,Ae;return i.jsxs("div",{onClick:()=>S(ce),className:`bg-white rounded-xl shadow-sm border p-5 hover:shadow-md transition-shadow cursor-pointer flex flex-col h-full ${ce.status==="resolved"?"border-green-200 bg-green-50/30":"border-slate-200"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${ce.category==="donation"?"bg-pink-50 text-pink-700 border-pink-100":ce.category==="question"?"bg-blue-50 text-blue-700 border-blue-100":ce.category==="alert"?"bg-amber-50 text-amber-700 border-amber-100":"bg-slate-50 text-slate-700 border-slate-100"}`,children:[I(ce.category),i.jsx("span",{className:"ml-1.5",children:q(ce.category)})]}),ce.status==="resolved"&&i.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold bg-green-100 text-green-700 border border-green-200 ml-2",children:[i.jsx(D0,{className:"w-3 h-3 mr-1"}),"Resolvido"]}),R&&ce.author_id===R.id&&i.jsx("button",{onClick:Ze=>me(Ze,ce.id),className:"text-red-400 hover:text-red-600 p-1 transition-colors",title:"Excluir postagem",children:i.jsx(Cn,{size:16})}),i.jsx("span",{className:"text-xs text-slate-400",children:new Date(ce.created_at).toLocaleDateString("pt-BR")})]}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2 line-clamp-2",children:ce.title}),i.jsx("p",{className:"text-slate-600 text-sm mb-4 line-clamp-3 flex-1",children:ce.content}),i.jsxs("div",{className:"flex items-center pt-4 border-t border-slate-100 mt-auto",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 mr-3",children:i.jsx(Ni,{size:16})}),i.jsxs("div",{className:"text-xs flex-1",children:[i.jsx("p",{className:"font-medium text-slate-900",children:((B=ce.profiles)==null?void 0:B.full_name)||"Annimo"}),i.jsx("p",{className:"text-slate-500",children:((Ae=ce.institutions)==null?void 0:Ae.name)||"Instituio"})]}),i.jsx("div",{className:"flex items-center gap-2",children:R&&ce.author_id===R.id&&ce.status!=="resolved"&&i.jsx("button",{onClick:Ze=>ge(Ze,ce),className:"text-green-600 hover:text-green-700 text-xs font-medium ml-2",title:"Marcar como resolvido",children:i.jsx(D0,{size:16})})})]})]},ce.id)}),s.length===0&&i.jsx("div",{className:"col-span-full text-center py-12 text-slate-500 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:"Nenhuma postagem encontrada nesta categoria."})]})]}):i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:c.map(ce=>i.jsxs("div",{className:"border border-slate-200 rounded-lg p-5 hover:border-[#458C57] transition-colors group",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-green-50 flex items-center justify-center text-[#458C57] mr-4 group-hover:bg-[#458C57] group-hover:text-white transition-colors",children:i.jsx(Ro,{size:24})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:ce.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Resp: ",ce.manager]})]})]}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(QN,{size:14,className:"mr-2 text-slate-400"}),ce.phone]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ed,{size:14,className:"mr-2 text-slate-400"}),ce.email]})]})]},ce.id))})}),y&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center bg-slate-50",children:[i.jsx("h3",{className:"font-bold text-lg text-slate-900",children:"Nova Postagem"}),i.jsx("button",{onClick:()=>C(!1),className:"text-slate-400 hover:text-slate-600",children:i.jsx(Wi,{size:20})})]}),i.jsxs("form",{onSubmit:re,className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Categoria"}),i.jsxs("select",{className:"w-full border-slate-300 rounded-lg shadow-sm focus:ring-[#458C57] focus:border-[#458C57]",value:k.category,onChange:ce=>O({...k,category:ce.target.value}),children:[i.jsx("option",{value:"general",children:"Geral / Discusso"}),i.jsx("option",{value:"donation",children:"Doao / Troca"}),i.jsx("option",{value:"question",children:"Dvida Tcnica"}),i.jsx("option",{value:"alert",children:"Aviso Importante"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Ttulo"}),i.jsx("input",{type:"text",required:!0,className:"w-full border-slate-300 rounded-lg shadow-sm focus:ring-[#458C57] focus:border-[#458C57]",placeholder:"Resumo do assunto",value:k.title,onChange:ce=>O({...k,title:ce.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Contedo"}),i.jsx("textarea",{required:!0,rows:4,className:"w-full border-slate-300 rounded-lg shadow-sm focus:ring-[#458C57] focus:border-[#458C57]",placeholder:"Descreva detalhadamente...",value:k.content,onChange:ce=>O({...k,content:ce.target.value})})]}),i.jsxs("div",{className:"flex justify-end pt-2",children:[i.jsx("button",{type:"button",onClick:()=>C(!1),className:"mr-3 px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-lg font-medium",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:L,className:"px-4 py-2 bg-[#458C57] text-white rounded-lg hover:bg-[#367044] font-medium shadow-sm disabled:opacity-50",children:L?"Publicando...":"Publicar"})]})]})]})}),ne&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl h-[80vh] flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center bg-slate-50",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:`mr-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${ne.category==="donation"?"bg-pink-50 text-pink-700 border-pink-100":ne.category==="question"?"bg-blue-50 text-blue-700 border-blue-100":ne.category==="alert"?"bg-amber-50 text-amber-700 border-amber-100":"bg-slate-50 text-slate-700 border-slate-100"}`,children:q(ne.category)}),i.jsx("span",{className:"text-xs text-slate-500",children:new Date(ne.created_at).toLocaleString("pt-BR")})]}),i.jsx("button",{onClick:()=>de(null),className:"text-slate-400 hover:text-slate-600",children:i.jsx(Wi,{size:20})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:ne.title}),i.jsxs("div",{className:"flex items-center mb-6 pb-6 border-b border-slate-100",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-[#88F2A2]/20 flex items-center justify-center text-[#458C57] mr-3 font-bold",children:((ie=(G=ne.profiles)==null?void 0:G.full_name)==null?void 0:ie.charAt(0))||"U"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900",children:(he=ne.profiles)==null?void 0:he.full_name}),i.jsx("p",{className:"text-xs text-slate-500",children:(ke=ne.institutions)==null?void 0:ke.name})]})]}),i.jsx("p",{className:"text-slate-700 whitespace-pre-wrap mb-8",children:ne.content}),i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(Gh,{className:"w-4 h-4 mr-2"}),"Comentrios (",W.length,")"]}),i.jsx("div",{className:"space-y-4 mb-6",children:P?i.jsx("div",{className:"text-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#458C57] inline-block"})}):W.length===0?i.jsx("p",{className:"text-slate-500 text-sm italic",children:"Seja o primeiro a comentar."}):W.map(ce=>{var B,Ae;return i.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsxs("span",{className:"font-bold text-xs text-slate-700",children:[(B=ce.profiles)==null?void 0:B.full_name," ",i.jsxs("span",{className:"font-normal text-slate-500",children:["(",(Ae=ce.institutions)==null?void 0:Ae.name,")"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(ce.created_at).toLocaleString("pt-BR")}),R&&(ce.author_id===R.id||ne.author_id===R.id)&&i.jsx("button",{onClick:()=>Oe(ce.id),className:"text-red-400 hover:text-red-600",title:"Excluir comentrio",children:i.jsx(Cn,{size:12})})]})]}),i.jsx("p",{className:"text-sm text-slate-700",children:ce.content})]},ce.id)})})]}),i.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:i.jsxs("form",{onSubmit:H,className:"flex gap-2",children:[i.jsx("input",{type:"text",className:"flex-1 border-slate-300 rounded-lg shadow-sm focus:ring-[#458C57] focus:border-[#458C57] text-sm",placeholder:"Escreva um comentrio...",value:K,onChange:ce=>we(ce.target.value)}),i.jsx("button",{type:"submit",disabled:!K.trim(),className:"p-2 bg-[#458C57] text-white rounded-lg hover:bg-[#367044] disabled:opacity-50",children:i.jsx(i3,{size:18})})]})})]})})]})},Hb=({isDemo:n})=>{const[e,a]=ae.useState([]),[s,l]=ae.useState([]),[c,d]=ae.useState(!0),[h,f]=ae.useState(""),p=()=>{const P=new Date().getTimezoneOffset()*6e4;return new Date(Date.now()-P).toISOString().split("T")[0]},[v,j]=ae.useState(p()),[_,y]=ae.useState(!1),[C,k]=ae.useState({child_id:"",title:"",time:"",description:""}),[O,L]=ae.useState(!1),T=localStorage.getItem("admin_viewing_institution_id"),R=async()=>{if(T)return T;const{data:{user:P}}=await Ge.auth.getUser();if(P){const{data:$}=await Ge.from("profiles").select("institution_id").eq("id",P.id).single();return $==null?void 0:$.institution_id}return null},F=ae.useCallback(async()=>{if(n){l([{id:"1",full_name:"Ana Clara Souza"},{id:"2",full_name:"Marcos Vincius Pereira"}]);return}try{const P=await R();if(P){const{data:$,error:oe}=await Ge.from("children").select("id, full_name").eq("institution_id",P).order("full_name");if(oe)throw oe;$&&l($)}}catch(P){console.error("Erro ao buscar crianas:",P)}},[n,T]),ne=ae.useCallback(async()=>{if(d(!0),n){a([{id:"1",child_id:"1",title:"Consulta Dentista",time:"14:00",description:"Dr. Silva",completed:!1,date:v,children:{full_name:"Ana Clara Souza"}},{id:"2",child_id:"2",title:"Psiclogo",time:"09:00",description:"Sesso semanal",completed:!0,date:v,children:{full_name:"Marcos Vincius Pereira"}}]),d(!1);return}try{const P=await R();if(P){const{data:$,error:oe}=await Ge.from("child_tasks").select("*, children(full_name)").eq("institution_id",P).eq("date",v).order("time");if(oe)throw oe;$&&a($)}}catch(P){console.error(P)}finally{d(!1)}},[n,v,T]);ae.useEffect(()=>{F()},[F]),ae.useEffect(()=>{ne()},[ne]);const de=async P=>{if(P.preventDefault(),L(!0),n){const $=s.find(oe=>oe.id===C.child_id);a([...e,{...C,id:Math.random().toString(),date:v,completed:!1,children:{full_name:$==null?void 0:$.full_name}}]),y(!1),k({child_id:"",title:"",time:"",description:""}),L(!1);return}try{const $=await R();if(!$)throw new Error("Instituio no identificada.");const{error:oe}=await Ge.from("child_tasks").insert([{institution_id:$,child_id:C.child_id,title:C.title,date:v,time:C.time,description:C.description,completed:!1}]);if(oe)throw oe;ne(),y(!1),k({child_id:"",title:"",time:"",description:""})}catch($){alert("Erro ao agendar: "+$.message)}finally{L(!1)}},W=async P=>{if(n){a(e.map($=>$.id===P.id?{...$,completed:!$.completed}:$));return}await Ge.from("child_tasks").update({completed:!P.completed}).eq("id",P.id),fetchData()},se=async P=>{if(!confirm("Excluir este compromisso?"))return;if(n){a(e.filter(oe=>oe.id!==P));return}const{error:$}=await Ge.from("child_tasks").delete().eq("id",P);$?alert("Erro ao excluir: "+$.message):ne()},K=P=>{const $=new Date(v);$.setDate($.getDate()+P),j($.toISOString().split("T")[0])},we=e.filter(P=>{var Ce;const $=((Ce=P.children)==null?void 0:Ce.full_name)||"",oe=P.title||"",ue=h.toLowerCase();return $.toLowerCase().includes(ue)||oe.toLowerCase().includes(ue)});return i.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center",children:[i.jsx(rf,{className:"mr-2 text-[#458C57]"}),"Agenda de Compromissos"]}),i.jsx("p",{className:"text-slate-500",children:"Gerencie consultas, visitas e atividades dos acolhidos."})]}),i.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[i.jsxs("div",{className:"relative flex-1 md:w-64",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Md,{className:"h-5 w-5 text-slate-400"})}),i.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg leading-5 bg-white placeholder-slate-400 text-slate-900 focus:outline-none focus:ring-1 focus:ring-[#458C57] focus:border-[#458C57] sm:text-sm transition-colors",placeholder:"Buscar acolhido...",value:h,onChange:P=>f(P.target.value)})]}),!T&&i.jsxs("button",{onClick:()=>y(!0),className:"bg-[#458C57] text-white px-4 py-2 rounded-lg hover:bg-[#367044] flex items-center shadow-sm transition-colors whitespace-nowrap",children:[i.jsx(cr,{className:"w-5 h-5 mr-2"})," Novo"]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-200 bg-slate-50 flex justify-between items-center",children:[i.jsx("button",{onClick:()=>K(-1),className:"p-2 hover:bg-slate-200 rounded-full text-slate-600",children:i.jsx(kx,{size:20})}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("input",{type:"date",value:v,onChange:P=>j(P.target.value),className:"bg-transparent border-none font-bold text-lg text-slate-800 focus:ring-0 cursor-pointer"})}),i.jsx("button",{onClick:()=>K(1),className:"p-2 hover:bg-slate-200 rounded-full text-slate-600",children:i.jsx(lp,{size:20})})]}),i.jsx("div",{className:"divide-y divide-slate-100",children:c?i.jsx("div",{className:"p-8 text-center text-slate-500",children:"Carregando agenda..."}):we.length===0?i.jsxs("div",{className:"p-12 text-center flex flex-col items-center text-slate-400",children:[i.jsx(rf,{size:48,className:"mb-4 opacity-20"}),i.jsx("p",{children:h?"Nenhum compromisso encontrado.":"Nenhum compromisso agendado para este dia."})]}):we.map(P=>{var $;return i.jsxs("div",{className:`p-4 flex items-center hover:bg-slate-50 transition-colors ${P.completed?"opacity-60":""}`,children:[i.jsx("button",{onClick:()=>W(P),className:`mr-4 flex-shrink-0 ${P.completed?"text-green-500":"text-slate-300 hover:text-green-500"}`,children:i.jsx(D0,{size:24,className:P.completed?"fill-green-100":""})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("span",{className:"font-bold text-slate-800 mr-3",children:P.time.slice(0,5)}),i.jsx("span",{className:`text-sm font-medium px-2 py-0.5 rounded-full ${P.completed?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:P.title})]}),i.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[i.jsx(Ni,{size:14,className:"mr-1"}),i.jsx("span",{className:"font-medium mr-2",children:($=P.children)==null?void 0:$.full_name}),P.description&&i.jsx("span",{className:"text-slate-400 border-l border-slate-300 pl-2 ml-2",children:P.description})]})]}),!T&&i.jsx("button",{onClick:()=>se(P.id),className:"ml-2 text-slate-400 hover:text-red-500 p-2",children:i.jsx(Cn,{size:18})})]},P.id)})})]}),_&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-200 flex justify-between items-center bg-slate-50",children:[i.jsx("h3",{className:"font-bold text-lg text-slate-900",children:"Novo Compromisso"}),i.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-slate-600",children:i.jsx(Wi,{size:20})})]}),i.jsxs("form",{onSubmit:de,className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Acolhido"}),i.jsxs("select",{required:!0,className:"w-full border-slate-300 rounded-lg focus:ring-[#458C57] focus:border-[#458C57]",value:C.child_id,onChange:P=>k({...C,child_id:P.target.value}),children:[i.jsx("option",{value:"",children:"Selecione..."}),s.length>0?s.map(P=>i.jsx("option",{value:P.id,children:P.full_name},P.id)):i.jsx("option",{value:"",disabled:!0,children:"Nenhum acolhido encontrado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Ttulo / Tipo"}),i.jsx("input",{type:"text",required:!0,className:"w-full border-slate-300 rounded-lg focus:ring-[#458C57] focus:border-[#458C57]",placeholder:"Ex: Consulta Mdica",value:C.title,onChange:P=>k({...C,title:P.target.value})})]}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Horrio"}),i.jsx("input",{type:"time",required:!0,className:"w-full border-slate-300 rounded-lg focus:ring-[#458C57] focus:border-[#458C57]",value:C.time,onChange:P=>k({...C,time:P.target.value})})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Observaes"}),i.jsx("textarea",{className:"w-full border-slate-300 rounded-lg focus:ring-[#458C57] focus:border-[#458C57]",rows:3,value:C.description,onChange:P=>k({...C,description:P.target.value})})]}),i.jsxs("div",{className:"flex justify-end pt-2",children:[i.jsx("button",{type:"button",onClick:()=>y(!1),className:"mr-3 px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-lg font-medium",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:O,className:"px-4 py-2 bg-[#458C57] text-white rounded-lg hover:bg-[#367044] font-medium shadow-sm disabled:opacity-50",children:O?"Salvando...":"Agendar"})]})]})]})})]})},d6=({isDemo:n})=>{const e=Xi(),[a,s]=ae.useState([]),[l,c]=ae.useState(!0),[d,h]=ae.useState(!1),[f,p]=ae.useState({name:"",email:"",phone:"",manager:"",cnpj:""}),[v,j]=ae.useState(null),[_,y]=ae.useState([]),[C,k]=ae.useState(!1),[O,L]=ae.useState([]),[T,R]=ae.useState(!1),[F,ne]=ae.useState(""),[de,W]=ae.useState(""),[se,K]=ae.useState(""),[we,P]=ae.useState(!1),[$,oe]=ae.useState("");ae.useEffect(()=>{ue()},[n]);const ue=async()=>{c(!0);const{data:S,error:I}=await Ge.from("institutions").select("*").order("name");I&&console.error("Erro ao buscar instituies:",I),!I&&S&&s(S),c(!1)},Ce=async S=>{S.preventDefault();const{error:I}=await Ge.from("institutions").insert([{...f,active:!0}]);I?(console.error("Erro ao salvar:",I),alert("Erro ao salvar: "+(I.message||JSON.stringify(I)))):(ue(),h(!1),p({name:"",email:"",phone:"",manager:"",cnpj:""}),alert("Instituio cadastrada! Clique no cone de escudo (Gerenciar Acesso) na lista para convidar o administrador."))},re=S=>{j(S),R(!0),ne(""),W(""),K(""),oe("")},ge=async S=>{if(S.preventDefault(),!(!F||!v)){P(!0);try{const{data:I,error:q}=await Ge.from("house_invites").insert([{institution_id:v.id,email:F,full_name:de,cpf:se,role:"admin"}]).select().single();if(q)throw q;const G=`${window.location.origin}/#/cadastro-convite?token=${I.token}`;oe(G)}catch(I){console.error("Erro ao enviar convite:",I),alert("Erro ao gerar convite: "+I.message)}finally{P(!1)}}},me=async S=>{var I;if(confirm("Tem certeza que deseja remover este usurio? Ele perder o acesso ao sistema.")){if(n){L(O.filter(q=>q.id!==S));return}try{const{data:q}=await Ge.from("community_posts").select("id").eq("author_id",S);if(q&&q.length>0){const ke=q.map(ce=>ce.id);await Ge.from("community_comments").delete().in("post_id",ke)}await Ge.from("community_comments").delete().eq("author_id",S);const{error:G}=await Ge.from("community_posts").delete().eq("author_id",S);if(G)throw G;const{error:ie,data:he}=await Ge.from("profiles").delete().eq("id",S).select();if(ie)throw ie;if(!he||he.length===0){alert(`ERRO: O usurio no foi excludo.

Provvel causa: Bloqueio de segurana (RLS) no banco de dados.

SOLUO: V no Supabase > SQL Editor e execute:
ALTER TABLE profiles DISABLE ROW LEVEL SECURITY;`);return}L(O.filter(ke=>ke.id!==S))}catch(q){console.error("Erro ao remover usurio:",q),(I=q.message)!=null&&I.includes("community_posts_author_id_fkey")?alert(`ERRO DE PERMISSO (Foreign Key):

O sistema no conseguiu apagar as postagens do usurio antes de remov-lo. O banco de dados bloqueou a ao.

SOLUO: V no Supabase > SQL Editor e execute:
ALTER TABLE community_posts DISABLE ROW LEVEL SECURITY;
ALTER TABLE community_comments DISABLE ROW LEVEL SECURITY;`):alert("Erro ao remover usurio: "+q.message)}}},Oe=async S=>{j(S),k(!0);const{data:I}=await Ge.from("profiles").select("*").eq("institution_id",S.id);I&&L(I);const{data:q,error:G}=await Ge.from("children").select("*, child_photos(url, created_at)").eq("institution_id",S.id);if(!G&&q){const ie=q.map(he=>({...he,child_photos:he.child_photos?he.child_photos.sort((ke,ce)=>new Date(ce.created_at).getTime()-new Date(ke.created_at).getTime()):[]}));y(ie)}k(!1)},xe=S=>{localStorage.setItem("admin_viewing_institution_id",S.id),localStorage.setItem("admin_viewing_institution_name",S.name),e("/")},H=async S=>{var I;if(confirm("Tem certeza que deseja excluir esta instituio? Todos os dados vinculados (equipe, crianas, financeiro) sero perdidos permanentemente.")){if(n){s(a.filter(q=>q.id!==S));return}try{const{data:q}=await Ge.from("children").select("id").eq("institution_id",S);if(q&&q.length>0){const he=q.map(ke=>ke.id);await Ge.from("technical_reports").delete().in("child_id",he),await Ge.from("child_photos").delete().in("child_id",he),await Ge.from("child_notes").delete().in("child_id",he),await Ge.from("pia_history").delete().in("child_id",he),await Ge.from("children").delete().eq("institution_id",S)}await Ge.from("financial_records").delete().eq("institution_id",S),await Ge.from("community_comments").delete().eq("institution_id",S),await Ge.from("community_posts").delete().eq("institution_id",S),await Ge.from("house_invites").delete().eq("institution_id",S),await Ge.from("profiles").delete().eq("institution_id",S);const{error:G,data:ie}=await Ge.from("institutions").delete().eq("id",S).select();if(G)throw G;if(!ie||ie.length===0){alert(`ERRO: A instituio no foi excluda do banco de dados.

Causa provvel: O banco est bloqueando excluses feitas pelo login Master (Annimo).

SOLUO: V no Supabase > SQL Editor e execute:
ALTER TABLE institutions DISABLE ROW LEVEL SECURITY;`);return}s(a.filter(he=>he.id!==S))}catch(q){console.error("Erro ao excluir:",q),(I=q.message)!=null&&I.includes("profiles_institution_id_fkey")?alert(`ERRO DE PERMISSO (Foreign Key):

O sistema no conseguiu apagar os perfis de usurios (equipe) desta instituio. O banco de dados impediu a excluso.

SOLUO:
1. V no Supabase > SQL Editor.
2. Execute:
ALTER TABLE profiles DISABLE ROW LEVEL SECURITY;`):alert("Erro ao excluir instituio: "+q.message)}}};return i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Gesto de Casas"}),i.jsx("p",{className:"text-slate-500",children:"Cadastre e gerencie as instituies de acolhimento."})]}),i.jsxs("button",{onClick:()=>h(!0),className:"rounded-lg bg-[#458C57] px-4 py-2 text-sm font-medium text-white hover:bg-[#367044] focus:outline-none focus:ring-2 focus:ring-[#458C57] focus:ring-offset-2 shadow-sm transition-all flex items-center",children:[i.jsx(cr,{className:"w-5 h-5 mr-2"})," Nova Casa"]})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Instituio"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Responsvel"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Contato"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Aes"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:l?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500",children:"Carregando instituies..."})}):a.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:"Nenhuma instituio cadastrada."})}):a.map(S=>i.jsxs("tr",{onClick:()=>xe(S),className:"hover:bg-slate-50 transition-colors cursor-pointer group",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 mr-3 border border-slate-200",children:i.jsx(Ro,{size:20})}),i.jsx("div",{className:"text-sm font-bold text-slate-900",children:S.name})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:S.manager}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:[i.jsx("div",{children:S.email}),i.jsx("div",{className:"text-xs text-slate-400",children:S.phone})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${S.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.active?"Ativo":"Inativo"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[i.jsx("button",{onClick:I=>{I.stopPropagation(),re(S)},className:"text-slate-400 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-full transition-colors",title:"Gerenciar Acesso",children:i.jsx(u3,{size:18})}),i.jsx("button",{onClick:I=>{I.stopPropagation(),xe(S)},className:"text-slate-400 hover:text-purple-600 p-2 hover:bg-purple-50 rounded-full transition-colors",title:"Acessar Painel",children:i.jsx(YN,{size:18})}),i.jsx("button",{onClick:I=>{I.stopPropagation(),Oe(S)},className:"text-slate-400 hover:text-[#458C57] p-2 hover:bg-slate-100 rounded-full transition-colors",children:i.jsx(up,{size:18})}),i.jsx("button",{onClick:I=>{I.stopPropagation(),H(S.id)},className:"text-red-400 hover:text-red-600 p-2 hover:bg-red-50 rounded-full transition-colors",children:i.jsx(Cn,{size:18})})]})})]},S.id))})]})}),d&&i.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-200 bg-slate-50",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Nova Instituio"}),i.jsx("button",{onClick:()=>h(!1),className:"text-slate-400 hover:text-slate-600",children:i.jsx(Wi,{size:24})})]}),i.jsxs("form",{onSubmit:Ce,className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Nome da Instituio"}),i.jsx("input",{required:!0,type:"text",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",placeholder:"Ex: Lar Esperana",value:f.name,onChange:S=>p({...f,name:S.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"CNPJ"}),i.jsx("input",{required:!0,type:"text",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",placeholder:"00.000.000/0000-00",value:f.cnpj,onChange:S=>p({...f,cnpj:S.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Nome do Responsvel"}),i.jsx("input",{required:!0,type:"text",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",placeholder:"Nome completo",value:f.manager,onChange:S=>p({...f,manager:S.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"E-mail Institucional"}),i.jsx("input",{required:!0,type:"email",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",placeholder:"email@instituicao.org",value:f.email,onChange:S=>p({...f,email:S.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Telefone"}),i.jsx("input",{required:!0,type:"text",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",placeholder:"(00) 0000-0000",value:f.phone,onChange:S=>p({...f,phone:S.target.value})})]}),i.jsxs("div",{className:"flex justify-end pt-4 gap-3",children:[i.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"rounded-lg bg-[#458C57] px-4 py-2 text-sm font-medium text-white hover:bg-[#367044] focus:outline-none focus:ring-2 focus:ring-[#458C57] focus:ring-offset-2 shadow-sm transition-all",children:"Salvar Cadastro"})]})]})]})}),v&&!T&&i.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-200 bg-slate-50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-200 flex items-center justify-center text-slate-600",children:i.jsx(Ro,{size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:v.name}),i.jsx("p",{className:"text-sm text-slate-500",children:"Detalhes da Instituio"})]})]}),i.jsx("button",{onClick:()=>j(null),className:"text-slate-400 hover:text-slate-600",children:i.jsx(Wi,{size:24})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[i.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-100",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold mb-1",children:"Responsvel"}),i.jsx("p",{className:"text-slate-900 font-medium",children:v.manager})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-100",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold mb-1",children:"Contato"}),i.jsx("p",{className:"text-slate-900 font-medium",children:v.phone}),i.jsx("p",{className:"text-slate-600 text-sm",children:v.email})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-100",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold mb-1",children:"Status"}),i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.active?"Ativo":"Inativo"})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-8 mb-4",children:[i.jsxs("h4",{className:"text-lg font-bold text-slate-800 flex items-center",children:[i.jsx(dp,{className:"w-5 h-5 mr-2"}),"Equipe / Responsveis (",O.length,")"]}),i.jsxs("button",{onClick:()=>re(v),className:"text-sm bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg hover:bg-blue-100 font-medium flex items-center transition-colors",children:[i.jsx(cr,{size:16,className:"mr-1"}),"Novo Admin"]})]}),i.jsx("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden mb-8",children:i.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Nome"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Email"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Funo"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-slate-500 uppercase",children:"Aes"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200",children:O.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-slate-500",children:"Nenhum usurio vinculado."})}):O.map(S=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:S.full_name}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:S.email}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${S.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:S.role==="admin"?"Administrador":"Equipe"})}),i.jsx("td",{className:"px-6 py-4 text-sm text-right",children:i.jsx("button",{onClick:()=>me(S.id),className:"text-red-400 hover:text-red-600 p-1 transition-colors",title:"Remover usurio",children:i.jsx(Cn,{size:16})})})]},S.id))})]})}),i.jsxs("h4",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(Ni,{className:"w-5 h-5 mr-2"}),"Crianas Acolhidas (",_.length,")"]}),i.jsx("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Foto"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Nome"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Nascimento"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Data Entrada"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Sexo"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200",children:C?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500",children:"Carregando..."})}):_.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500",children:"Nenhuma criana registrada nesta instituio."})}):_.map(S=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200",children:S.child_photos&&S.child_photos.length>0?i.jsx("img",{src:S.child_photos[0].url,alt:S.full_name,className:"h-full w-full object-cover"}):i.jsx(Ni,{size:20,className:"text-slate-400"})})}),i.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:S.full_name}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:S.birth_date?new Date(S.birth_date).toLocaleDateString("pt-BR"):"-"}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:S.entry_date?new Date(S.entry_date).toLocaleDateString("pt-BR"):"-"}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:S.sex==="M"?"Masculino":"Feminino"})]},S.id))})]})})]}),i.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50 flex justify-end",children:i.jsx("button",{onClick:()=>j(null),className:"px-4 py-2 bg-white border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 font-medium",children:"Fechar"})})]})}),T&&v&&i.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 bg-slate-50 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:["Acesso: ",v.name]}),i.jsx("p",{className:"text-sm text-slate-500",children:"Convidar Presidente/Administrador"})]}),i.jsx("button",{onClick:()=>{R(!1),j(null)},className:"text-slate-400 hover:text-slate-600",children:i.jsx(Wi,{size:24})})]}),i.jsx("div",{className:"p-6",children:$?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4 text-green-600",children:i.jsx(op,{size:24})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Link Gerado com Sucesso!"}),i.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Copie o link abaixo e envie para ",i.jsx("strong",{children:de}),":"]}),i.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 p-3 rounded-lg border border-slate-200 mb-6",children:[i.jsx("input",{type:"text",readOnly:!0,value:$,className:"bg-transparent border-none w-full text-sm text-slate-600 focus:ring-0"}),i.jsxs("button",{onClick:()=>navigator.clipboard.writeText($),className:"text-[#458C57] hover:text-[#367044] font-bold text-sm flex items-center",children:[i.jsx(RN,{size:16,className:"mr-1"})," Copiar"]})]}),i.jsxs("a",{href:`mailto:${F}?subject=Convite para Curitiba Acolhe&body=Ol ${de},%0D%0A%0D%0AVoc foi convidado para administrar a instituio no sistema Curitiba Acolhe.%0D%0A%0D%0AAcesse o link abaixo para definir sua senha e ativar sua conta:%0D%0A${$}`,target:"_blank",rel:"noopener noreferrer",className:"w-full py-2 px-4 bg-[#458C57] text-white rounded-lg hover:bg-[#367044] flex items-center justify-center mb-3 transition-colors",children:[i.jsx(Ed,{size:18,className:"mr-2"})," Abrir Cliente de E-mail"]}),i.jsx("button",{onClick:()=>{R(!1),oe(""),j(null)},className:"w-full py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50",children:"Fechar"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 mb-6",children:i.jsxs("p",{className:"text-sm text-blue-800",children:["Preencha os dados abaixo para gerar um ",i.jsx("strong",{children:"Link de Convite"}),". Envie este link para o novo administrador se cadastrar."]})}),i.jsxs("form",{onSubmit:ge,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Nome Completo"}),i.jsx("input",{required:!0,type:"text",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",placeholder:"Nome do responsvel",value:de,onChange:S=>W(S.target.value)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"CPF"}),i.jsx("input",{required:!0,type:"text",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",placeholder:"000.000.000-00",value:se,onChange:S=>K(S.target.value)})]}),i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"E-mail do Presidente"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Ed,{className:"h-5 w-5 text-slate-400"})}),i.jsx("input",{type:"email",required:!0,className:"block w-full pl-10 rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",placeholder:"presidente@instituicao.org",value:F,onChange:S=>ne(S.target.value)})]}),i.jsx("button",{type:"submit",disabled:we,className:"rounded-lg bg-[#458C57] px-6 py-2.5 text-sm font-medium text-white hover:bg-[#367044] focus:outline-none focus:ring-2 focus:ring-[#458C57] focus:ring-offset-2 shadow-sm transition-all disabled:opacity-50",children:we?"Gerando...":i.jsxs(i.Fragment,{children:[i.jsx(Tx,{size:18,className:"mr-2"})," Gerar Link"]})})]})]})]})})]})})]})},$b=({isDemo:n})=>{const[e,a]=ae.useState([]),[s,l]=ae.useState(!0),[c,d]=ae.useState(""),[h,f]=ae.useState(!1),[p,v]=ae.useState(null),[j,_]=ae.useState(""),y=localStorage.getItem("admin_viewing_institution_id");ae.useEffect(()=>{(async()=>{if(n)v({id:"demo",institution_id:"demo"}),a([{id:"1",full_name:"Maria Silva (Voc)",role:"admin",institution_id:"demo"},{id:"2",full_name:"Joo Psiclogo",role:"staff",institution_id:"demo"},{id:"3",full_name:"Ana Assistente",role:"staff",institution_id:"demo"}]),l(!1);else if(y)C(y),l(!1);else{const{data:{user:T}}=await Ge.auth.getUser();if(T){const{data:R}=await Ge.from("profiles").select("*").eq("id",T.id).single();v(R),R?C(R.institution_id):l(!1)}else l(!1)}})()},[n]);const C=async L=>{const{data:T}=await Ge.from("profiles").select("*").eq("institution_id",L);T&&a(T),l(!1)},k=async L=>{if(L.preventDefault(),!!c){if(f(!0),n){setTimeout(()=>{const T=`http://localhost:5173/#/cadastro-convite?token=demo-token-${Math.random()}`;_(T),a([...e,{id:Math.random().toString(),full_name:c.split("@")[0],role:"staff",institution_id:"demo"}]),f(!1)},800);return}try{const{data:T,error:R}=await Ge.from("house_invites").insert([{institution_id:p.institution_id,email:c,full_name:"Membro da Equipe",role:"staff"}]).select().single();if(R)throw R;const F=`${window.location.origin}/#/cadastro-convite?token=${T.token}`;_(F)}catch(T){alert("Erro: "+T.message)}finally{f(!1)}}},O=async L=>{if(confirm("Tem certeza que deseja remover este membro da equipe?")){if(n){a(e.filter(T=>T.id!==L));return}try{const{data:T}=await Ge.from("community_posts").select("id").eq("author_id",L);if(T&&T.length>0){const ne=T.map(de=>de.id);await Ge.from("community_comments").delete().in("post_id",ne)}await Ge.from("community_comments").delete().eq("author_id",L);const{error:R}=await Ge.from("community_posts").delete().eq("author_id",L);if(R)throw R;const{error:F}=await Ge.from("profiles").delete().eq("id",L);if(F)throw F;a(e.filter(ne=>ne.id!==L))}catch(T){alert("Erro ao remover membro: "+T.message)}}};return i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center",children:[i.jsx(dp,{className:"mr-3 text-[#458C57]"}),"Gerenciar Equipe"]}),i.jsx("p",{className:"text-slate-500",children:"Adicione membros da equipe tcnica para auxiliar na gesto dos acolhidos."})]}),!y&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden mb-8",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 bg-slate-50",children:i.jsx("h3",{className:"font-bold text-slate-800",children:"Convidar Novo Membro"})}),i.jsx("div",{className:"p-6",children:j?i.jsxs("div",{className:"bg-green-50 border border-green-100 rounded-lg p-4 flex flex-col items-center text-center",children:[i.jsxs("div",{className:"flex items-center text-green-800 font-bold mb-2",children:[i.jsx(op,{size:20,className:"mr-2"})," Link de Convite Gerado!"]}),i.jsx("p",{className:"text-sm text-green-700 mb-4",children:"Envie este link para o colaborador se cadastrar:"}),i.jsxs("div",{className:"flex items-center gap-2 w-full max-w-lg bg-white p-2 rounded border border-green-200",children:[i.jsx("input",{type:"text",readOnly:!0,value:j,className:"flex-1 bg-transparent border-none text-sm text-slate-600 focus:ring-0"}),i.jsx("button",{onClick:()=>navigator.clipboard.writeText(j),className:"text-[#458C57] font-bold text-sm hover:underline px-2",children:"Copiar"})]}),i.jsx("button",{onClick:()=>{_(""),d("")},className:"mt-4 text-sm text-slate-500 hover:text-slate-700 underline",children:"Gerar outro convite"})]}):i.jsxs("form",{onSubmit:k,className:"flex gap-4 items-end",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"E-mail do Colaborador"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Ed,{className:"h-5 w-5 text-slate-400"})}),i.jsx("input",{type:"email",required:!0,className:"block w-full pl-10 border-slate-300 rounded-lg focus:ring-[#458C57] focus:border-[#458C57]",placeholder:"colaborador@instituicao.org",value:c,onChange:L=>d(L.target.value)})]})]}),i.jsx("button",{type:"submit",disabled:h,className:"rounded-lg bg-[#458C57] px-6 py-2.5 text-sm font-medium text-white hover:bg-[#367044] focus:outline-none focus:ring-2 focus:ring-[#458C57] focus:ring-offset-2 shadow-sm transition-all disabled:opacity-50 flex items-center",children:h?"Gerando...":i.jsxs(i.Fragment,{children:[i.jsx(Tx,{size:20,className:"mr-2"})," Gerar Link"]})})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 flex justify-between items-center",children:i.jsxs("h3",{className:"font-bold text-slate-800",children:["Membros Ativos (",e.length,")"]})}),i.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Nome"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Funo"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-slate-500 uppercase",children:"Aes"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:s?i.jsx("tr",{children:i.jsx("td",{colSpan:3,className:"p-8 text-center text-slate-500",children:"Carregando equipe..."})}):e.map(L=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 font-bold mr-3",children:L.full_name.charAt(0)}),i.jsx("span",{className:"text-sm font-medium text-slate-900",children:L.full_name})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:L.role==="admin"?i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-50 text-purple-700 border border-purple-100",children:[i.jsx(l3,{size:12,className:"mr-1"})," Presidente/Admin"]}):i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-blue-700 border border-blue-100",children:[i.jsx(Rx,{size:12,className:"mr-1"})," Equipe Tcnica"]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:L.role!=="admin"&&!y&&i.jsx("button",{onClick:()=>O(L.id),className:"text-red-400 hover:text-red-600 p-1 transition-colors",title:"Remover acesso",children:i.jsx(Cn,{size:18})})})]},L.id))})]})]})]})},Vb=()=>{const[n,e]=ae.useState("profile"),[a,s]=ae.useState(null),[l,c]=ae.useState(!0),[d,h]=ae.useState(!1),[f,p]=ae.useState({name:"",email:"",phone:"",manager:"",cnpj:"",address:"",photo_url:""}),[v,j]=ae.useState([]),[_,y]=ae.useState(!1),[C,k]=ae.useState({description:"",amount:"",date:new Date().toISOString().split("T")[0],category:"Manuteno"}),O=localStorage.getItem("admin_viewing_institution_id");ae.useEffect(()=>{L()},[]),ae.useEffect(()=>{n==="financials"&&a&&T()},[n,a]);const L=async()=>{try{if(O){const{data:K}=await Ge.from("institutions").select("*").eq("id",O).single();K&&(s(K),p({name:K.name||"",email:K.email||"",phone:K.phone||"",manager:K.manager||"",cnpj:K.cnpj||"",address:K.address||"",photo_url:K.photo_url||""})),c(!1);return}const{data:{user:W}}=await Ge.auth.getUser();if(!W){c(!1);return}const{data:se}=await Ge.from("profiles").select("institution_id").eq("id",W.id).single();if(se&&se.institution_id){const{data:K}=await Ge.from("institutions").select("*").eq("id",se.institution_id).single();K&&(s(K),p({name:K.name||"",email:K.email||"",phone:K.phone||"",manager:K.manager||"",cnpj:K.cnpj||"",address:K.address||"",photo_url:K.photo_url||""}))}}catch(W){console.error("Erro ao carregar dados da casa:",W)}c(!1)},T=async()=>{y(!0);const{data:W,error:se}=await Ge.from("financial_records").select("*").eq("institution_id",a.id).order("date",{ascending:!1});!se&&W&&j(W),y(!1)},R=async W=>{if(W.preventDefault(),h(!0),a){const{error:se}=await Ge.from("institutions").update(f).eq("id",a.id);alert(se?"Erro ao salvar: "+se.message:"Dados atualizados com sucesso!")}h(!1)},F=async W=>{if(W.preventDefault(),!a)return;if(!C.amount||isNaN(parseFloat(C.amount))){alert("Por favor, insira um valor vlido.");return}const{data:se,error:K}=await Ge.from("financial_records").insert([{institution_id:a.id,description:C.description,amount:parseFloat(C.amount),date:C.date,category:C.category,type:"expense"}]).select();K?alert("Erro ao salvar despesa: "+K.message):se&&(j([se[0],...v]),k({...C,description:"",amount:""}))},ne=async W=>{if(!confirm("Excluir este registro?"))return;const{error:se}=await Ge.from("financial_records").delete().eq("id",W);se||j(v.filter(K=>K.id!==W))},de=async W=>{if(!W.target.files||W.target.files.length===0)return;const se=W.target.files[0];try{const K=se.name.split(".").pop(),we=`institution-${Date.now()}.${K}`,{error:P}=await Ge.storage.from("institution-logos").upload(we,se);if(P)throw P;const{data:$}=Ge.storage.from("institution-logos").getPublicUrl(we);p(oe=>({...oe,photo_url:$.publicUrl}))}catch(K){alert("Erro ao fazer upload: "+K.message)}};return l?i.jsx("div",{className:"p-8 text-center",children:"Carregando informaes da casa..."}):i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Gesto da Casa"}),i.jsxs("div",{className:"flex space-x-1 bg-slate-100 p-1 rounded-lg mb-6 w-fit",children:[i.jsx("button",{onClick:()=>e("profile"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${n==="profile"?"bg-white text-[#458C57] shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:"Perfil da Casa"}),i.jsx("button",{onClick:()=>e("financials"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${n==="financials"?"bg-white text-[#458C57] shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:"Prestao de Contas"})]}),n==="profile"&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[!a&&i.jsx("div",{className:"mb-6 bg-yellow-50 border-l-4 border-yellow-400 p-4",children:i.jsx("p",{className:"text-sm text-yellow-700",children:"Nenhuma instituio vinculada ao seu perfil. Entre em contato com o administrador do sistema."})}),i.jsxs("form",{onSubmit:R,className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[i.jsxs("div",{className:"w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center border-2 border-slate-200 overflow-hidden relative group",children:[f.photo_url?i.jsx("img",{src:f.photo_url,alt:"Casa",className:"w-full h-full object-cover"}):i.jsx(Ro,{className:"w-10 h-10 text-slate-400"}),!O&&i.jsxs("label",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[i.jsx(pf,{className:"text-white w-6 h-6"}),i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:de})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg text-slate-900",children:f.name||"Nome da Instituio"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Informaes pblicas e de contato."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Nome da Instituio"}),i.jsx("input",{type:"text",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",value:f.name,onChange:W=>p({...f,name:W.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"CNPJ"}),i.jsx("input",{type:"text",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",value:f.cnpj,onChange:W=>p({...f,cnpj:W.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Responsvel"}),i.jsx("input",{type:"text",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",value:f.manager,onChange:W=>p({...f,manager:W.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Telefone"}),i.jsx("input",{type:"text",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",value:f.phone,onChange:W=>p({...f,phone:W.target.value})})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Endereo"}),i.jsx("input",{type:"text",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",placeholder:"Rua, Nmero, Bairro",value:f.address,onChange:W=>p({...f,address:W.target.value})})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"E-mail"}),i.jsx("input",{type:"email",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",value:f.email,onChange:W=>p({...f,email:W.target.value})})]})]}),!O&&i.jsx("div",{className:"flex justify-end pt-4",children:i.jsx("button",{type:"submit",disabled:d,className:"rounded-lg bg-[#458C57] px-6 py-2.5 text-sm font-medium text-white hover:bg-[#367044] focus:outline-none focus:ring-2 focus:ring-[#458C57] focus:ring-offset-2 shadow-sm transition-all disabled:opacity-50",children:d?"Salvando...":i.jsxs(i.Fragment,{children:[i.jsx(cc,{className:"w-4 h-4 mr-2"})," Salvar Alteraes"]})})})]})]}),n==="financials"&&i.jsxs("div",{className:"space-y-6",children:[!O&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[i.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center",children:[i.jsx(cr,{className:"w-5 h-5 mr-2 text-[#458C57]"}),"Nova Despesa / Registro"]}),i.jsxs("form",{onSubmit:F,className:"grid grid-cols-1 md:grid-cols-5 gap-6 items-end",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Descrio"}),i.jsx("input",{required:!0,type:"text",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",placeholder:"Ex: Compra de Alimentos",value:C.description,onChange:W=>k({...C,description:W.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Valor (R$)"}),i.jsx("input",{required:!0,type:"number",step:"0.01",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",placeholder:"0,00",value:C.amount,onChange:W=>k({...C,amount:W.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Categoria"}),i.jsxs("select",{className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",value:C.category,onChange:W=>k({...C,category:W.target.value}),children:[i.jsx("option",{children:"Manuteno"}),i.jsx("option",{children:"Alimentao"}),i.jsx("option",{children:"Sade"}),i.jsx("option",{children:"Pessoal"}),i.jsx("option",{children:"Outros"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Data"}),i.jsx("input",{required:!0,type:"date",className:"block w-full rounded-lg border-slate-300 bg-slate-50 px-4 py-2.5 text-sm focus:border-[#458C57] focus:ring-[#458C57] focus:ring-1 focus:outline-none transition-all",value:C.date,onChange:W=>k({...C,date:W.target.value})})]}),i.jsx("div",{className:"md:col-span-5 flex justify-end",children:i.jsxs("button",{type:"submit",className:"rounded-lg bg-[#458C57] px-6 py-2.5 text-sm font-medium text-white hover:bg-[#367044] focus:outline-none focus:ring-2 focus:ring-[#458C57] focus:ring-offset-2 shadow-sm transition-all",children:[i.jsx(cc,{className:"w-4 h-4 mr-2"})," Registrar"]})})]})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Data"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Descrio"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Categoria"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-slate-500 uppercase",children:"Valor"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-slate-500 uppercase",children:"Aes"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200",children:_?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"Carregando registros..."})}):v.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"Nenhum registro financeiro encontrado."})}):v.map(W=>i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:new Date(W.date).toLocaleDateString("pt-BR")}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:W.description}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:W.category})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-red-600",children:["- R$ ",W.amount.toFixed(2).replace(".",",")]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:!O&&i.jsx("button",{onClick:()=>ne(W.id),className:"text-red-400 hover:text-red-600 p-1",children:i.jsx(Cn,{size:16})})})]},W.id))})]})})]})]})},h6=()=>{var R;const[n]=Nw(),e=n.get("token"),a=Xi(),[s,l]=ae.useState(null),[c,d]=ae.useState(""),[h,f]=ae.useState(""),[p,v]=ae.useState(""),[j,_]=ae.useState(!0),[y,C]=ae.useState(null),[k,O]=ae.useState(null);ae.useEffect(()=>{if(!e){C("Token de convite invlido ou ausente."),_(!1);return}L()},[e]);const L=async()=>{const{data:F,error:ne}=await Ge.from("house_invites").select("*, institutions(name)").eq("token",e).eq("used",!1).single();ne||!F?C("Este convite  invlido, expirou ou j foi utilizado."):(l(F),d(F.full_name||"")),_(!1)},T=async F=>{if(F.preventDefault(),O(null),h!==p){O("As senhas no conferem.");return}_(!0);try{const{data:ne,error:de}=await Ge.auth.signUp({email:s.email,password:h,options:{data:{full_name:c,institution_id:s.institution_id,role:s.role,cpf:s.cpf}}});if(de)throw de;if(ne.user){const{error:W}=await Ge.from("profiles").upsert({id:ne.user.id,email:s.email,full_name:c,institution_id:s.institution_id,role:s.role,cpf:s.cpf});W&&console.warn("Aviso na criao de perfil (pode ter sido criado pelo Trigger):",W.message),await Ge.from("house_invites").update({used:!0}).eq("id",s.id),ne.session?(alert("Cadastro realizado com sucesso! Voc j pode acessar o sistema."),a("/")):(alert(`Cadastro realizado, mas o login foi bloqueado porque o e-mail requer confirmao.

PARA ENTRAR DIRETO (SEM E-MAIL):
1. V no Supabase Dashboard > Authentication > Providers > Email.
2. DESATIVE a opo "Confirm Email".
3. Salve e tente novamente.`),a("/login"))}}catch(ne){console.error("Erro no registro:",ne);let de=ne.message||"Ocorreu um erro ao registrar.";de.includes("Email signups are disabled")?de="O registro est bloqueado. Habilite 'Enable Email Signup' no Supabase. Isso permite criar a conta sem enviar e-mail (desde que 'Confirm Email' esteja desligado).":de.includes("Error sending confirmation email")&&(de="O sistema tentou enviar um e-mail de confirmao e falhou. Para corrigir: V no Painel Supabase > Authentication > Providers > Email e DESATIVE a opo 'Confirm Email'."),O(de)}finally{_(!1)}};return j?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 text-slate-500",children:"Carregando informaes do convite..."}):y?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:i.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full text-center border border-slate-200",children:[i.jsx("div",{className:"text-red-500 mb-4 flex justify-center",children:i.jsx(Rx,{size:48})}),i.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Convite Invlido"}),i.jsx("p",{className:"text-slate-600 mb-6",children:y}),i.jsx("button",{onClick:()=>a("/login"),className:"w-full py-2 px-4 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Ir para Login"})]})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:i.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-slate-100 w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4 text-[#458C57]",children:i.jsx(Ro,{size:24})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Bem-vindo(a)!"}),i.jsxs("p",{className:"text-slate-500 text-sm mt-2",children:["Voc foi convidado para participar da equipe da instituio ",i.jsx("br",{}),i.jsx("strong",{className:"text-slate-800",children:(R=s.institutions)==null?void 0:R.name}),"."]})]}),i.jsxs("form",{onSubmit:T,className:"space-y-4",children:[k&&i.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 flex items-start rounded-r-lg",children:[i.jsx(cp,{className:"w-5 h-5 text-red-500 mr-2 mt-0.5 flex-shrink-0"}),i.jsx("p",{className:"text-sm text-red-700",children:k})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Nome Completo"}),i.jsx("input",{type:"text",required:!0,className:"w-full border-slate-300 rounded-lg px-4 py-2 focus:ring-[#458C57] focus:border-[#458C57]",value:c,onChange:F=>d(F.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"E-mail (Confirmado)"}),i.jsx("input",{type:"email",value:s.email,disabled:!0,className:"w-full bg-slate-100 border-slate-300 rounded-lg px-4 py-2 text-slate-500 cursor-not-allowed"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Defina sua Senha de Acesso"}),i.jsx("input",{type:"password",required:!0,minLength:6,className:"w-full border-slate-300 rounded-lg px-4 py-2 focus:ring-[#458C57] focus:border-[#458C57]",placeholder:"Mnimo 6 caracteres",value:h,onChange:F=>f(F.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Confirme sua Senha"}),i.jsx("input",{type:"password",required:!0,minLength:6,className:"w-full border-slate-300 rounded-lg px-4 py-2 focus:ring-[#458C57] focus:border-[#458C57]",placeholder:"Repita a senha",value:p,onChange:F=>v(F.target.value)})]}),i.jsx("button",{type:"submit",disabled:j,className:"w-full bg-[#458C57] text-white py-3 rounded-lg font-bold hover:bg-[#367044] transition-all shadow-lg shadow-green-700/20 flex justify-center items-center mt-4",children:j?"Registrando...":i.jsxs(i.Fragment,{children:[i.jsx(cc,{size:20,className:"mr-2"})," Concluir Cadastro"]})})]})]})})},f6=({onLogout:n,isDemo:e,isAdmin:a})=>{const s=Si(),l=Xi(),c=y=>s.pathname===y,[d,h]=ae.useState(""),[f,p]=ae.useState("");ae.useEffect(()=>{(async()=>{var k;if(a)return;if(e){h("Lar Esperana"),p("Usurio Demo");return}const{data:{user:C}}=await Ge.auth.getUser();if(C){const{data:O}=await Ge.from("profiles").select("full_name, institutions(name)").eq("id",C.id).single();O&&(p(O.full_name||"Usurio"),h(((k=O.institutions)==null?void 0:k.name)||"Instituio"))}})()},[a,e]);const v=localStorage.getItem("admin_viewing_institution_id"),j=localStorage.getItem("admin_viewing_institution_name"),_=()=>{localStorage.removeItem("admin_viewing_institution_id"),localStorage.removeItem("admin_viewing_institution_name"),l("/admin/casas")};return i.jsxs("div",{className:"flex h-screen bg-slate-100",children:[i.jsxs("aside",{className:"w-72 bg-[#404040] text-white hidden md:flex flex-col shadow-xl z-20",children:[i.jsxs("div",{className:"h-20 flex items-center px-6 border-b border-[#A4A5A6]/20 bg-[#404040]",children:[i.jsx("img",{src:kd,alt:"Logo PIA",className:"h-12 w-auto mr-3 object-contain"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-bold text-lg tracking-tight block text-white",children:"Curitiba Acolhe"}),i.jsx("span",{className:"text-xs text-[#A4A5A6] font-medium",children:"Gesto Governamental"})]})]}),e&&!a&&i.jsxs("div",{className:"mx-4 mt-6 p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start",children:[i.jsx(Au,{className:"w-5 h-5 text-amber-400 mr-3 shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-amber-200 font-bold",children:"Modo Demonstrao"}),i.jsx("p",{className:"text-xs text-amber-200/70 mt-1",children:"Dados fictcios para visualizao. Nenhuma informao real ser salva."})]})]}),a&&!v&&i.jsxs("div",{className:"mx-4 mt-6 p-4 bg-purple-500/10 border border-purple-500/30 rounded-lg flex items-start",children:[i.jsx(Ro,{className:"w-5 h-5 text-purple-400 mr-3 shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-purple-200 font-bold",children:"Administrador"}),i.jsx("p",{className:"text-xs text-purple-200/70 mt-1",children:"Acesso total  gesto de casas."})]})]}),a&&v&&i.jsxs("div",{className:"mx-4 mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[i.jsx("p",{className:"text-xs text-blue-200 font-bold uppercase mb-1",children:"Visualizando"}),i.jsx("p",{className:"text-sm text-white font-medium truncate",children:j}),i.jsx("button",{onClick:_,className:"mt-2 text-xs text-blue-300 hover:text-white underline",children:"Sair da visualizao"})]}),i.jsxs("nav",{className:"flex-1 px-4 py-8 space-y-2",children:[i.jsx("p",{className:"px-4 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Principal"}),a&&!v?i.jsxs(Rn,{to:"/admin/casas",className:`flex items-center px-4 py-3.5 rounded-lg transition-all duration-200 group ${c("/admin/casas")?"bg-[#458C57] text-white shadow-lg shadow-[#404040]/20":"text-[#A4A5A6] hover:bg-[#A4A5A6]/10 hover:text-white"}`,children:[i.jsx(Ro,{className:`w-5 h-5 mr-3 ${c("/admin/casas")?"text-white":"text-[#A4A5A6] group-hover:text-white"}`}),i.jsx("span",{className:"font-medium",children:"Gesto de Casas"})]}):i.jsxs(i.Fragment,{children:[i.jsxs(Rn,{to:"/",className:`flex items-center px-4 py-3.5 rounded-lg transition-all duration-200 group ${c("/")?"bg-[#458C57] text-white shadow-lg shadow-[#404040]/20":"text-[#A4A5A6] hover:bg-[#A4A5A6]/10 hover:text-white"}`,children:[i.jsx(qN,{className:`w-5 h-5 mr-3 ${c("/")?"text-white":"text-[#A4A5A6] group-hover:text-white"}`}),i.jsx("span",{className:"font-medium",children:"Dashboard"})]}),!v&&i.jsxs(Rn,{to:"/cadastro-crianca",className:`flex items-center px-4 py-3.5 rounded-lg transition-all duration-200 group ${c("/cadastro-crianca")?"bg-[#458C57] text-white shadow-lg shadow-[#404040]/20":"text-[#A4A5A6] hover:bg-[#A4A5A6]/10 hover:text-white"}`,children:[i.jsx(g3,{className:`w-5 h-5 mr-3 ${c("/cadastro-crianca")?"text-white":"text-[#A4A5A6] group-hover:text-white"}`}),i.jsx("span",{className:"font-medium",children:"Cadastro Criana"})]}),!v&&i.jsxs(Rn,{to:"/novo-acolhimento",className:`flex items-center px-4 py-3.5 rounded-lg transition-all duration-200 group ${c("/novo-acolhimento")?"bg-[#458C57] text-white shadow-lg shadow-[#404040]/20":"text-[#A4A5A6] hover:bg-[#A4A5A6]/10 hover:text-white"}`,children:[i.jsx(lc,{className:`w-5 h-5 mr-3 ${c("/novo-acolhimento")?"text-white":"text-[#A4A5A6] group-hover:text-white"}`}),i.jsx("span",{className:"font-medium",children:"Novo Relatrio PIA"})]}),i.jsxs(Rn,{to:"/relatorios",className:`flex items-center px-4 py-3.5 rounded-lg transition-all duration-200 group ${c("/relatorios")?"bg-[#458C57] text-white shadow-lg shadow-[#404040]/20":"text-[#A4A5A6] hover:bg-[#A4A5A6]/10 hover:text-white"}`,children:[i.jsx(lc,{className:`w-5 h-5 mr-3 ${c("/relatorios")?"text-white":"text-[#A4A5A6] group-hover:text-white"}`}),i.jsx("span",{className:"font-medium",children:"Relatrios Tcnicos"})]}),i.jsxs(Rn,{to:"/agenda",className:`flex items-center px-4 py-3.5 rounded-lg transition-all duration-200 group ${c("/agenda")?"bg-[#458C57] text-white shadow-lg shadow-[#404040]/20":"text-[#A4A5A6] hover:bg-[#A4A5A6]/10 hover:text-white"}`,children:[i.jsx(rf,{className:`w-5 h-5 mr-3 ${c("/agenda")?"text-white":"text-[#A4A5A6] group-hover:text-white"}`}),i.jsx("span",{className:"font-medium",children:"Agenda"})]}),i.jsxs(Rn,{to:"/comunidade",className:`flex items-center px-4 py-3.5 rounded-lg transition-all duration-200 group ${c("/comunidade")?"bg-[#458C57] text-white shadow-lg shadow-[#404040]/20":"text-[#A4A5A6] hover:bg-[#A4A5A6]/10 hover:text-white"}`,children:[i.jsx(Gh,{className:`w-5 h-5 mr-3 ${c("/comunidade")?"text-white":"text-[#A4A5A6] group-hover:text-white"}`}),i.jsx("span",{className:"font-medium",children:"Comunidade"})]})]})]}),i.jsxs("div",{className:"p-4 border-t border-[#A4A5A6]/20 bg-[#404040]",children:[i.jsxs("div",{className:"flex items-center mb-4 px-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-[#A4A5A6]/10 flex items-center justify-center text-[#88F2A2] border border-[#A4A5A6]/20",children:i.jsx(Ro,{size:20})}),i.jsxs("div",{className:"ml-3 overflow-hidden",children:[i.jsx("p",{className:"text-sm font-semibold text-white truncate",children:a?"Administrador":d||"Carregando..."}),i.jsx("p",{className:"text-xs text-[#A4A5A6] truncate",children:a?"Gesto Central":e?"Usurio Demo":f||"Acesso Seguro"})]})]}),i.jsxs("button",{onClick:n,className:"flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-[#A4A5A6] bg-[#A4A5A6]/10 hover:bg-red-900/30 hover:text-red-400 rounded-md transition-colors border border-[#A4A5A6]/20 hover:border-red-900/50",children:[i.jsx(y2,{className:"w-4 h-4 mr-2"}),"Encerrar Sesso"]})]})]}),i.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden bg-slate-100 h-full relative",children:[i.jsxs("header",{className:"md:hidden h-16 bg-[#404040] text-white flex items-center justify-between px-4 shadow-md shrink-0",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:kd,alt:"Logo PIA",className:"h-8 w-auto mr-2 object-contain"}),i.jsx("span",{className:"font-bold",children:"Curitiba Acolhe"})]}),i.jsx("button",{onClick:n,className:"text-[#A4A5A6] hover:text-white",children:i.jsx(y2,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"hidden md:flex h-16 bg-white border-b border-slate-200 items-center justify-between px-8 shadow-sm shrink-0",children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[c("/")&&"Viso Geral",c("/novo-acolhimento")&&"Cadastro de Admisso",c("/cadastro-crianca")&&"Cadastro de Criana/Adolescente",c("/relatorios")&&"Gesto de Relatrios",c("/agenda")&&"Agenda de Compromissos",c("/comunidade")&&"Comunidade Inter-Lares"]}),i.jsx("div",{className:"flex items-center space-x-4",children:i.jsx("span",{className:"text-sm text-slate-500 bg-slate-100 px-3 py-1 rounded-full border border-slate-200",children:"v1.0.0-mvp"})})]}),i.jsxs("div",{className:"flex-1 overflow-auto p-4 md:p-8 relative flex flex-col",children:[i.jsx("div",{className:"flex-1",children:i.jsx(V5,{})}),i.jsxs("div",{className:"mt-12 pt-6 border-t border-slate-200/60 text-right opacity-80",children:[i.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Desenvolvido por P-SEP-AR - GESTO 2025/2026"}),i.jsx("p",{className:"text-[10px] text-slate-400 mb-2",children:"Assessoria de Recursos aos Tribunais Superiores (STF e STJ) da Secretaria Especial da Presidncia"}),i.jsxs("div",{className:"text-[10px] text-slate-400 flex flex-col items-end gap-0.5",children:[i.jsx("span",{children:"Elvertoni Martelli Coimbra"}),i.jsx("span",{className:"font-black text-slate-700 text-xs",children:"Lus Gustavo Arruda Lanoni"}),i.jsx("span",{children:"Narley Almeida de Sousa"}),i.jsx("span",{children:"Rodrigo Louzano"})]})]})]})]})]})},m6=()=>{const[n,e]=ae.useState(null),[a,s]=ae.useState(!1),[l,c]=ae.useState(!1),[d,h]=ae.useState(!0);ae.useEffect(()=>{const _=document.querySelector("link[rel~='icon']");if(_)_.href=kd;else{const O=document.createElement("link");O.rel="icon",O.href=kd,document.head.appendChild(O)}document.title="Curitiba Acolhe";const y=localStorage.getItem("demo_mode")==="true";if(localStorage.getItem("admin_mode")==="true"?c(!0):y&&s(!0),!Ym()){h(!1);return}Ge.auth.getSession().then(({data:{session:O}})=>{e(O),h(!1)});const{data:{subscription:k}}=Ge.auth.onAuthStateChange((O,L)=>{e(L)});return()=>k.unsubscribe()},[]);const f=()=>{localStorage.setItem("demo_mode","true"),s(!0)},p=()=>{localStorage.setItem("admin_mode","true"),c(!0),s(!1)},v=async()=>{localStorage.removeItem("demo_mode"),localStorage.removeItem("admin_mode"),s(!1),c(!1),Ym()&&(await Ge.auth.signOut(),e(null))};if(!Ym()&&!a&&!l)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8 border-l-4 border-red-600",children:[i.jsxs("div",{className:"flex items-center mb-4 text-red-600",children:[i.jsx(cp,{className:"w-8 h-8 mr-2"}),i.jsx("h1",{className:"text-xl font-bold",children:"Configurao Necessria"})]}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Para executar este MVP conectado ao banco, configure as variveis de ambiente."}),i.jsx("div",{className:"mt-6 flex justify-center",children:i.jsx("button",{onClick:f,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-md text-sm font-medium",children:"Entrar em Modo Demonstrao (Sem Banco)"})})]})});if(d)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#458C57]"})});const j=n||a||l;return i.jsx(xw,{children:i.jsxs(Y5,{children:[i.jsx(en,{path:"/login",element:j?i.jsx(kh,{to:l?"/admin/casas":"/",replace:!0}):i.jsx(y3,{onDemoLogin:f,onAdminLogin:p})}),i.jsx(en,{path:"/cadastro-convite",element:i.jsx(h6,{})}),i.jsxs(en,{element:j?i.jsx(f6,{onLogout:v,isDemo:a,isAdmin:l}):i.jsx(kh,{to:"/login",replace:!0}),children:[l?i.jsxs(i.Fragment,{children:[i.jsx(en,{path:"/admin/casas",element:i.jsx(d6,{isDemo:a})}),i.jsx(en,{path:"/",element:i.jsx(_2,{isDemo:a})}),i.jsx(en,{path:"/novo-acolhimento",element:i.jsx(N2,{isDemo:a})}),i.jsx(en,{path:"/cadastro-crianca",element:i.jsx(j2,{isDemo:a})}),i.jsx(en,{path:"/acolhido/:id",element:i.jsx(zb,{isDemo:a})}),i.jsx(en,{path:"/relatorios",element:i.jsx(S2,{isDemo:a})}),i.jsx(en,{path:"/agenda",element:i.jsx(Hb,{isDemo:a})}),i.jsx(en,{path:"/comunidade",element:i.jsx(Fb,{isDemo:a})}),i.jsx(en,{path:"/equipe",element:i.jsx($b,{isDemo:a})}),i.jsx(en,{path:"/gestao-casa",element:i.jsx(Vb,{})})]}):i.jsxs(i.Fragment,{children:[i.jsx(en,{path:"/",element:i.jsx(_2,{isDemo:a})}),i.jsx(en,{path:"/novo-acolhimento",element:i.jsx(N2,{isDemo:a})}),i.jsx(en,{path:"/cadastro-crianca",element:i.jsx(j2,{isDemo:a})}),i.jsx(en,{path:"/acolhido/:id",element:i.jsx(zb,{isDemo:a})}),i.jsx(en,{path:"/relatorios",element:i.jsx(S2,{isDemo:a})}),i.jsx(en,{path:"/agenda",element:i.jsx(Hb,{isDemo:a})}),i.jsx(en,{path:"/comunidade",element:i.jsx(Fb,{isDemo:a})}),i.jsx(en,{path:"/equipe",element:i.jsx($b,{isDemo:a})}),i.jsx(en,{path:"/gestao-casa",element:i.jsx(Vb,{})})]}),l&&i.jsx(en,{path:"*",element:i.jsx(kh,{to:"/admin/casas",replace:!0})})]}),i.jsx(en,{path:"*",element:i.jsx(kh,{to:"/login",replace:!0})})]})})},Sv=document.getElementById("root");if(!Sv)throw new Error("Could not find root element to mount to");const p6=Gy.createRoot(Sv);p6.render(i.jsx(Uy.StrictMode,{children:i.jsx(m6,{})}));export{Da as _,b6 as c,Gb as g};
